{"version":3,"sources":["./node_modules/@ionic/core/dist/esm-es5 lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/app.component.html","./src/app/home/contact/contact.component.html","./src/app/home/header/header.component.html","./src/app/home/home.page.html","./src/app/home/terms-of-service/terms-of-service.component.html","./src/app/incentive/aquarium/aquarium.component.html","./src/app/incentive/aquarium/cheatpage/cheatpage.component.html","./src/app/incentive/aquarium/demo-aquarium/demo-aquarium.component.html","./src/app/incentive/aquarium/modal-unlocked-page/modal-unlocked-page.component.html","./src/app/incentive/aquarium/previews/fishbowl/fishbowl.component.html","./src/app/incentive/aquarium/previews/rainforest/rainforest.component.html","./src/app/incentive/aquarium/previews/sea/sea.component.html","./src/app/incentive/aquarium/previews/tundra/tundra.component.html","./src/app/incentive/award-altruism/award-altruism.component.html","./src/app/incentive/award-memes/award-memes.component.html","./src/app/incentive/info-page/info-page.component.html","./src/app/incentive/life-insights/q1-motivated/q1-motivated.component.html","./src/app/incentive/life-insights/sample-life-insights/sample-life-insights.component.html","./src/app/incentive/treasurechest/treasurechest.component.html","./src/app/incentive/unlocked-altuistic-messages/unlocked-altuistic-messages.component.html","./src/app/incentive/unlocked-inspirational-quotes/unlocked-inspirational-quotes.component.html","./src/app/incentive/unlocked-memes/unlocked-memes.component.html","./src/app/survey/aya-sample-survey/aya-sample-survey.component.html","./src/app/survey/dynamic-survey/dynamic-survey.component.html","./src/app/survey/sample-survey/sample-survey.component.html","./src/app/user/auth/auth.component.html","./node_modules/zone.js/dist/zone.js","./src/$_lazy_route_resource lazy namespace object","./src/app/animations/modal_enter.ts","./src/app/animations/modal_leave.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/error_handler/GlobalErrorHandler.ts","./src/app/home/contact/contact.component.css","./src/app/home/contact/contact.component.ts","./src/app/home/header/header.component.scss","./src/app/home/header/header.component.ts","./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/home/terms-of-service/terms-of-service.component.scss","./src/app/home/terms-of-service/terms-of-service.component.ts","./src/app/incentive/action-types.ts","./src/app/incentive/aquarium/aquarium.component.css","./src/app/incentive/aquarium/aquarium.component.ts","./src/app/incentive/aquarium/aquarium.module.ts","./src/app/incentive/aquarium/cheatpage/cheatpage.component.scss","./src/app/incentive/aquarium/cheatpage/cheatpage.component.ts","./src/app/incentive/aquarium/demo-aquarium/demo-aquarium.component.less","./src/app/incentive/aquarium/demo-aquarium/demo-aquarium.component.ts","./src/app/incentive/aquarium/levels/FishBowlL1/Boot.js","./src/app/incentive/aquarium/levels/FishBowlL1/Game.js","./src/app/incentive/aquarium/levels/FishBowlL1/Preloader.js","./src/app/incentive/aquarium/levels/FishBowlL2/Boot.js","./src/app/incentive/aquarium/levels/FishBowlL2/Game.js","./src/app/incentive/aquarium/levels/FishBowlL2/Preloader.js","./src/app/incentive/aquarium/levels/GameOver/Boot.js","./src/app/incentive/aquarium/levels/GameOver/GameOver.js","./src/app/incentive/aquarium/levels/GameOver/Preloader.js","./src/app/incentive/aquarium/levels/RainforestL6/Boot.js","./src/app/incentive/aquarium/levels/RainforestL6/Game.js","./src/app/incentive/aquarium/levels/RainforestL6/Preloader.js","./src/app/incentive/aquarium/levels/SeaLevelL3/Boot.js","./src/app/incentive/aquarium/levels/SeaLevelL3/Game.js","./src/app/incentive/aquarium/levels/SeaLevelL3/Preloader.js","./src/app/incentive/aquarium/levels/SeaLevelL4/Boot.js","./src/app/incentive/aquarium/levels/SeaLevelL4/Game.js","./src/app/incentive/aquarium/levels/SeaLevelL4/Preloader.js","./src/app/incentive/aquarium/levels/TundraLevelL5/Boot.js","./src/app/incentive/aquarium/levels/TundraLevelL5/Game.js","./src/app/incentive/aquarium/levels/TundraLevelL5/Preloader.js","./src/app/incentive/aquarium/levels/TundraLevelL51/Boot.js","./src/app/incentive/aquarium/levels/TundraLevelL51/Game.js","./src/app/incentive/aquarium/levels/TundraLevelL51/Preloader.js","./src/app/incentive/aquarium/modal-unlocked-page/modal-unlocked-page.component.scss","./src/app/incentive/aquarium/modal-unlocked-page/modal-unlocked-page.component.ts","./src/app/incentive/aquarium/previews/fishbowl/fishbowl.component.css","./src/app/incentive/aquarium/previews/fishbowl/fishbowl.component.ts","./src/app/incentive/aquarium/previews/rainforest/rainforest.component.css","./src/app/incentive/aquarium/previews/rainforest/rainforest.component.ts","./src/app/incentive/aquarium/previews/sea/sea.component.css","./src/app/incentive/aquarium/previews/sea/sea.component.ts","./src/app/incentive/aquarium/previews/tundra/tundra.component.css","./src/app/incentive/aquarium/previews/tundra/tundra.component.ts","./src/app/incentive/award-altruism/award-altruism.component.scss","./src/app/incentive/award-altruism/award-altruism.component.ts","./src/app/incentive/award-memes/award-memes.component.scss","./src/app/incentive/award-memes/award-memes.component.ts","./src/app/incentive/award-money/award-dollar.service.ts","./src/app/incentive/incentive.actions.ts","./src/app/incentive/incentive.module.ts","./src/app/incentive/incentive.selectors.ts","./src/app/incentive/info-page/info-page.component.scss","./src/app/incentive/info-page/info-page.component.ts","./src/app/incentive/life-insights/life-insights.module.ts","./src/app/incentive/life-insights/q1-motivated/q1-motivated.component.scss","./src/app/incentive/life-insights/q1-motivated/q1-motivated.component.ts","./src/app/incentive/life-insights/sample-life-insights/sample-life-insights.component.scss","./src/app/incentive/life-insights/sample-life-insights/sample-life-insights.component.ts","./src/app/incentive/reducers/index.ts","./src/app/incentive/treasurechest/treasurechest.component.scss","./src/app/incentive/treasurechest/treasurechest.component.ts","./src/app/incentive/unlocked-altuistic-messages/unlocked-altuistic-messages.component.css","./src/app/incentive/unlocked-altuistic-messages/unlocked-altuistic-messages.component.ts","./src/app/incentive/unlocked-inspirational-quotes/unlocked-inspirational-quotes.component.css","./src/app/incentive/unlocked-inspirational-quotes/unlocked-inspirational-quotes.component.ts","./src/app/incentive/unlocked-memes/unlocked-memes.component.css","./src/app/incentive/unlocked-memes/unlocked-memes.component.ts","./src/app/monitor/database.service.ts","./src/app/notification/notification.module.ts","./src/app/notification/one-signal.service.ts","./src/app/reducers/index.ts","./src/app/storage/aws-s3.service.ts","./src/app/storage/encrdecrservice.service.ts","./src/app/storage/network.service.ts","./src/app/storage/storage-base.service.ts","./src/app/storage/storage.module.ts","./src/app/storage/store-to-firebase.service.ts","./src/app/survey/action-types.ts","./src/app/survey/aya-sample-survey/aya-sample-survey.component.scss","./src/app/survey/aya-sample-survey/aya-sample-survey.component.ts","./src/app/survey/dynamic-survey/dynamic-survey.component.scss","./src/app/survey/dynamic-survey/dynamic-survey.component.ts","./src/app/survey/reducers/index.ts","./src/app/survey/sample-survey/sample-survey.component.scss","./src/app/survey/sample-survey/sample-survey.component.ts","./src/app/survey/survey.actions.ts","./src/app/survey/survey.effects.ts","./src/app/survey/survey.module.ts","./src/app/user/auth/auth.component.scss","./src/app/user/auth/auth.component.ts","./src/app/user/auth/auth.guard.ts","./src/app/user/auth/auth.service.ts","./src/app/user/auth/loading-spinner/loading-spinner.component.css","./src/app/user/auth/loading-spinner/loading-spinner.component.ts","./src/app/user/auth/token.interceptor.ts","./src/app/user/user-profile/user-profile.model.ts","./src/app/user/user-profile/user-profile.service.ts","./src/app/user/user.module.ts","./src/environments/environment.ts","./src/main.ts","./src/polyfills.ts","./src/zone-flags.ts","fs (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;ACtZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;ACnRA,yiBAAyiB,iMAAiM,KAAK,UAAU,yNAAyN,yLAAyL,qGAAqG,kBAAkB,yoC;;;;;;;;;;;ACAlwC,kKAAkK,sGAAsG,yWAAyW,8JAA8J,uKAAuK,sE;;;;;;;;;;;ACAt7B,krD;;;;;;;;;;;ACAA,yIAAyI,6EAA6E,kGAAkG,qDAAqD,6GAA6G,+GAA+G,qDAAqD,8GAA8G,mHAAmH,qDAAqD,mHAAmH,kHAAkH,qDAAqD,oHAAoH,gGAAgG,qDAAqD,iIAAiI,+EAA+E,qDAAqD,yX;;;;;;;;;;;ACA5rD,kHAAkH,slDAAslD,uDAAuD,0F;;;;;;;;;;;ACA/vD,oKAAoK,+FAA+F,iNAAiN,iMAAiM,0GAA0G,uJAAuJ,2KAA2K,kKAAkK,yNAAyN,OAAO,oEAAoE,0OAA0O,4FAA4F,wRAAwR,uMAAuM,wFAAwF,YAAY,2FAA2F,sJAAsJ,yLAAyL,KAAK,OAAO,s2B;;;;;;;;;;;ACAt0F,4fAA4f,eAAe,0N;;;;;;;;;;;ACA3gB,0PAA0P,WAAW,mNAAmN,iBAAiB,eAAe,kBAAkB,cAAc,oGAAoG,mBAAmB,kBAAkB,sBAAsB,UAAU,ytC;;;;;;;;;;;ACAjsB,oSAAoS,mBAAmB,8EAA8E,sBAAsB,uBAAuB,oBAAoB,0P;;;;;;;;;;;ACAtc,oKAAoK,sGAAsG,4LAA4L,qO;;;;;;;;;;;ACAtc,4NAA4N,iGAAiG,0PAA0P,gP;;;;;;;;;;;ACAvjB,kKAAkK,sGAAsG,mPAAmP,uO;;;;;;;;;;;ACA3f,oKAAoK,sGAAsG,sPAAsP,4O;;;;;;;;;;;ACAhgB,sVAAsV,kBAAkB,oBAAoB,oJAAoJ,WAAW,UAAU,kCAAkC,YAAY,mDAAmD,2EAA2E,YAAY,gBAAgB,wBAAwB,mBAAmB,mGAAmG,oBAAoB,SAAS,QAAQ,YAAY,k+BAAk+B,uBAAuB,aAAa,yCAAyC,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,4GAA4G,YAAY,qEAAqE,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,0GAA0G,YAAY,mE;;;;;;;;;;;ACA1/E,mWAAmW,kBAAkB,oBAAoB,4EAA4E,kBAAkB,oBAAoB,gKAAgK,YAAY,gBAAgB,wBAAwB,mBAAmB,+FAA+F,WAAW,UAAU,kCAAkC,YAAY,uDAAuD,6EAA6E,YAAY,gBAAgB,wBAAwB,mBAAmB,qGAAqG,oBAAoB,SAAS,QAAQ,YAAY,0hCAA0hC,uBAAuB,aAAa,2CAA2C,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,gHAAgH,YAAY,yEAAyE,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,8GAA8G,YAAY,uE;;;;;;;;;;;ACAz3F,4JAA4J,kGAAkG,+KAA+K,+BAA+B,uOAAuO,aAAa,gPAAgP,+BAA+B,2MAA2M,aAAa,iQAAiQ,+BAA+B,8MAA8M,aAAa,0JAA0J,gCAAgC,oNAAoN,aAAa,4GAA4G,aAAa,8NAA8N,8BAA8B,6DAA6D,YAAY,aAAa,mBAAmB,iBAAiB,kBAAkB,uCAAuC,eAAe,8HAA8H,eAAe,yCAAyC,cAAc,SAAS,uEAAuE,cAAc,SAAS,uEAAuE,cAAc,SAAS,yEAAyE,cAAc,SAAS,2EAA2E,cAAc,SAAS,2EAA2E,6DAA6D,gBAAgB,iBAAiB,cAAc,+OAA+O,8BAA8B,sCAAsC,eAAe,8KAA8K,sEAAsE,gBAAgB,kE;;;;;;;;;;;ACA57H,8TAA8T,iBAAiB,kBAAkB,oBAAoB,gEAAgE,iBAAiB,kBAAkB,oBAAoB,oHAAoH,QAAQ,UAAU,aAAa,6BAA6B,QAAQ,oBAAoB,YAAY,yFAAyF,+BAA+B,oBAAoB,yGAAyG,SAAS,8DAA8D,kBAAkB,eAAe,oBAAoB,aAAa,mBAAmB,gCAAgC,aAAa,mBAAmB,iBAAiB,4GAA4G,QAAQ,wDAAwD,aAAa,2MAA2M,yFAAyF,kBAAkB,eAAe,oBAAoB,mBAAmB,gCAAgC,aAAa,mBAAmB,iBAAiB,+H;;;;;;;;;;;ACA5xD,yEAAyE,aAAa,ycAAyc,iBAAiB,kBAAkB,oBAAoB,sEAAsE,iBAAiB,kBAAkB,oBAAoB,qTAAqT,eAAe,6KAA6K,QAAQ,UAAU,aAAa,mCAAmC,QAAQ,oBAAoB,YAAY,qGAAqG,+BAA+B,oBAAoB,qHAAqH,SAAS,gFAAgF,kBAAkB,eAAe,oBAAoB,aAAa,mBAAmB,gCAAgC,aAAa,mBAAmB,iBAAiB,0IAA0I,QAAQ,wDAAwD,aAAa,+OAA+O,2GAA2G,kBAAkB,eAAe,oBAAoB,mBAAmB,gCAAgC,aAAa,mBAAmB,iBAAiB,gPAAgP,uBAAuB,aAAa,mDAAmD,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,gIAAgI,YAAY,yFAAyF,aAAa,mBAAmB,uBAAuB,kBAAkB,eAAe,WAAW,mBAAmB,8HAA8H,YAAY,2G;;;;;;;;;;;ACAt6G,4JAA4J,kGAAkG,oJAAoJ,+DAA+D,KAAK,eAAe,iDAAiD,uBAAuB,iBAAiB,6CAA6C,yEAAyE,SAAS,OAAO,oBAAoB,YAAY,WAAW,qEAAqE,kBAAkB,oBAAoB,cAAc,qGAAqG,SAAS,OAAO,oBAAoB,YAAY,WAAW,wFAAwF,uBAAuB,iBAAiB,2GAA2G,SAAS,YAAY,sDAAsD,iD;;;;;;;;;;;ACA9zC,4JAA4J,kGAAkG,2MAA2M,KAAK,0BAA0B,kKAAkK,0BAA0B,YAAY,mFAAmF,eAAe,4jBAA4jB,mpBAAmpB,6H;;;;;;;;;;;ACAj+D,kKAAkK,sGAAsG,gMAAgM,8YAA8Y,uBAAuB,aAAa,wBAAwB,iBAAiB,wG;;;;;;;;;;;ACAn6B,kKAAkK,sGAAsG,gMAAgM,KAAK,mBAAmB,kJAAkJ,0BAA0B,YAAY,mFAAmF,eAAe,4jBAA4jB,mpBAAmpB,6H;;;;;;;;;;;ACAz8D,iLAAiL,6EAA6E,kV;;;;;;;;;;;ACA9P,u2C;;;;;;;;;;;ACAA,iLAAiL,6EAA6E,s0C;;;;;;;;;;;ACA9P,kHAAkH,iKAAiK,kQAAkQ,OAAO,iHAAiH,g1BAAg1B,uFAAuF,mCAAmC,yJAAyJ,mCAAmC,+J;;;;;;;;;;;ACAnxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,KAA4D;AAC7D,CAAC,SACW;AACZ,CAAC,qBAAqB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAiE,+CAA+C,EAAE;AAClH;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,4DAA4D,0CAA0C;AACtG;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,uCAAuC,0BAA0B,EAAE;AACnE;AACA;AACA;AACA,wCAAwC,6DAA6D,EAAE;AACvG,uCAAuC,WAAW,EAAE;AACpD;AACA,kCAAkC,aAAa,EAAE;AACjD,oCAAoC,WAAW,EAAE;AACjD,gCAAgC,aAAa,EAAE;AAC/C,qCAAqC,aAAa,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,0CAA0C,aAAa,EAAE;AACzD,iCAAiC,cAAc,EAAE;AACjD,uCAAuC,kBAAkB,EAAE;AAC3D,2CAA2C,aAAa,EAAE;AAC1D,qDAAqD,kBAAkB,EAAE;AACzE,mCAAmC,kBAAkB,EAAE;AACvD,iCAAiC,WAAW,EAAE;AAC9C,iCAAiC,aAAa,EAAE;AAChD,0CAA0C,aAAa,EAAE;AACzD,uCAAuC,WAAW,EAAE;AACpD,4CAA4C,aAAa,EAAE;AAC3D,wCAAwC,aAAa,EAAE;AACvD,qCAAqC,aAAa;AAClD;AACA,6BAA6B;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HAA4H,wBAAwB,oCAAoC;AACxL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,sEAAsE;AACtJ;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oDAAoD;AAC5F;AACA;AACA;AACA;AACA;AACA,2BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qEAAqE,gBAAgB;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,kBAAkB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,mFAAmF,kBAAkB;AACrG;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,EAAE;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,oCAAoC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,sBAAsB;AAChE,qCAAqC,iBAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,8BAA8B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,0BAA0B,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,6BAA6B,EAAE;AACpF;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sDAAsD;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAE;AACP,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,+BAA+B,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,gBAAgB;AACrF;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA,6CAA6C,6BAA6B;AAC1E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,0CAA0C;AAC5G;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;ACl5GD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AClBA;AAAA;AAAO,SAAS,gBAAgB,CAAC,UAAqB,EAAE,MAAmB;IAEvE,IAAM,aAAa,GAAG,IAAI,UAAU,EAAE,CAAC;IAEvC,IAAM,iBAAiB,GAAG,IAAI,UAAU,EAAE,CAAC;IAC3C,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;IAEnE,IAAM,gBAAgB,GAAG,IAAI,UAAU,EAAE,CAAC;IAC1C,gBAAgB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QAAQ,EAAE,mBAAmB;YAC7B,4LAA6C;;SAE9C,CAAC;QAEF,oBAAoB;;+EAiGU,uDAAM;YACb,+DAAe;YACT,+DAAe;YAEtB,wDAAQ;YACX,+DAAc;YACD,kGAAkB;YAC1B,gEAAU;OAvGrB,qBAAqB,CA0ejC;IAAD,4BAAC;CAAA;AA1eiC;;;;;;;;;;;;;AC/DlC;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC1BA;AAAA;AAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;;AAEA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,K;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,mB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;;AAEA,uB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;;AAEA,wB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mC;AACA;;AAEA,uB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oC;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA,mB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;AACA,C;;;;;;;;;;;;AC3oBA;AAAA;AAAO;;AAEP;;AAEA,6C;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;;AAEA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qEAAqE;AACrE;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,4D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AClIA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC7BA;AAAA;AAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,4DAA4D,+CAA+C;AAC3G;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,2D;AACA;;;;AAIA;AACA;AACA;;;;;;AAMA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;;AAGA,K;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,mB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;;AAEA,uB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;;AAEA,wB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;;AAE7C;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oC;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA,mB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,K;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;AACA,C;;;;;;;;;;;;ACtzBA;AAAA;AAAO;;AAEP;;AAEA,6C;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,yCAAyC;AACxE,8DAA8D;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qEAAqE;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,4D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,4D;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC5IA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC1BA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACpBA;AAAA;AAAO;;AAEP;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxBA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC7BA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;;;AAIA;;;AAGA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6C;;AAEA;AACA,wC;;AAEA;AACA,4C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;;AAEA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,8DAA8D,2CAA2C;AACzG,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA;AACA,mFAAmF;AACnF,sCAAsC,iBAAiB;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,K;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA,C;;;;;;;;;;;;ACp6BA;AAAA;AAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;;;AAGA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,GAAG;;;;;AAKH;;AAEA;AACA,2F;AACA,2F;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACpIA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC7BA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qCAAqC;;AAErC,oCAAoC;AACpC,0CAA0C;AAC1C,qCAAqC;;AAErC;;AAEA;AACA,cAAc;AACd,gEAAgE;;AAEhE,wDAAwD;AACxD,4BAA4B;AAC5B,+BAA+B;AAC/B,kCAAkC;;AAElC,gCAAgC,cAAc;AAC9C,kBAAkB;AAClB,iEAAiE;;AAEjE;AACA,kDAAkD;;AAElD;AACA,gDAAgD;AAChD,kBAAkB;;AAElB,sCAAsC;AACtC,mCAAmC;;AAEnC,6DAA6D;;AAE7D,4DAA4D;;AAE5D,yCAAyC;AACzC,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA,+CAA+C,uBAAuB;AACtE;;AAEA;;AAEA,kB;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,qCAAqC,UAAU;AAC/C,kD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE,4CAA4C;AAC/G;AACA;;AAEA;AACA,4EAA4E,4CAA4C;AACxH;AACA;AACA;AACA;;;AAGA;AACA,2FAA2F,4CAA4C;AACvI;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,qCAAqC,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA,+CAA+C,2BAA2B;AAC1E;AACA;;AAEA,iB;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,qCAAqC,UAAU;AAC/C,kD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE,4CAA4C;AAC/G;AACA;;AAEA;AACA,2EAA2E,4CAA4C;AACvH;AACA;AACA;AACA;;;AAGA;AACA,2FAA2F,4CAA4C;AACvI;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,e;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oB;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;;AAE/C;;;AAGA,iB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,e;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,gB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,qCAAqC,UAAU;AAC/C,kD;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,6BAA6B;AACnE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,uCAAuC,UAAU;AACjD,qCAAqC,4DAA4D;AACjG,kD;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,6BAA6B;AACrE,sCAAsC,iFAAiF;AACvH;AACA;;AAEA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,uCAAuC,UAAU;AACjD,qCAAqC,UAAU;AAC/C,kD;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,6BAA6B;AACrE,sCAAsC,6BAA6B;AACnE;AACA,SAAS;AACT,K;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC,yBAAyB;AAC3D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;ACpsCA;AAAA;AAAO;;AAEP;;AAEA,6C;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;;AAEA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qEAAqE;AACrE;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA;;AAEA;AACA,C;;;;;;;;;;;;AC1IA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC7BA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA,mC;;AAEA,SAAS;;;AAGT;AACA,yEAAyE;AACzE;AACA;AACA;;AAEA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,K;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA,qCAAqC,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA,+CAA+C,uBAAuB;AACtE;;AAEA;;AAEA,kB;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,qCAAqC,UAAU;AAC/C,kD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE,4CAA4C;AAC/G;AACA;;AAEA;AACA,4EAA4E,4CAA4C;AACxH;AACA;AACA;AACA;;;AAGA;AACA,2FAA2F,4CAA4C;AACvI;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA,qCAAqC,2BAA2B;;AAEhE;AACA;AACA;AACA;AACA;AACA,+CAA+C,2BAA2B;AAC1E;AACA;;;;AAIA,iB;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE,4CAA4C;AAC/G;AACA;;AAEA;AACA,2EAA2E,4CAA4C;AACvH;AACA;AACA;AACA;;;AAGA;AACA,2FAA2F,4CAA4C;AACvI;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,gB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,kB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,e;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;;;AAGA,iB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,gB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,e;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA,mB;AACA;AACA;AACA;AACA;AACA;;;AAGA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,gB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,uCAAuC,UAAU;AACjD,qCAAqC,4DAA4D;AACjG,kD;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,6BAA6B;AACrE,sCAAsC,iFAAiF;AACvH;AACA;AACA,K;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC,yBAAyB;AAC3D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,K;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;ACrmCA;AAAA;AAAO;;AAEP;;AAEA,6C;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;;AAEA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qEAAqE;AACrE;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA;;AAEA;AACA,C;;;;;;;;;;;;AC1IA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC9BA;AAAA;AAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;;;AAGA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,uC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;AAEA;AACA,2C;;AAEA;AACA,+C;;;AAGA;AACA,sC;;;AAGA;AACA,6C;;AAEA;AACA,uC;;;;AAIA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oC;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF,oCAAoC,2CAA2C;AAC/E;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,kCAAkC;AACnF,oCAAoC,0CAA0C;;;AAG9E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iCAAiC;AACxF,oCAAoC,gDAAgD;;AAEpF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF,oCAAoC,+CAA+C;;AAEnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,kCAAkC;AAC/F,oCAAoC,sDAAsD;;;AAG1F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kCAAkC;AAC3F,oCAAoC,sDAAsD;;;AAG1F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kCAAkC;AAC3F,oCAAoC,sDAAsD;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iCAAiC;AACxF,oCAAoC,gDAAgD;;AAEpF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF,oCAAoC,+CAA+C;AACnF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD;AAChG;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;;AAEA;AACA,kC;AACA;AACA,uCAAuC;AACvC;AACA,6DAA6D,2CAA2C;AACxG,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA,gFAAgF;AAChF,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;AAGA,mD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oFAAoF;AACpF,0CAA0C,iBAAiB;AAC3D;AACA,aAAa;AACb;AACA,sD;AACA;AACA;AACA;AACA,iEAAiE,2CAA2C;AAC5G,yCAAyC,gBAAgB;AACzD,sD;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;;AAEA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,6DAA6D,2CAA2C;AACxG,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA;AACA,kFAAkF;AAClF,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA,K;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxkCA;AAAA;AAAO;;AAEP;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;;AAEA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,aAAa;AACb;AACA;AACA;AACA;;AAEA,GAAG;;;;AAIH;AACA;AACA,qE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,C;;;;;;;;;;;;ACvJA;AAAA;AAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC9BA;AAAA;AAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,qDAAqD,Q;;;AAGnH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,Q;;;AAG7G,wBAAwB;AACxB,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAA2F,0CAA0C;AACrI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sDAAsD,iDAAiD,Q;AACvG;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,wDAAwD;AAC5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C,oEAAoE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;;;AAGA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,uC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;AAEA;AACA,2C;;AAEA;AACA,+C;;;AAGA;AACA,sC;;;AAGA;AACA,6C;;AAEA;AACA,uC;;;;AAIA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oC;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF,oCAAoC,2CAA2C;AAC/E;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,kCAAkC;AACnF,oCAAoC,0CAA0C;;;AAG9E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iCAAiC;AACxF,oCAAoC,gDAAgD;;AAEpF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF,oCAAoC,+CAA+C;;AAEnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,kCAAkC;AAC/F,oCAAoC,sDAAsD;;;AAG1F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kCAAkC;AAC3F,oCAAoC,sDAAsD;;;AAG1F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kCAAkC;AAC3F,oCAAoC,sDAAsD;;AAE1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,iCAAiC;AACxF,oCAAoC,gDAAgD;;AAEpF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF,oCAAoC,+CAA+C;AACnF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD;AAChG;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;;AAEA;AACA,kC;AACA;AACA,uCAAuC;AACvC;AACA,6DAA6D,2CAA2C;AACxG,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA,gFAAgF;AAChF,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;AAGA,mD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oFAAoF;AACpF,0CAA0C,iBAAiB;AAC3D;AACA,aAAa;AACb;AACA,sD;AACA;AACA;AACA;AACA,iEAAiE,2CAA2C;AAC5G,yCAAyC,gBAAgB;AACzD,sD;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;;AAEA;AACA,oC;AACA;AACA,uCAAuC;AACvC;AACA,6DAA6D,2CAA2C;AACxG,qCAAqC,gBAAgB;AACrD,kD;AACA;;AAEA;AACA;AACA;AACA,kFAAkF;AAClF,sCAAsC,iBAAiB;AACvD;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA,K;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA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","file":"main.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet-controller_8.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t5\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t10\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js\",\n\t\t13\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js\",\n\t\t14\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js\",\n\t\t23\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js\",\n\t\t28\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t33\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t35\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-menu_4-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-menu_4-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t42\n\t],\n\t\"./ion-nav_5.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-nav_5.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t43\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t44\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js\",\n\t\t0,\n\t\t\"common\",\n\t\t45\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t46\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t47\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t48\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t49\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t50\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t51\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t52\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t53\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t54\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t55\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js\",\n\t\t56\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t57\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t58\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t59\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t60\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t61\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t62\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t63\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js\",\n\t\t64\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js\",\n\t\t65\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t66\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js\",\n\t\t67\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js\",\n\t\t68\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t69\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t70\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js\",\n\t\t1\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js\",\n\t\t\"common\",\n\t\t71\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t72\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t73\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t74\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t75\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t76\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t77\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js\",\n\t\t78\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","module.exports = \"<ion-app> \\n  <app-terms-of-service *ngIf=\\\"!agreeToTerms\\\"></app-terms-of-service>\\n\\n\\n  <ion-menu content-id=\\\"menu\\\" side=\\\"start\\\" menuId=\\\"first\\\" type=\\\"overlay\\\" swipeEnabled=\\\"false\\\" *ngIf=\\\"agreeToTerms\\\">\\n    <!--\\n    <ion-header>\\n      <ion-toolbar>\\n        <ion-icon name=\\\"contact\\\"></ion-icon>\\n        <ion-title>mash_aya</ion-title>\\n      </ion-toolbar>\\n    </ion-header>\\n    -->\\n    <ion-content>\\n      \\n      <ion-header>\\n        <ion-toolbar>\\n          <br>\\n          <ion-avatar style=\\\"margin: auto;\\\">\\n            <img src=\\\"https://raw.githubusercontent.com/ionic-team/ionic-docs/master/src/demos/api/avatar/avatar.svg\\\">\\n          </ion-avatar>\\n          <h2 style=\\\"text-align: center;\\\">{{username}}</h2>\\n        </ion-toolbar>\\n      </ion-header>\\n\\n      \\n\\n      <ion-list>\\n        <ion-item [routerLink]=\\\"['/incentive/infopage']\\\">\\n          <ion-icon name=\\\"ios-help-circle\\\"></ion-icon>\\n          &nbsp; How this app works\\n        </ion-item>\\n\\n        <ion-item [routerLink]=\\\"['/contact-study-staff']\\\" *ngIf=\\\"isAYA\\\">\\n          <ion-icon name=\\\"call\\\"></ion-icon>\\n          &nbsp; Contact study staff\\n        </ion-item>\\n\\n\\n        <ion-item><br><br><h3 style=\\\"font-size: 16px;padding-top: 24px;\\\">Preview/review levels</h3></ion-item>\\n        <!--\\n          [routerLink]=\\\"['/preview/fishbowl']\\\"\\n        -->\\n        <ion-item (click)=\\\"showPreviewOfFishBowl()\\\"> \\n          <ion-label text-wrap>\\n            Level 1: Fishbowl\\n          </ion-label>\\n        </ion-item>\\n        <ion-item (click)=\\\"showPreviewOfSea()\\\">\\n          <ion-label text-wrap>\\n            Level 2: Sea\\n            <p>Unlocks at 1060 points</p>\\n          </ion-label>\\n        </ion-item>\\n        \\n        <ion-item  (click)=\\\"showPreviewOfTundra()\\\">\\n          <ion-label text-wrap>\\n            Level 3: Tundra\\n            <p>Unlocks at 2120 points</p>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item (click)=\\\"showPreviewOfRainforest()\\\">\\n          <ion-label text-wrap>\\n            Level 4: Rainforest\\n            <p>Unlocks at 3020 points</p>\\n          </ion-label>\\n        </ion-item>\\n        \\n      </ion-list>\\n    </ion-content>\\n  </ion-menu>\\n  <ion-router-outlet *ngIf=\\\"agreeToTerms && !isLoading\\\" id=\\\"menu\\\"></ion-router-outlet>\\n\\n  <!--\\n  <ion-router-outlet id=\\\"menu\\\"></ion-router-outlet>\\n  \\n  \\n  -->\\n</ion-app>\\n\\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Contact study staff</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n<h2>Annisa Ahmed</h2>\\n<br>\\n<p><b>Phone</b>: (267) 634-4490</p>\\n<p><b>Email:</b> ayaadapts@email.chop.edu</p>\\n\\n<ion-row>\\n    <ion-col>\\n        <ion-button color=\\\"primary\\\" href=\\\"tel:+2676344490\\\"><ion-icon name=\\\"call\\\"></ion-icon>&nbsp; Call</ion-button>\\n    </ion-col>\\n    <ion-col>\\n        <ion-button color=\\\"danger\\\" href=\\\"sms:2676344490\\\"><ion-icon name=\\\"chatboxes\\\"></ion-icon>&nbsp; SMS</ion-button>\\n    </ion-col>\\n    <ion-col>\\n        <ion-button color=\\\"dark\\\" href=\\\"mailto:ayaadapts@email.chop.edu\\\"><ion-icon name=\\\"mail\\\"></ion-icon>&nbsp; Email</ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n\\n</ion-content>\"","module.exports = \"<!-- \\n<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\"> -->\\n\\n          <!-- <nav class=\\\"navbar navbar-expand-sm bg-dark navbar-dark\\\"> -->\\n            <nav class=\\\"navbar navbar-expand-sm \\\">\\n                <!-- Brand -->\\n                <a class=\\\"navbar-nav mr-auto\\\" href=\\\"#\\\" *ngIf=\\\"isAuthenticated\\\">\\n                  <span class=\\\"nav-link\\\">\\n                <!-- <a class=\\\"navbar-brand\\\" href=\\\"#\\\" *ngIf=\\\"isAuthenticated\\\"> -->\\n                  <small> \\n                  User: <span [textContent]=\\\"userName\\\" ></span>\\n                  </small>\\n                </span>\\n                </a>\\n              \\n                <!-- <ion-button (click)=\\\"onTestButtonClicked()\\\">test</ion-button> -->\\n                <!-- Links -->\\n                <ul class=\\\"navbar-nav ml-auto\\\">\\n                  <li class=\\\"nav-item\\\" *ngIf=\\\"isAuthenticated\\\">\\n                    <a class=\\\"nav-link\\\" (click)=\\\"onLogout()\\\"><small>Logout</small></a>\\n                  </li>\\n\\n                  <!-- Dropdown -->\\n                  <!-- <li class=\\\"nav-item dropdown\\\">\\n                    <a class=\\\"nav-link dropdown-toggle\\\" href=\\\"#\\\" id=\\\"navbardrop\\\" data-toggle=\\\"dropdown\\\">\\n                      Dropdown link\\n                    </a>\\n                    <div class=\\\"dropdown-menu\\\">\\n                      <a class=\\\"dropdown-item\\\" href=\\\"#\\\">Link 1</a>\\n                      <a class=\\\"dropdown-item\\\" href=\\\"#\\\">Link 2</a>\\n                      <a class=\\\"dropdown-item\\\" href=\\\"#\\\">Link 3</a>\\n                    </div>\\n                  </li> -->\\n                </ul>\\n              </nav>\\n\\n              \\n\\n\"","module.exports = \"<!--\\n  <app-aquarium></app-aquarium>\\n-->\\n\\n<ion-tabs>\\n\\n  <ion-tab-bar slot=\\\"bottom\\\" style=\\\"background: #005486;\\\">\\n    \\n    <ion-tab-button tab=\\\"incentive\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding>\\n      <ion-icon src=\\\"/assets/img/fish_tab.svg\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Home</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"quotes\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding *ngIf=\\\"isAYA\\\">\\n      <ion-icon src=\\\"/assets/img/brain.svg\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Quotes</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"memes\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding *ngIf=\\\"isAYA\\\">\\n      <ion-icon src=\\\"/assets/img/happy_tab.svg\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Memes</ion-label>\\n    </ion-tab-button>\\n\\n\\n    <ion-tab-button tab=\\\"thankyous\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding *ngIf=\\\"isAYA\\\">\\n      <ion-icon src=\\\"/assets/img/help_tab.svg\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Thank yous</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"contact\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding *ngIf=\\\"!isAYA\\\">\\n      <ion-icon name=\\\"call\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Contact</ion-label>\\n    </ion-tab-button>\\n\\n\\n\\n    <!--\\n\\n    <ion-tab-button tab=\\\"contact\\\" style=\\\"background: #005486;\\\"  class=ion-no-padding>\\n      <ion-icon name=\\\"call\\\" style=\\\"color: #fff;\\\"></ion-icon>\\n      <ion-label style=\\\"color: #fff;\\\">Contact</ion-label>\\n    </ion-tab-button>\\n\\n\\n    <ion-tab-button tab=\\\"tab2\\\">\\n      <ion-icon name=\\\"create\\\"></ion-icon>\\n      <ion-label>Memes</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab3\\\">\\n      <ion-icon name=\\\"locate\\\"></ion-icon>\\n      <ion-label>Thank yous</ion-label>\\n    </ion-tab-button>\\n    -->\\n  </ion-tab-bar>\\n\\n</ion-tabs>\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-title style=\\\"color:#fff;\\\">ADAPTS</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding no-border>\\n        <h1>Terms of Service</h1>\\n        <div class=\\\"scroll\\\" scrollY=\\\"true\\\">\\n          <p># Released under MIT License</p>\\n          <p> Copyright 2019 Children's Hospital of Philadelphia</p>\\n          <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\\"Software\\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> \\n          <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>\\n          <p>THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>\\n        </div>   \\n        <ion-item>\\n          <ion-label>Agree to terms</ion-label>\\n          <ion-checkbox [(ngModel)]=\\\"agreeToTerms\\\"  ></ion-checkbox>\\n        </ion-item>    \\n</ion-content>\\n\\n<ion-footer align=\\\"center\\\" style=\\\"height:20px;\\\" no-border>\\n  <ion-button style=\\\"margin-right:10px;\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"!agreeToTerms\\\">Submit</ion-button>\\n</ion-footer>\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button style=\\\"color:#fff;\\\" menuId=\\\"first\\\"></ion-menu-button>\\n\\n        <!--\\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startCheatPage()\\\" *ngIf=\\\"isIOS\\\">\\n          <ion-icon name=\\\"alert\\\"></ion-icon>\\n        </ion-button>\\n        -->\\n      </ion-buttons>\\n\\n      <!--\\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startInfoPage()\\\" *ngIf=\\\"isIOS\\\">\\n          <ion-icon name=\\\"ios-help-circle\\\"></ion-icon>\\n        </ion-button>\\n        <ion-menu-button autoHide=\\\"false\\\" style=\\\"color:#fff;\\\" menuId=\\\"first\\\" (click)=\\\"showSideMenu()\\\"></ion-menu-button>\\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"showSideMenu()\\\">\\n          <ion-icon name=\\\"menu\\\"></ion-icon>\\n        </ion-button>\\n        \\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startInfoPage()\\\" *ngIf=\\\"isIOS\\\">\\n          <ion-icon name=\\\"ios-help-circle\\\"></ion-icon>\\n        </ion-button>\\n\\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startCheatPage()\\\" *ngIf=\\\"isIOS\\\">\\n          <ion-icon name=\\\"alert\\\"></ion-icon>\\n        </ion-button>\\n\\n        <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startInfoPage()\\\" *ngIf=\\\"!isIOS\\\">\\n            <ion-icon name=\\\"ios-help-circle\\\"></ion-icon>\\n        </ion-button>\\n      -->\\n\\n\\n      <ion-buttons slot=\\\"end\\\">\\n          <font color=\\\"white\\\">${{money}}</font>\\n\\n          <!--\\n          <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startCheatPage()\\\"  *ngIf=\\\"!isIOS\\\">\\n            <ion-icon name=\\\"alert\\\"></ion-icon>\\n          </ion-button>\\n          -->\\n  \\n          <!-- Mash codes:\\n          <ion-text  *ngIf=\\\"!isActive\\\" style=\\\"color:#fff;\\\"><strong>Account is Paused</strong> </ion-text>\\n          <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startSurvey()\\\">\\n            <ion-icon name=\\\"journal\\\"></ion-icon>\\n          </ion-button>\\n          -->\\n  \\n          \\n  \\n          <ion-button (click)=\\\"startSurvey()\\\"   *ngIf=\\\"isActive\\\">\\n              <ion-icon name=\\\"ios-create\\\" style=\\\"color : white;\\\"></ion-icon>\\n          </ion-button>\\n  \\n  \\n          <ion-button *ngIf=\\\"!isActive\\\" (click)=\\\"dispalySurveyPausedMsg()\\\" >\\n              <ion-icon name=\\\"ios-create\\\" style=\\\"color : #e74c3c;\\\"></ion-icon>\\n          </ion-button>\\n          <!--\\n          <ion-button href=\\\"{{surveyPath}}\\\" *ngIf=\\\"isActive\\\">Start Survey</ion-button> \\n          <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startSurvey()\\\">\\n            <ion-icon name=\\\"journal\\\"></ion-icon>\\n          </ion-button> \\n          <ion-button style=\\\"color:#fff;\\\" (click)=\\\"startSurveyAYA()\\\">\\n            <ion-icon name=\\\"journal\\\"></ion-icon>\\n          </ion-button> \\n          -->\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">{{title}}</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  \\n  \\n  <ion-content>\\n    <!--div class=\\\"ion-padding\\\">\\n      <ion-button href=\\\"/survey/samplesurvey\\\">Sample survey (demo)</ion-button> <br>\\n      <ion-button href=\\\"/incentive/aquariumone\\\">Incentive: Aquarium 1</ion-button> <br>\\n      <ion-button href=\\\"/incentive/award-memes\\\" >Incentive: meme</ion-button> <br>\\n      <ion-button href=\\\"/incentive/visualization\\\">Incentive: Life-inisight</ion-button> <br>\\n    </div-->\\n  \\n    <app-demo-aquarium isPreview=\\\"false\\\"></app-demo-aquarium>\\n\\n    <!--\\n    <ion-button color=\\\"primary\\\" (click)=\\\"showModalDemo()\\\">Unlockables</ion-button>\\n    <ion-button color=\\\"primary\\\" (click)=\\\"showMemeDemo()\\\">Meme</ion-button>\\n    <ion-button color=\\\"primary\\\" (click)=\\\"showAltruisticDemo()\\\">Altruistic msg</ion-button>\\n    -->\\n  </ion-content>\\n  \\n  \"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Cheat points</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <ion-item>\\n      <ion-input placeholder=\\\"Input points here\\\" type=\\\"number\\\" name=\\\"totalPoints\\\" [(ngModel)]=\\\"totalPoints\\\" (ionInput)=\\\"logChange($event)\\\"></ion-input>\\n    </ion-item>\\n    <br>\\n    Current points: {{currentPoints}}\\n    <br><br>\\n    <ion-button color=\\\"primary\\\" (click)=\\\"resetPoint()\\\">Cheat</ion-button>\\n    <br><br>\\n    <ion-button color=\\\"primary\\\" (click)=\\\"returnToAquarium()\\\">Return</ion-button>\\n    \\n</ion-content>\\n\"","module.exports = \"<div id=\\\"gameDiv\\\"></div>\\n<ion-list padding>\\n    \\n\\n  <ion-list-header lines=\\\"inset\\\">\\n    <ion-label><h2><br>You unlocked the following animals in this level <br>so far</h2><br></ion-label>\\n  </ion-list-header>\\n  <!--\\n  {{debugText}}\\n  -->\\n  <ion-item *ngFor=\\\"let item of fishFunFactListViewItems\\\">\\n    <ion-thumbnail item-left>\\n      <img [src]=\\\"item.image\\\"/>\\n    </ion-thumbnail>\\n    <ion-label text-wrap style=\\\"padding-left: 10px;\\\">\\n      <h3>{{item.fishName}}</h3>\\n      <p>{{item.funFact}}</p>\\n    </ion-label>\\n  </ion-item>\\n\\n  \\n</ion-list> \\n\\n  <!--\\n  <p  style=\\\"padding-top:10px;padding-bottom:0px;padding-left:10px;\\\"><b>Username</b>: {{username}}</p> \\n\\n  <ion-button color=\\\"primary\\\" (click)=\\\"presentModal()\\\">Show modal</ion-button>\\n  <ion-button color=\\\"primary\\\" (click)=\\\"presentModal()\\\">Show modal</ion-button>\\n  <ion-button color=\\\"primary\\\" (click)=\\\"startTundraLevel()\\\">Tundra level</ion-button>\\n\\n  <app-loading-spinner></app-loading-spinner>\\n\\n  <ion-card> \\n    <div class=\\\"quetiontextstyle\\\">\\n        This is the question\\n    </div>\\n    <div class=\\\"radiovertical\\\">\\n      <ul>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ff-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(2)\\\">\\n          <label for=\\\"ff-option\\\">Pizza</label> \\n          <div class=\\\"check\\\"></div>\\n        </li>\\n\\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ss-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(3)\\\">\\n          <label for=\\\"ss-option\\\">Boyfriend</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"tt-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(4)\\\">\\n          <label for=\\\"tt-option\\\">Cats</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n\\n      </ul>\\n    </div>\\n  </ion-card>\\n  -->\\n\\n\\n\"","module.exports = \"\\n<ion-header>\\n    <ion-list-header>Congratulations!!!</ion-list-header>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let reinforcement of reinforcements\\\"> \\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img src=\\\"{{reinforcement.img}}\\\">\\n        </ion-thumbnail>\\n        <ion-label text-wrap>\\n          <h2>{{reinforcement.header}}</h2>\\n          <h3>{{reinforcement.text}}</h3>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n</ion-content>\\n\\n<ion-footer align=\\\"right\\\" no-border class=\\\"ion-padding\\\">\\n  <ion-button expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"dismiss()\\\">Close</ion-button>\\n</ion-footer>\"","module.exports = \"\\n<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Level 1: Fishbowl</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title style=\\\"color:black;\\\">A preview of Level 1: Fishbowl</ion-card-title>\\n      This level is the first level.\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <img src=\\\"assets/img/at_1050_points.png\\\">\\n  </ion-card>\\n</ion-content>\\n\\n\\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-button (click)=\\\"goHome()\\\">\\n          <ion-icon name=\\\"arrow-back\\\" style=\\\"color:#fff;\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Level 4: Rainforest</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!--\\n  <app-demo-aquarium isPreview=\\\"false\\\"></app-demo-aquarium>\\n  -->\\n  \\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title style=\\\"color:black;\\\">A preview of Level 4: Rainforest</ion-card-title>\\n      This level will be unlocked at 3020 points.\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <img src=\\\"assets/img/at_4000_points.png\\\">\\n  </ion-card>\\n</ion-content>\\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Level 2: Sea</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!--\\n  <app-demo-aquarium isPreview=\\\"false\\\"></app-demo-aquarium>\\n  -->\\n  \\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title style=\\\"color:black;\\\">A preview of Level 2: Sea</ion-card-title>\\n      This level will be unlocked at 1060 points.\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <img src=\\\"assets/img/at_2100_points.png\\\">\\n  </ion-card>\\n</ion-content>\"","module.exports = \"\\n<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Level 3: Tundra</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!--\\n  <app-demo-aquarium isPreview=\\\"false\\\"></app-demo-aquarium>\\n  -->\\n  \\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title style=\\\"color:black;\\\">A preview of Level 3: Tundra</ion-card-title>\\n      This level will be unlocked at 2120 points.\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <img src=\\\"assets/img/at_3000_points.png\\\">\\n  </ion-card>\\n</ion-content>\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <!--\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    -->\\n    <ion-title>You unlocked a thank you message</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n\\n<ion-content>\\n<!--\\n<br/>\\n<div style=\\\"font-size: 20px;line-height: 25px;padding-bottom:10px;text-align:center\\\">Thank you for completing the survey</div>\\n<canvas id=\\\"drawing_canvas\\\" width=\\\"100%\\\" height=\\\"auto\\\" style=\\\"position: fixed; left: 50%; top: 35%; transform: translate(-50%, -50%); z-index: 0;\\\"></canvas>\\n-->\\n<div style=\\\"position: relative;\\\">\\n  <img [src]=\\\"whichImage\\\" *ngIf=\\\"whichImage\\\" style=\\\"height: auto;width: 100%;padding-top:0px; border: 0px solid #fff;position: absolute;\\\"/>\\n  <canvas id=\\\"hearts_canvas\\\" width=\\\"100%\\\" height=\\\"100%\\\" style=\\\"box-sizing: border-box; position: absolute; left: 0; top: 0; z-index: 1;\\\"></canvas>\\n</div>\\n\\n\\n\\n\\n<!--\\n<ion-card> \\n  <div class=\\\"quetiontextstyle\\\">\\n      This is the question\\n  </div>\\n  <div class=\\\"radiovertical\\\">\\n    <ul>\\n      <li>\\n        <input type=\\\"radio\\\" id=\\\"ff-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(2)\\\">\\n        <label for=\\\"ff-option\\\">Pizza</label> \\n        <div class=\\\"check\\\"></div>\\n      </li>\\n      \\n      <li>\\n        <input type=\\\"radio\\\" id=\\\"ss-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(3)\\\">\\n        <label for=\\\"ss-option\\\">Boyfriend</label>\\n        <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n      </li>\\n      \\n      <li>\\n        <input type=\\\"radio\\\" id=\\\"tt-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(4)\\\">\\n        <label for=\\\"tt-option\\\">Cats</label>\\n        <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n      </li>\\n    </ul>\\n  </div>\\n</ion-card>\\n-->\\n\\n</ion-content>\\n<ion-footer align=\\\"center\\\" no-border>\\n  <ion-toolbar style=\\\"background:#fff;border: 0px solid #fff;height:120px;\\\">\\n      <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:20px;font-size:24px;color:#fff;background:#D32F2F;\\\" \\n      (click)=\\\"ratingChanged(0)\\\">\\n          <ion-icon name=\\\"ios-thumbs-down\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n      </button>\\n      <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:10px;font-size:24px;color:#fff;background:#33691E;\\\" \\n      (click)=\\\"ratingChanged(1)\\\">\\n          <ion-icon name=\\\"ios-thumbs-up\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n      </button>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <!--\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      -->\\n      <ion-title>You unlocked a meme</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n   \\n\\n<ion-content>\\n  <!--\\n  <br/>\\n  <div style=\\\"font-size: 24px;line-height: 25px;padding-bottom:10px;text-align:center\\\">Congratulations!!</div>\\n  <div style=\\\"font-size: 20px;line-height: 25px;padding-bottom:10px;text-align:center\\\">Thank you for completing the survey. You have unlocked a meme.</div>\\n  <img [src]=\\\"whichImage\\\" *ngIf=\\\"whichImage\\\" style=\\\"height: auto;width: 100%;padding-top:0px; border: 0px solid #fff;position: absolute;\\\"/>\\n\\n  <canvas id=\\\"drawing_canvas\\\" width=\\\"100%\\\" height=\\\"auto\\\" style=\\\"position: fixed; left: 50%; top: 20%; transform: translate(-50%, -50%); z-index: 0;\\\"></canvas>\\n  -->\\n  <div style=\\\"position: relative;\\\">\\n    <img [src]=\\\"whichImage\\\" *ngIf=\\\"whichImage\\\" style=\\\"height: auto;width: 100%;padding-top:0px; border: 0px solid #fff;position: absolute;\\\"/>\\n    <canvas id=\\\"hearts_canvas\\\" width=\\\"100%\\\" height=\\\"100%\\\" style=\\\"box-sizing: border-box; position: absolute; left: 0; top: 0; z-index: 1;\\\"></canvas>\\n  </div>\\n  \\n\\n\\n<!--\\n  <ion-card> \\n    <div class=\\\"quetiontextstyle\\\">\\n        This is the question\\n    </div>\\n    <div class=\\\"radiovertical\\\">\\n      <ul>\\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ff-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(2)\\\">\\n          <label for=\\\"ff-option\\\">Pizza</label> \\n          <div class=\\\"check\\\"></div>\\n        </li>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ss-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(3)\\\">\\n          <label for=\\\"ss-option\\\">Boyfriend</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"tt-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(4)\\\">\\n          <label for=\\\"tt-option\\\">Cats</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n      </ul>\\n    </div>\\n  </ion-card>\\n-->\\n\\n</ion-content>\\n<ion-footer align=\\\"center\\\" no-border>\\n    <ion-toolbar style=\\\"background:#fff;border: 0px solid #fff;height:120px;\\\">\\n        <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:20px;font-size:24px;color:#fff;background:#D32F2F;\\\" \\n        (click)=\\\"ratingChanged(0)\\\">\\n            <ion-icon name=\\\"ios-thumbs-down\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n        </button>\\n        <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:10px;font-size:24px;color:#fff;background:#33691E;\\\" \\n        (click)=\\\"ratingChanged(1)\\\">\\n            <ion-icon name=\\\"ios-thumbs-up\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n        </button>\\n    </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color:#fff;\\\">How the app works?</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-list>\\n\\n\\n    <ion-item style=\\\"border: 1px solid #263238;border-left: 3px solid #263238;\\\">  \\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/img/survey.png\\\">\\n      </ion-thumbnail>\\n      <ion-label text-wrap>\\n        <h2>Complete survey and get rewarded</h2>\\n        <h3 style=\\\"padding-top: 5px; color: #555;\\\">Every day complete a survey between <b>6PM</b> and <b>midnight</b>, and receive a variety of different rewards described below.</h3> \\n      </ion-label>\\n    </ion-item>\\n\\n    <br/>\\n\\n\\n    <ion-item style=\\\"border: 1px solid #263238;border-left: 3px solid #263238;\\\">  \\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/img/money.gif\\\">\\n      </ion-thumbnail>\\n      <ion-label text-wrap>\\n        <h2>Money</h2>\\n        <h3 style=\\\"padding-top: 5px; color: #555;\\\">Earn <b>one dollar</b> for completing a 3-day streak of your daily survey and <b>two dollars</b> for completing the 1st survey of every new month.</h3> \\n      </ion-label>\\n    </ion-item>\\n\\n    <br/>\\n\\n    <ion-item style=\\\"border: 1px solid #263238;border-left: 3px solid #263238;\\\">  \\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/img/60points.png\\\">\\n      </ion-thumbnail>\\n      <ion-label text-wrap>\\n        <h2>Point</h2>\\n        <h3 style=\\\"padding-top: 5px; color: #555;\\\">Each survey you complete = <b>60 points!</b></h3>\\n      </ion-label>\\n    </ion-item>\\n\\n    <br/>\\n\\n    <ion-item style=\\\"border: 1px solid #4E342E; border-left: 3px solid #4E342E;\\\">  \\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/img/clownfish_tn.jpg\\\">\\n      </ion-thumbnail>\\n      <ion-label text-wrap>\\n        <h2>Animals</h2>\\n        <h3 style=\\\"padding-top: 5px; color: #555;\\\">More <b>points</b> = more <b>animals</b> in your environment!</h3>\\n        <h3 style=\\\"padding-top: 5px; color: #555;\\\">You can unlock <b>62</b> different animals and fish!!</h3>\\n      </ion-label>\\n    </ion-item>\\n\\n  </ion-list>\\n  \\n  <div class=\\\"list\\\">\\n\\n\\n    <!--\\n    <div class=\\\"card\\\" style=\\\"border-left: 3px solid #263238;border-top: 1px solid #263238;\\\"> \\n        <img src=\\\"img/18_Rev.jpg\\\" style=\\\"float:left;width:100px;padding:10px;padding-right:20px;padding-top:15px;margin-bottom:0px;\\\" />\\n        <p style=\\\"padding:15px;font-size:15px;color:#5a2d0c\\\">Longer <b>streaks</b> give higher<br>financial incentives<br></b></p>\\n        <ul style=\\\"padding-left:100px;margin-top:1px;\\\">\\n            <li style=\\\"height:20px;color:#5a2d0c;\\\">&bull; 3-day streak gives 25 cents</li>\\n            <li style=\\\"height:20px;color:#5a2d0c;\\\">&bull; 6-day streak gives 50 cents</li>\\n            <li style=\\\"height:20px;color:#5a2d0c;\\\">&bull; 12-day streak gives 1 dollars</li>\\n            <li style=\\\"height:20px;color:#5a2d0c;\\\">&bull; 18-day streak gives 1.5 dollars</li>\\n            <li style=\\\"height:20px;color:#5a2d0c;\\\">&bull; 30-day streak gives 2.5 dollars</li>\\n            <li style=\\\"height:15px;\\\"></li>\\n        </ul>\\n        <br><p style=\\\"padding:10px;font-size: 12px;line-height:15px;color:#5a2d0c;\\\">Streaks for surveys and active tasks are separate. So, if you complete 3-day streaks on both survey and active tasks then you will get 50 cents.<p>\\n    </div>\\n    -->\\n\\n    <div class=\\\"card\\\"  style=\\\"border-left: 2px solid #263238;border-top: 1px solid #263238;\\\"> \\n        <p style=\\\"padding:15px;font-size:15px;\\\">You will sometimes get <b>thank you messages</b> or <b>memes</b> for completing the surveys.</p>\\n        <div class=\\\"item item-image\\\" style=\\\"border: 0px solid #4E342E;\\\">\\n            <img src=\\\"assets/memes/4.jpg\\\" style=\\\"padding:20px;padding-top:5px;\\\">\\n        </div>\\n    </div>\\n\\n\\n</div>\\n\\n\\n\\n</ion-content>\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Sample life-insight (demo)</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <br>\\n    <div style=\\\"text-align: center; font-size: 24px;line-height: 25px;padding-bottom:10px;\\\">Congratulations!!</div>\\n    <div style=\\\"text-align: center; font-size: 20px;line-height: 25px;padding-bottom:10px;\\\">You unlocked a life-insight</div>\\n    <br>\\n\\n    <div class=\\\"card\\\">\\n        <div style=\\\"position: absolute;top:4px; left:4px; z-index: 20;\\\" >\\n            <img src={{imgloc}} style=\\\"width:75px;height:auto;\\\">\\n        </div>\\n        <div class=\\\"item item-avatar\\\" style=\\\"background: #c9e8e6;border-left: 2px solid #004D40; padding-left: 90px;\\\">\\n          <span [innerHtml]=\\\"title\\\"></span>\\n          <p ng-hide=\\\"lifeinsight.showTopBottom\\\">{{subtext}}</p> \\n        </div>\\n\\n        <div style=\\\"margin-left:0px; margin-right:0px;margin-top:0px; background:#eef7f7; padding:5px; padding-left:15px; border-left: 0px solid #004D40; color:black; text-align:center; font-size: 14px;\\\">\\n            <span [innerHtml]=\\\"topSubtext\\\"></span>\\n        </div> \\n        \\n\\n        <div id=\\\"{{labels}}\\\" class=\\\"chart-container\\\" style=\\\"position: relative; height:30vh; width:95vw\\\">\\n            <!--\\n            <div>\\n              <nvd3 [options]=\\\"options\\\" [data]=\\\"data\\\"></nvd3>\\n            </div>\\n            -->       \\n            <canvas style=\\\"height:750;\\\" #lineCanvas></canvas>\\n        </div>\\n        \\n        <div style=\\\"margin-left:0px; margin-right:0px;margin-top:5px; background:#eef7f7; padding-left:15px; border-left: 0px solid #004D40; color:black; text-align:center; font-size: 14px;\\\">\\n            <span [innerHtml]=\\\"bottomSubtext\\\"></span>\\n        </div> \\n   \\n  \\n\\n    </div>\\n</ion-content>\\n\\n\\n\\n\\n\"","module.exports = \"\\n\\n<!--ion-content>\\n    <app-q1-motivated inputStr={{inputString}}></app-q1-motivated>\\n    <app-q1-motivated [jsonObj]=\\\"inputJson\\\"></app-q1-motivated>\\n</ion-content-->\\n\\n<ion-header>\\n        <ion-toolbar>\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n          </ion-buttons>\\n          <ion-title>Aquarium</ion-title>\\n        </ion-toolbar>\\n      </ion-header>\\n      \\n      <ion-content>\\n          <br>\\n          <div style=\\\"text-align: center; font-size: 24px;line-height: 25px;padding-bottom:10px;\\\">Congratulations!!</div>\\n          <div style=\\\"text-align: center; font-size: 20px;line-height: 25px;padding-bottom:10px;\\\">You unlocked a life-insight</div>\\n          <br>\\n          <!--div layout-align=\\\"left\\\">\\n              <p></p>\\n              <select [(ngModel)]=\\\"selectedValue\\\" (change)=\\\"onChangeCategorySelect()\\\">\\n                  <option *ngFor=\\\"let selectedTitle of qYaxisArray\\\" [value]=\\\"selectedTitle\\\">{{selectedTitle}}</option>\\n              </select>     \\n      \\n          </div-->  \\n          <br>\\n      \\n          <div class=\\\"card\\\">\\n              <div style=\\\"position: absolute;top:4px; left:4px; z-index: 20;\\\" >\\n                  <img src={{imgloc}} style=\\\"width:75px;height:auto;\\\">\\n              </div>\\n              <div class=\\\"item item-avatar\\\" style=\\\"background: #c9e8e6;border-left: 2px solid #004D40; padding-left: 90px;\\\">\\n                <span [innerHtml]=\\\"title\\\"></span>\\n                <p ng-hide=\\\"lifeinsight.showTopBottom\\\">{{subtext}}</p> \\n              </div>\\n      \\n              <div style=\\\"margin-left:0px; margin-right:0px;margin-top:0px; background:#eef7f7; padding:5px; padding-left:15px; border-left: 0px solid #004D40; color:black; text-align:center; font-size: 14px;\\\">\\n                  <span [innerHtml]=\\\"topSubtext\\\"></span>\\n              </div> \\n              \\n      \\n              <div id=\\\"{{labels}}\\\" class=\\\"chart-container\\\" style=\\\"position: relative; height:30vh; width:95vw\\\">\\n                  <!--\\n                  <div>\\n                    <nvd3 [options]=\\\"options\\\" [data]=\\\"data\\\"></nvd3>\\n                  </div>\\n                  -->       \\n                  <canvas style=\\\"height:750;\\\" #lineCanvas></canvas>\\n              </div>\\n              \\n              <div style=\\\"margin-left:0px; margin-right:0px;margin-top:5px; background:#eef7f7; padding-left:15px; border-left: 0px solid #004D40; color:black; text-align:center; font-size: 14px;\\\">\\n                  <span [innerHtml]=\\\"bottomSubtext\\\"></span>\\n              </div>     \\n      \\n          </div>\\n      </ion-content>\\n\\n      <ion-footer align=\\\"right\\\" no-border>\\n            <ion-toolbar style=\\\"background:#fff;border: 0px solid #fff;height:120px;\\\">\\n                <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:20px;font-size:24px;color:#fff;background:#D32F2F;\\\" \\n                (click)=\\\"ratingChanged(0)\\\">\\n                    <ion-icon name=\\\"ios-thumbs-down\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n                </button>\\n                <button style=\\\"height: 100px;width: 100px;border-radius:70px;border: 1px solid #fff;margin-right:10px;font-size:24px;color:#fff;background:#33691E;\\\" \\n                (click)=\\\"ratingChanged(1)\\\">\\n                    <ion-icon name=\\\"ios-thumbs-up\\\" style=\\\"height: 50px;width: 50px;\\\"></ion-icon>\\n                </button>\\n            </ion-toolbar>\\n        </ion-footer>\\n      \\n    \"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color:#fff;\\\">Unlockables</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n    <div>\\n      <p style=\\\"margin-bottom:6px;\\\">You have so far earned</p>\\n      <p style=\\\"font-size:34px;\\\">{{amount_earned}}</p>\\n    </div>\\n\\n    <div style=\\\"clear: both;vertical-align: bottom;padding-top:20px;\\\">\\n        <p style=\\\"padding-bottom:-40px;\\\">Animals/Fish to unlock</p>\\n        <img *ngFor=\\\"let x of pointsdata;\\\" src={{x.img}} style=\\\"width:auto;height:75px;margin:5px;max-width:200px\\\">\\n        <!--\\n        <p style=\\\"font-size: 12px;line-height: 15px;padding-bottom:10px;color:#666666;\\\">Double click in a unlocked fish to show its trivia</p>\\n        <img *ngFor=\\\"let x in pointsdata;\\\" src={{x.img}} style=\\\"width:auto;height:75px;margin:5px;max-width:200px\\\">\\n        -->\\n    </div>  \\n\\n    <!--\\n    <div style=\\\"clear: both;vertical-align: bottom;padding-top:30px;\\\">\\n      <p>Treasures earned for completing surveys</p>\\n      <img *ngFor=\\\"let pearls of pearlsAndGems;\\\" src={{pearls.img}} [style.width.px]=\\\"pearls.width\\\" style=\\\"margin:5px;\\\">\\n    </div>\\n    -->\\n\\n</ion-content>\\n\\n\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color:#fff;\\\">Thank you messages</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n  \\n  <ion-content [fullscreen]=\\\"true\\\">\\n\\n    <ion-card>\\n        <ion-card-content>\\n          <ion-card-title style=\\\"color:black;\\\">{{unlockedAltMessagesCount}} out of 21 thank you messages unlocked</ion-card-title>\\n        </ion-card-content>\\n    </ion-card>\\n    <ion-card *ngFor=\\\"let x of list_of_alt_msg_to_display;\\\">\\n        <img src=\\\"{{x.filename}}\\\" />\\n        <!--\\n        <ion-card-content>\\n            <b>Unlock date:</b> {{x.unlock_date}}    \\n        </ion-card-content>\\n        -->\\n    </ion-card>\\n  \\n    <!--\\n    <ion-card>\\n      <img src=\\\"./assets/cnn_billgates.png\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle> </ion-card-subtitle>\\n        <ion-card-title>      </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n           CNN             Youtube-      https://youtu.be/A71lfXrQlxU\\n  \\n        <br><br><p style=\\\"color:green;\\\">     appprove </p>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-card>\\n      <img src=\\\"./assets/anthony_faucci.jpg\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle> </ion-card-subtitle>\\n        <ion-card-title>     </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n                                      :      \\n  \\n        <br><br><p style=\\\"color:green;\\\">     appprove </p>\\n      </ion-card-content>\\n    </ion-card>\\n    -->\\n  </ion-content>\\n  \\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Inspirational quotes</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n    \\n<ion-content >\\n    \\n    <ion-card>\\n        <ion-card-content>\\n          <ion-card-title style=\\\"color:black;\\\">You received the following inspirational quotes</ion-card-title>\\n        </ion-card-content>\\n    </ion-card>\\n\\n    <ion-list padding>        \\n        <ion-item *ngFor=\\\"let item of unlockedInspirationalQuotes\\\">\\n          <ion-thumbnail item-left>\\n            <img [src]=\\\"item.image\\\"/>\\n          </ion-thumbnail>\\n          <ion-label class=\\\"ion-text-wrap\\\" style=\\\"padding-left: 10px;\\\">\\n            <h3>{{item.author}}</h3>\\n            <p>{{item.quote_text}}</p>\\n          </ion-label>\\n        </ion-item>\\n    </ion-list> \\n      \\n</ion-content>\\n    \\n  \\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"new-background-color\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button style=\\\"color:#fff;\\\" defaultHref=\\\"home\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title style=\\\"color:#fff;\\\">Memes</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n  \\n  <ion-content [fullscreen]=\\\"true\\\">\\n\\n    <ion-card>\\n        <ion-card-content>\\n          <ion-card-title style=\\\"color:black;\\\">{{unlockedMemeCount}} out of 31 memes unlocked</ion-card-title>\\n        </ion-card-content>\\n    </ion-card>\\n    <ion-card *ngFor=\\\"let x of list_of_meme_to_display;\\\">\\n        <img src=\\\"{{x.filename}}\\\" />\\n        <!--\\n        <ion-card-content>\\n            <b>Unlock date:</b> {{x.unlock_date}}    \\n        </ion-card-content>\\n        -->\\n    </ion-card>\\n  \\n    <!--\\n    <ion-card>\\n      <img src=\\\"./assets/cnn_billgates.png\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle> </ion-card-subtitle>\\n        <ion-card-title>      </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n           CNN             Youtube-      https://youtu.be/A71lfXrQlxU\\n  \\n        <br><br><p style=\\\"color:green;\\\">     appprove </p>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-card>\\n      <img src=\\\"./assets/anthony_faucci.jpg\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle> </ion-card-subtitle>\\n        <ion-card-title>     </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n                                      :      \\n  \\n        <br><br><p style=\\\"color:green;\\\">     appprove </p>\\n      </ion-card-content>\\n    </ion-card>\\n    -->\\n  </ion-content>\\n  \\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\" style=\\\"color:#fff;\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color:#fff;\\\">Survey</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <!-- <app-dynamic-survey fileLink=\\\"alex_survey\\\"></app-dynamic-survey> -->\\n    <app-dynamic-survey fileLink=\\\"alex_survey_aya\\\"></app-dynamic-survey>\\n  <!--\\n  <app-dynamic-survey fileLink=\\\"temp_survey\\\"></app-dynamic-survey>\\n  -->\\n</ion-content>\\n\\n\\n\"","module.exports = \"<div *ngIf=\\\"isLoading\\\">\\n    <p>Loading survey...</p>\\n</div>\\n<div *ngIf=\\\"loadingComplete\\\">\\n    <ng-container #vc></ng-container>\\n</div>\\n\\n\\n\\n  <!--\\n  <p>Holla</p>\\n\\n  <ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Dynamic survey (demo)</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card> \\n    <div class=\\\"quetiontextstyle\\\">\\n        This is the question\\n    </div>\\n    <div class=\\\"radiovertical\\\">\\n      <ul>\\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ff-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(2)\\\">\\n          <label for=\\\"ff-option\\\">Pizza</label> \\n          <div class=\\\"check\\\"></div>\\n        </li>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"ss-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(3)\\\">\\n          <label for=\\\"ss-option\\\">Boyfriend</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n        \\n        <li>\\n          <input type=\\\"radio\\\" id=\\\"tt-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(4)\\\">\\n          <label for=\\\"tt-option\\\">Cats</label>\\n          <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n        </li>\\n      </ul>\\n    </div>\\n  </ion-card>\\n  </ion-content>\\n  -->\\n\\n\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\" style=\\\"color:#fff;\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color:#fff;\\\">Survey</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n    <!--\\n    <ion-card> \\n        <div class=\\\"quetiontextstyle\\\">\\n            This is the question\\n        </div>\\n        <div class=\\\"radiovertical\\\">\\n        <ul>\\n            <li>\\n            <input type=\\\"radio\\\" id=\\\"ff-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(2)\\\">\\n            <label for=\\\"ff-option\\\">Pizza</label> \\n            <div class=\\\"check\\\"></div>\\n            </li>\\n            \\n            <li>\\n            <input type=\\\"radio\\\" id=\\\"ss-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(3)\\\">\\n            <label for=\\\"ss-option\\\">Boyfriend</label>\\n            <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n            </li>\\n            \\n            <li>\\n            <input type=\\\"radio\\\" id=\\\"tt-option\\\" name=\\\"selector\\\" (click)=\\\"modelChanged(4)\\\">\\n            <label for=\\\"tt-option\\\">Cats</label>\\n            <div class=\\\"check\\\"><div class=\\\"inside\\\"></div></div>\\n            </li>\\n        </ul>\\n        </div>\\n    </ion-card>\\n    -->\\n\\n    <!-- <app-dynamic-survey fileLink=\\\"alex_survey\\\"></app-dynamic-survey> -->\\n    <app-dynamic-survey fileLink=\\\"alex_survey_caregiver\\\"></app-dynamic-survey>\\n  <!--\\n  <app-dynamic-survey fileLink=\\\"temp_survey\\\"></app-dynamic-survey>\\n  -->\\n</ion-content>\\n\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"new-background-color\\\">\\n    <ion-title style=\\\"color:#fff;\\\">ADAPTS</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\" offset=\\\"1\\\" style=\\\"padding:20px;\\\">\\n        <ion-img src=\\\"../../../assets/img/CHOP_RI.svg\\\"></ion-img>        \\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n            <div class=\\\"alert alert-danger\\\" *ngIf=\\\"error\\\">\\n                <p>{{error}} </p>\\n              </div>\\n\\n              \\n              <div *ngIf=\\\"isLoading\\\" style=\\\"text-align: center;\\\">\\n                <ion-spinner  name=\\\"crescent\\\"></ion-spinner>\\n                <!-- <app-loading-spinner></app-loading-spinner> -->\\n              </div> \\n\\n              <form #authForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(authForm)\\\" *ngIf=\\\"!isLoading\\\">\\n                  <ion-item>\\n                      <ion-label position=\\\"floating\\\"  >Username</ion-label>\\n                      <ion-input type=\\\"userName\\\" id=\\\"userName\\\"  ngModel name=\\\"userName\\\" required ></ion-input>    \\n                  </ion-item>\\n                  <ion-item>\\n                      <ion-label position=\\\"floating\\\"   >Password</ion-label>\\n                      <ion-input type=\\\"password\\\" id=\\\"password\\\"  ngModel name=\\\"password\\\" required  minlength=\\\"4\\\" ></ion-input>\\n                  </ion-item>\\n                  <div style=\\\"padding-top:20px;\\\">\\n                    <ion-button  type=\\\"submit\\\" [disabled]=\\\"!authForm.valid\\\">{{isLoginMode ? 'Login' : 'Sign Up'}}</ion-button> \\n                    <!--|\\n                    <ion-button  type=\\\"button\\\" (click)=\\\"onSwitchMode()\\\">\\n                    Switch to {{isLoginMode ? 'Sign Up' : 'Login'}}</ion-button>\\n                    -->\\n                  </div>\\n              </form>      \\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\"","/**\n* @license\n* Copyright Google Inc. All Rights Reserved.\n*\n* Use of this source code is governed by an MIT-style license that can be\n* found in the LICENSE file at https://angular.io/license\n*/\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar Zone$1 = (function (global) {\n    var performance = global['performance'];\n    function mark(name) {\n        performance && performance['mark'] && performance['mark'](name);\n    }\n    function performanceMeasure(name, label) {\n        performance && performance['measure'] && performance['measure'](name, label);\n    }\n    mark('Zone');\n    var checkDuplicate = global[('__zone_symbol__forceDuplicateZoneCheck')] === true;\n    if (global['Zone']) {\n        // if global['Zone'] already exists (maybe zone.js was already loaded or\n        // some other lib also registered a global object named Zone), we may need\n        // to throw an error, but sometimes user may not want this error.\n        // For example,\n        // we have two web pages, page1 includes zone.js, page2 doesn't.\n        // and the 1st time user load page1 and page2, everything work fine,\n        // but when user load page2 again, error occurs because global['Zone'] already exists.\n        // so we add a flag to let user choose whether to throw this error or not.\n        // By default, if existing Zone is from zone.js, we will not throw the error.\n        if (checkDuplicate || typeof global['Zone'].__symbol__ !== 'function') {\n            throw new Error('Zone already loaded.');\n        }\n        else {\n            return global['Zone'];\n        }\n    }\n    var Zone = /** @class */ (function () {\n        function Zone(parent, zoneSpec) {\n            this._parent = parent;\n            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n            this._properties = zoneSpec && zoneSpec.properties || {};\n            this._zoneDelegate =\n                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n        }\n        Zone.assertZonePatched = function () {\n            if (global['Promise'] !== patches['ZoneAwarePromise']) {\n                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +\n                    'has been overwritten.\\n' +\n                    'Most likely cause is that a Promise polyfill has been loaded ' +\n                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +\n                    'If you must load one, do so before loading zone.js.)');\n            }\n        };\n        Object.defineProperty(Zone, \"root\", {\n            get: function () {\n                var zone = Zone.current;\n                while (zone.parent) {\n                    zone = zone.parent;\n                }\n                return zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone, \"current\", {\n            get: function () {\n                return _currentZoneFrame.zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone, \"currentTask\", {\n            get: function () {\n                return _currentTask;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Zone.__load_patch = function (name, fn) {\n            if (patches.hasOwnProperty(name)) {\n                if (checkDuplicate) {\n                    throw Error('Already loaded patch: ' + name);\n                }\n            }\n            else if (!global['__Zone_disable_' + name]) {\n                var perfName = 'Zone:' + name;\n                mark(perfName);\n                patches[name] = fn(global, Zone, _api);\n                performanceMeasure(perfName, perfName);\n            }\n        };\n        Object.defineProperty(Zone.prototype, \"parent\", {\n            get: function () {\n                return this._parent;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone.prototype, \"name\", {\n            get: function () {\n                return this._name;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Zone.prototype.get = function (key) {\n            var zone = this.getZoneWith(key);\n            if (zone)\n                return zone._properties[key];\n        };\n        Zone.prototype.getZoneWith = function (key) {\n            var current = this;\n            while (current) {\n                if (current._properties.hasOwnProperty(key)) {\n                    return current;\n                }\n                current = current._parent;\n            }\n            return null;\n        };\n        Zone.prototype.fork = function (zoneSpec) {\n            if (!zoneSpec)\n                throw new Error('ZoneSpec required!');\n            return this._zoneDelegate.fork(this, zoneSpec);\n        };\n        Zone.prototype.wrap = function (callback, source) {\n            if (typeof callback !== 'function') {\n                throw new Error('Expecting function got: ' + callback);\n            }\n            var _callback = this._zoneDelegate.intercept(this, callback, source);\n            var zone = this;\n            return function () {\n                return zone.runGuarded(_callback, this, arguments, source);\n            };\n        };\n        Zone.prototype.run = function (callback, applyThis, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runGuarded = function (callback, applyThis, applyArgs, source) {\n            if (applyThis === void 0) { applyThis = null; }\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                try {\n                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runTask = function (task, applyThis, applyArgs) {\n            if (task.zone != this) {\n                throw new Error('A task can only be run in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            }\n            // https://github.com/angular/zone.js/issues/778, sometimes eventTask\n            // will run in notScheduled(canceled) state, we should not try to\n            // run such kind of task but just return\n            if (task.state === notScheduled && (task.type === eventTask || task.type === macroTask)) {\n                return;\n            }\n            var reEntryGuard = task.state != running;\n            reEntryGuard && task._transitionTo(running, scheduled);\n            task.runCount++;\n            var previousTask = _currentTask;\n            _currentTask = task;\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                if (task.type == macroTask && task.data && !task.data.isPeriodic) {\n                    task.cancelFn = undefined;\n                }\n                try {\n                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                // if the task's state is notScheduled or unknown, then it has already been cancelled\n                // we should not reset the state to scheduled\n                if (task.state !== notScheduled && task.state !== unknown) {\n                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {\n                        reEntryGuard && task._transitionTo(scheduled, running);\n                    }\n                    else {\n                        task.runCount = 0;\n                        this._updateTaskCount(task, -1);\n                        reEntryGuard &&\n                            task._transitionTo(notScheduled, running, notScheduled);\n                    }\n                }\n                _currentZoneFrame = _currentZoneFrame.parent;\n                _currentTask = previousTask;\n            }\n        };\n        Zone.prototype.scheduleTask = function (task) {\n            if (task.zone && task.zone !== this) {\n                // check if the task was rescheduled, the newZone\n                // should not be the children of the original zone\n                var newZone = this;\n                while (newZone) {\n                    if (newZone === task.zone) {\n                        throw Error(\"can not reschedule task to \" + this.name + \" which is descendants of the original zone \" + task.zone.name);\n                    }\n                    newZone = newZone.parent;\n                }\n            }\n            task._transitionTo(scheduling, notScheduled);\n            var zoneDelegates = [];\n            task._zoneDelegates = zoneDelegates;\n            task._zone = this;\n            try {\n                task = this._zoneDelegate.scheduleTask(this, task);\n            }\n            catch (err) {\n                // should set task's state to unknown when scheduleTask throw error\n                // because the err may from reschedule, so the fromState maybe notScheduled\n                task._transitionTo(unknown, scheduling, notScheduled);\n                // TODO: @JiaLiPassion, should we check the result from handleError?\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            if (task._zoneDelegates === zoneDelegates) {\n                // we have to check because internally the delegate can reschedule the task.\n                this._updateTaskCount(task, 1);\n            }\n            if (task.state == scheduling) {\n                task._transitionTo(scheduled, scheduling);\n            }\n            return task;\n        };\n        Zone.prototype.scheduleMicroTask = function (source, callback, data, customSchedule) {\n            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, undefined));\n        };\n        Zone.prototype.scheduleMacroTask = function (source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.scheduleEventTask = function (source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.cancelTask = function (task) {\n            if (task.zone != this)\n                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            task._transitionTo(canceling, scheduled, running);\n            try {\n                this._zoneDelegate.cancelTask(this, task);\n            }\n            catch (err) {\n                // if error occurs when cancelTask, transit the state to unknown\n                task._transitionTo(unknown, canceling);\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            this._updateTaskCount(task, -1);\n            task._transitionTo(notScheduled, canceling);\n            task.runCount = 0;\n            return task;\n        };\n        Zone.prototype._updateTaskCount = function (task, count) {\n            var zoneDelegates = task._zoneDelegates;\n            if (count == -1) {\n                task._zoneDelegates = null;\n            }\n            for (var i = 0; i < zoneDelegates.length; i++) {\n                zoneDelegates[i]._updateTaskCount(task.type, count);\n            }\n        };\n        Zone.__symbol__ = __symbol__;\n        return Zone;\n    }());\n    var DELEGATE_ZS = {\n        name: '',\n        onHasTask: function (delegate, _, target, hasTaskState) { return delegate.hasTask(target, hasTaskState); },\n        onScheduleTask: function (delegate, _, target, task) {\n            return delegate.scheduleTask(target, task);\n        },\n        onInvokeTask: function (delegate, _, target, task, applyThis, applyArgs) {\n            return delegate.invokeTask(target, task, applyThis, applyArgs);\n        },\n        onCancelTask: function (delegate, _, target, task) { return delegate.cancelTask(target, task); }\n    };\n    var ZoneDelegate = /** @class */ (function () {\n        function ZoneDelegate(zone, parentDelegate, zoneSpec) {\n            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };\n            this.zone = zone;\n            this._parentDelegate = parentDelegate;\n            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);\n            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);\n            this._forkCurrZone = zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate.zone);\n            this._interceptZS =\n                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);\n            this._interceptDlgt =\n                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);\n            this._interceptCurrZone =\n                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate.zone);\n            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);\n            this._invokeDlgt =\n                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);\n            this._invokeCurrZone = zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate.zone);\n            this._handleErrorZS =\n                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);\n            this._handleErrorDlgt =\n                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);\n            this._handleErrorCurrZone =\n                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate.zone);\n            this._scheduleTaskZS =\n                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);\n            this._scheduleTaskDlgt = zoneSpec &&\n                (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);\n            this._scheduleTaskCurrZone =\n                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate.zone);\n            this._invokeTaskZS =\n                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);\n            this._invokeTaskDlgt =\n                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);\n            this._invokeTaskCurrZone =\n                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate.zone);\n            this._cancelTaskZS =\n                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);\n            this._cancelTaskDlgt =\n                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);\n            this._cancelTaskCurrZone =\n                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate.zone);\n            this._hasTaskZS = null;\n            this._hasTaskDlgt = null;\n            this._hasTaskDlgtOwner = null;\n            this._hasTaskCurrZone = null;\n            var zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;\n            var parentHasTask = parentDelegate && parentDelegate._hasTaskZS;\n            if (zoneSpecHasTask || parentHasTask) {\n                // If we need to report hasTask, than this ZS needs to do ref counting on tasks. In such\n                // a case all task related interceptors must go through this ZD. We can't short circuit it.\n                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;\n                this._hasTaskDlgt = parentDelegate;\n                this._hasTaskDlgtOwner = this;\n                this._hasTaskCurrZone = zone;\n                if (!zoneSpec.onScheduleTask) {\n                    this._scheduleTaskZS = DELEGATE_ZS;\n                    this._scheduleTaskDlgt = parentDelegate;\n                    this._scheduleTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onInvokeTask) {\n                    this._invokeTaskZS = DELEGATE_ZS;\n                    this._invokeTaskDlgt = parentDelegate;\n                    this._invokeTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onCancelTask) {\n                    this._cancelTaskZS = DELEGATE_ZS;\n                    this._cancelTaskDlgt = parentDelegate;\n                    this._cancelTaskCurrZone = this.zone;\n                }\n            }\n        }\n        ZoneDelegate.prototype.fork = function (targetZone, zoneSpec) {\n            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :\n                new Zone(targetZone, zoneSpec);\n        };\n        ZoneDelegate.prototype.intercept = function (targetZone, callback, source) {\n            return this._interceptZS ?\n                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :\n                callback;\n        };\n        ZoneDelegate.prototype.invoke = function (targetZone, callback, applyThis, applyArgs, source) {\n            return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :\n                callback.apply(applyThis, applyArgs);\n        };\n        ZoneDelegate.prototype.handleError = function (targetZone, error) {\n            return this._handleErrorZS ?\n                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :\n                true;\n        };\n        ZoneDelegate.prototype.scheduleTask = function (targetZone, task) {\n            var returnTask = task;\n            if (this._scheduleTaskZS) {\n                if (this._hasTaskZS) {\n                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);\n                }\n                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);\n                if (!returnTask)\n                    returnTask = task;\n            }\n            else {\n                if (task.scheduleFn) {\n                    task.scheduleFn(task);\n                }\n                else if (task.type == microTask) {\n                    scheduleMicroTask(task);\n                }\n                else {\n                    throw new Error('Task is missing scheduleFn.');\n                }\n            }\n            return returnTask;\n        };\n        ZoneDelegate.prototype.invokeTask = function (targetZone, task, applyThis, applyArgs) {\n            return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :\n                task.callback.apply(applyThis, applyArgs);\n        };\n        ZoneDelegate.prototype.cancelTask = function (targetZone, task) {\n            var value;\n            if (this._cancelTaskZS) {\n                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);\n            }\n            else {\n                if (!task.cancelFn) {\n                    throw Error('Task is not cancelable');\n                }\n                value = task.cancelFn(task);\n            }\n            return value;\n        };\n        ZoneDelegate.prototype.hasTask = function (targetZone, isEmpty) {\n            // hasTask should not throw error so other ZoneDelegate\n            // can still trigger hasTask callback\n            try {\n                this._hasTaskZS &&\n                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);\n            }\n            catch (err) {\n                this.handleError(targetZone, err);\n            }\n        };\n        ZoneDelegate.prototype._updateTaskCount = function (type, count) {\n            var counts = this._taskCounts;\n            var prev = counts[type];\n            var next = counts[type] = prev + count;\n            if (next < 0) {\n                throw new Error('More tasks executed then were scheduled.');\n            }\n            if (prev == 0 || next == 0) {\n                var isEmpty = {\n                    microTask: counts['microTask'] > 0,\n                    macroTask: counts['macroTask'] > 0,\n                    eventTask: counts['eventTask'] > 0,\n                    change: type\n                };\n                this.hasTask(this.zone, isEmpty);\n            }\n        };\n        return ZoneDelegate;\n    }());\n    var ZoneTask = /** @class */ (function () {\n        function ZoneTask(type, source, callback, options, scheduleFn, cancelFn) {\n            this._zone = null;\n            this.runCount = 0;\n            this._zoneDelegates = null;\n            this._state = 'notScheduled';\n            this.type = type;\n            this.source = source;\n            this.data = options;\n            this.scheduleFn = scheduleFn;\n            this.cancelFn = cancelFn;\n            this.callback = callback;\n            var self = this;\n            // TODO: @JiaLiPassion options should have interface\n            if (type === eventTask && options && options.useG) {\n                this.invoke = ZoneTask.invokeTask;\n            }\n            else {\n                this.invoke = function () {\n                    return ZoneTask.invokeTask.call(global, self, this, arguments);\n                };\n            }\n        }\n        ZoneTask.invokeTask = function (task, target, args) {\n            if (!task) {\n                task = this;\n            }\n            _numberOfNestedTaskFrames++;\n            try {\n                task.runCount++;\n                return task.zone.runTask(task, target, args);\n            }\n            finally {\n                if (_numberOfNestedTaskFrames == 1) {\n                    drainMicroTaskQueue();\n                }\n                _numberOfNestedTaskFrames--;\n            }\n        };\n        Object.defineProperty(ZoneTask.prototype, \"zone\", {\n            get: function () {\n                return this._zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ZoneTask.prototype, \"state\", {\n            get: function () {\n                return this._state;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        ZoneTask.prototype.cancelScheduleRequest = function () {\n            this._transitionTo(notScheduled, scheduling);\n        };\n        ZoneTask.prototype._transitionTo = function (toState, fromState1, fromState2) {\n            if (this._state === fromState1 || this._state === fromState2) {\n                this._state = toState;\n                if (toState == notScheduled) {\n                    this._zoneDelegates = null;\n                }\n            }\n            else {\n                throw new Error(this.type + \" '\" + this.source + \"': can not transition to '\" + toState + \"', expecting state '\" + fromState1 + \"'\" + (fromState2 ? ' or \\'' + fromState2 + '\\'' : '') + \", was '\" + this._state + \"'.\");\n            }\n        };\n        ZoneTask.prototype.toString = function () {\n            if (this.data && typeof this.data.handleId !== 'undefined') {\n                return this.data.handleId.toString();\n            }\n            else {\n                return Object.prototype.toString.call(this);\n            }\n        };\n        // add toJSON method to prevent cyclic error when\n        // call JSON.stringify(zoneTask)\n        ZoneTask.prototype.toJSON = function () {\n            return {\n                type: this.type,\n                state: this.state,\n                source: this.source,\n                zone: this.zone.name,\n                runCount: this.runCount\n            };\n        };\n        return ZoneTask;\n    }());\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  MICROTASK QUEUE\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    var symbolSetTimeout = __symbol__('setTimeout');\n    var symbolPromise = __symbol__('Promise');\n    var symbolThen = __symbol__('then');\n    var _microTaskQueue = [];\n    var _isDrainingMicrotaskQueue = false;\n    var nativeMicroTaskQueuePromise;\n    function scheduleMicroTask(task) {\n        // if we are not running in any task, and there has not been anything scheduled\n        // we must bootstrap the initial task creation by manually scheduling the drain\n        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {\n            // We are not running in Task, so we need to kickstart the microtask queue.\n            if (!nativeMicroTaskQueuePromise) {\n                if (global[symbolPromise]) {\n                    nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);\n                }\n            }\n            if (nativeMicroTaskQueuePromise) {\n                var nativeThen = nativeMicroTaskQueuePromise[symbolThen];\n                if (!nativeThen) {\n                    // native Promise is not patchable, we need to use `then` directly\n                    // issue 1078\n                    nativeThen = nativeMicroTaskQueuePromise['then'];\n                }\n                nativeThen.call(nativeMicroTaskQueuePromise, drainMicroTaskQueue);\n            }\n            else {\n                global[symbolSetTimeout](drainMicroTaskQueue, 0);\n            }\n        }\n        task && _microTaskQueue.push(task);\n    }\n    function drainMicroTaskQueue() {\n        if (!_isDrainingMicrotaskQueue) {\n            _isDrainingMicrotaskQueue = true;\n            while (_microTaskQueue.length) {\n                var queue = _microTaskQueue;\n                _microTaskQueue = [];\n                for (var i = 0; i < queue.length; i++) {\n                    var task = queue[i];\n                    try {\n                        task.zone.runTask(task, null, null);\n                    }\n                    catch (error) {\n                        _api.onUnhandledError(error);\n                    }\n                }\n            }\n            _api.microtaskDrainDone();\n            _isDrainingMicrotaskQueue = false;\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  BOOTSTRAP\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    var NO_ZONE = { name: 'NO ZONE' };\n    var notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';\n    var microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';\n    var patches = {};\n    var _api = {\n        symbol: __symbol__,\n        currentZoneFrame: function () { return _currentZoneFrame; },\n        onUnhandledError: noop,\n        microtaskDrainDone: noop,\n        scheduleMicroTask: scheduleMicroTask,\n        showUncaughtError: function () { return !Zone[__symbol__('ignoreConsoleErrorUncaughtError')]; },\n        patchEventTarget: function () { return []; },\n        patchOnProperties: noop,\n        patchMethod: function () { return noop; },\n        bindArguments: function () { return []; },\n        patchThen: function () { return noop; },\n        patchMacroTask: function () { return noop; },\n        setNativePromise: function (NativePromise) {\n            // sometimes NativePromise.resolve static function\n            // is not ready yet, (such as core-js/es6.promise)\n            // so we need to check here.\n            if (NativePromise && typeof NativePromise.resolve === 'function') {\n                nativeMicroTaskQueuePromise = NativePromise.resolve(0);\n            }\n        },\n        patchEventPrototype: function () { return noop; },\n        isIEOrEdge: function () { return false; },\n        getGlobalObjects: function () { return undefined; },\n        ObjectDefineProperty: function () { return noop; },\n        ObjectGetOwnPropertyDescriptor: function () { return undefined; },\n        ObjectCreate: function () { return undefined; },\n        ArraySlice: function () { return []; },\n        patchClass: function () { return noop; },\n        wrapWithCurrentZone: function () { return noop; },\n        filterProperties: function () { return []; },\n        attachOriginToPatched: function () { return noop; },\n        _redefineProperty: function () { return noop; },\n        patchCallbacks: function () { return noop; }\n    };\n    var _currentZoneFrame = { parent: null, zone: new Zone(null, null) };\n    var _currentTask = null;\n    var _numberOfNestedTaskFrames = 0;\n    function noop() { }\n    function __symbol__(name) {\n        return '__zone_symbol__' + name;\n    }\n    performanceMeasure('Zone', 'Zone');\n    return global['Zone'] = Zone;\n})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);\n\nvar __values = (undefined && undefined.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('ZoneAwarePromise', function (global, Zone, api) {\n    var ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var ObjectDefineProperty = Object.defineProperty;\n    function readableObjectToString(obj) {\n        if (obj && obj.toString === Object.prototype.toString) {\n            var className = obj.constructor && obj.constructor.name;\n            return (className ? className : '') + ': ' + JSON.stringify(obj);\n        }\n        return obj ? obj.toString() : Object.prototype.toString.call(obj);\n    }\n    var __symbol__ = api.symbol;\n    var _uncaughtPromiseErrors = [];\n    var symbolPromise = __symbol__('Promise');\n    var symbolThen = __symbol__('then');\n    var creationTrace = '__creationTrace__';\n    api.onUnhandledError = function (e) {\n        if (api.showUncaughtError()) {\n            var rejection = e && e.rejection;\n            if (rejection) {\n                console.error('Unhandled Promise rejection:', rejection instanceof Error ? rejection.message : rejection, '; Zone:', e.zone.name, '; Task:', e.task && e.task.source, '; Value:', rejection, rejection instanceof Error ? rejection.stack : undefined);\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    api.microtaskDrainDone = function () {\n        while (_uncaughtPromiseErrors.length) {\n            var _loop_1 = function () {\n                var uncaughtPromiseError = _uncaughtPromiseErrors.shift();\n                try {\n                    uncaughtPromiseError.zone.runGuarded(function () {\n                        throw uncaughtPromiseError;\n                    });\n                }\n                catch (error) {\n                    handleUnhandledRejection(error);\n                }\n            };\n            while (_uncaughtPromiseErrors.length) {\n                _loop_1();\n            }\n        }\n    };\n    var UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL = __symbol__('unhandledPromiseRejectionHandler');\n    function handleUnhandledRejection(e) {\n        api.onUnhandledError(e);\n        try {\n            var handler = Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];\n            if (handler && typeof handler === 'function') {\n                handler.call(this, e);\n            }\n        }\n        catch (err) {\n        }\n    }\n    function isThenable(value) {\n        return value && value.then;\n    }\n    function forwardResolution(value) {\n        return value;\n    }\n    function forwardRejection(rejection) {\n        return ZoneAwarePromise.reject(rejection);\n    }\n    var symbolState = __symbol__('state');\n    var symbolValue = __symbol__('value');\n    var symbolFinally = __symbol__('finally');\n    var symbolParentPromiseValue = __symbol__('parentPromiseValue');\n    var symbolParentPromiseState = __symbol__('parentPromiseState');\n    var source = 'Promise.then';\n    var UNRESOLVED = null;\n    var RESOLVED = true;\n    var REJECTED = false;\n    var REJECTED_NO_CATCH = 0;\n    function makeResolver(promise, state) {\n        return function (v) {\n            try {\n                resolvePromise(promise, state, v);\n            }\n            catch (err) {\n                resolvePromise(promise, false, err);\n            }\n            // Do not return value or you will break the Promise spec.\n        };\n    }\n    var once = function () {\n        var wasCalled = false;\n        return function wrapper(wrappedFunction) {\n            return function () {\n                if (wasCalled) {\n                    return;\n                }\n                wasCalled = true;\n                wrappedFunction.apply(null, arguments);\n            };\n        };\n    };\n    var TYPE_ERROR = 'Promise resolved with itself';\n    var CURRENT_TASK_TRACE_SYMBOL = __symbol__('currentTaskTrace');\n    // Promise Resolution\n    function resolvePromise(promise, state, value) {\n        var onceWrapper = once();\n        if (promise === value) {\n            throw new TypeError(TYPE_ERROR);\n        }\n        if (promise[symbolState] === UNRESOLVED) {\n            // should only get value.then once based on promise spec.\n            var then = null;\n            try {\n                if (typeof value === 'object' || typeof value === 'function') {\n                    then = value && value.then;\n                }\n            }\n            catch (err) {\n                onceWrapper(function () {\n                    resolvePromise(promise, false, err);\n                })();\n                return promise;\n            }\n            // if (value instanceof ZoneAwarePromise) {\n            if (state !== REJECTED && value instanceof ZoneAwarePromise &&\n                value.hasOwnProperty(symbolState) && value.hasOwnProperty(symbolValue) &&\n                value[symbolState] !== UNRESOLVED) {\n                clearRejectedNoCatch(value);\n                resolvePromise(promise, value[symbolState], value[symbolValue]);\n            }\n            else if (state !== REJECTED && typeof then === 'function') {\n                try {\n                    then.call(value, onceWrapper(makeResolver(promise, state)), onceWrapper(makeResolver(promise, false)));\n                }\n                catch (err) {\n                    onceWrapper(function () {\n                        resolvePromise(promise, false, err);\n                    })();\n                }\n            }\n            else {\n                promise[symbolState] = state;\n                var queue = promise[symbolValue];\n                promise[symbolValue] = value;\n                if (promise[symbolFinally] === symbolFinally) {\n                    // the promise is generated by Promise.prototype.finally\n                    if (state === RESOLVED) {\n                        // the state is resolved, should ignore the value\n                        // and use parent promise value\n                        promise[symbolState] = promise[symbolParentPromiseState];\n                        promise[symbolValue] = promise[symbolParentPromiseValue];\n                    }\n                }\n                // record task information in value when error occurs, so we can\n                // do some additional work such as render longStackTrace\n                if (state === REJECTED && value instanceof Error) {\n                    // check if longStackTraceZone is here\n                    var trace = Zone.currentTask && Zone.currentTask.data &&\n                        Zone.currentTask.data[creationTrace];\n                    if (trace) {\n                        // only keep the long stack trace into error when in longStackTraceZone\n                        ObjectDefineProperty(value, CURRENT_TASK_TRACE_SYMBOL, { configurable: true, enumerable: false, writable: true, value: trace });\n                    }\n                }\n                for (var i = 0; i < queue.length;) {\n                    scheduleResolveOrReject(promise, queue[i++], queue[i++], queue[i++], queue[i++]);\n                }\n                if (queue.length == 0 && state == REJECTED) {\n                    promise[symbolState] = REJECTED_NO_CATCH;\n                    try {\n                        // try to print more readable error log\n                        throw new Error('Uncaught (in promise): ' + readableObjectToString(value) +\n                            (value && value.stack ? '\\n' + value.stack : ''));\n                    }\n                    catch (err) {\n                        var error_1 = err;\n                        error_1.rejection = value;\n                        error_1.promise = promise;\n                        error_1.zone = Zone.current;\n                        error_1.task = Zone.currentTask;\n                        _uncaughtPromiseErrors.push(error_1);\n                        api.scheduleMicroTask(); // to make sure that it is running\n                    }\n                }\n            }\n        }\n        // Resolving an already resolved promise is a noop.\n        return promise;\n    }\n    var REJECTION_HANDLED_HANDLER = __symbol__('rejectionHandledHandler');\n    function clearRejectedNoCatch(promise) {\n        if (promise[symbolState] === REJECTED_NO_CATCH) {\n            // if the promise is rejected no catch status\n            // and queue.length > 0, means there is a error handler\n            // here to handle the rejected promise, we should trigger\n            // windows.rejectionhandled eventHandler or nodejs rejectionHandled\n            // eventHandler\n            try {\n                var handler = Zone[REJECTION_HANDLED_HANDLER];\n                if (handler && typeof handler === 'function') {\n                    handler.call(this, { rejection: promise[symbolValue], promise: promise });\n                }\n            }\n            catch (err) {\n            }\n            promise[symbolState] = REJECTED;\n            for (var i = 0; i < _uncaughtPromiseErrors.length; i++) {\n                if (promise === _uncaughtPromiseErrors[i].promise) {\n                    _uncaughtPromiseErrors.splice(i, 1);\n                }\n            }\n        }\n    }\n    function scheduleResolveOrReject(promise, zone, chainPromise, onFulfilled, onRejected) {\n        clearRejectedNoCatch(promise);\n        var promiseState = promise[symbolState];\n        var delegate = promiseState ?\n            (typeof onFulfilled === 'function') ? onFulfilled : forwardResolution :\n            (typeof onRejected === 'function') ? onRejected : forwardRejection;\n        zone.scheduleMicroTask(source, function () {\n            try {\n                var parentPromiseValue = promise[symbolValue];\n                var isFinallyPromise = chainPromise && symbolFinally === chainPromise[symbolFinally];\n                if (isFinallyPromise) {\n                    // if the promise is generated from finally call, keep parent promise's state and value\n                    chainPromise[symbolParentPromiseValue] = parentPromiseValue;\n                    chainPromise[symbolParentPromiseState] = promiseState;\n                }\n                // should not pass value to finally callback\n                var value = zone.run(delegate, undefined, isFinallyPromise && delegate !== forwardRejection && delegate !== forwardResolution ?\n                    [] :\n                    [parentPromiseValue]);\n                resolvePromise(chainPromise, true, value);\n            }\n            catch (error) {\n                // if error occurs, should always return this error\n                resolvePromise(chainPromise, false, error);\n            }\n        }, chainPromise);\n    }\n    var ZONE_AWARE_PROMISE_TO_STRING = 'function ZoneAwarePromise() { [native code] }';\n    var ZoneAwarePromise = /** @class */ (function () {\n        function ZoneAwarePromise(executor) {\n            var promise = this;\n            if (!(promise instanceof ZoneAwarePromise)) {\n                throw new Error('Must be an instanceof Promise.');\n            }\n            promise[symbolState] = UNRESOLVED;\n            promise[symbolValue] = []; // queue;\n            try {\n                executor && executor(makeResolver(promise, RESOLVED), makeResolver(promise, REJECTED));\n            }\n            catch (error) {\n                resolvePromise(promise, false, error);\n            }\n        }\n        ZoneAwarePromise.toString = function () {\n            return ZONE_AWARE_PROMISE_TO_STRING;\n        };\n        ZoneAwarePromise.resolve = function (value) {\n            return resolvePromise(new this(null), RESOLVED, value);\n        };\n        ZoneAwarePromise.reject = function (error) {\n            return resolvePromise(new this(null), REJECTED, error);\n        };\n        ZoneAwarePromise.race = function (values) {\n            var e_1, _a;\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n            function onResolve(value) {\n                resolve(value);\n            }\n            function onReject(error) {\n                reject(error);\n            }\n            try {\n                for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\n                    var value = values_1_1.value;\n                    if (!isThenable(value)) {\n                        value = this.resolve(value);\n                    }\n                    value.then(onResolve, onReject);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return promise;\n        };\n        ZoneAwarePromise.all = function (values) {\n            var e_2, _a;\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n            // Start at 2 to prevent prematurely resolving if .then is called immediately.\n            var unresolvedCount = 2;\n            var valueIndex = 0;\n            var resolvedValues = [];\n            var _loop_2 = function (value) {\n                if (!isThenable(value)) {\n                    value = this_1.resolve(value);\n                }\n                var curValueIndex = valueIndex;\n                value.then(function (value) {\n                    resolvedValues[curValueIndex] = value;\n                    unresolvedCount--;\n                    if (unresolvedCount === 0) {\n                        resolve(resolvedValues);\n                    }\n                }, reject);\n                unresolvedCount++;\n                valueIndex++;\n            };\n            var this_1 = this;\n            try {\n                for (var values_2 = __values(values), values_2_1 = values_2.next(); !values_2_1.done; values_2_1 = values_2.next()) {\n                    var value = values_2_1.value;\n                    _loop_2(value);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (values_2_1 && !values_2_1.done && (_a = values_2.return)) _a.call(values_2);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            // Make the unresolvedCount zero-based again.\n            unresolvedCount -= 2;\n            if (unresolvedCount === 0) {\n                resolve(resolvedValues);\n            }\n            return promise;\n        };\n        Object.defineProperty(ZoneAwarePromise.prototype, Symbol.toStringTag, {\n            get: function () {\n                return 'Promise';\n            },\n            enumerable: true,\n            configurable: true\n        });\n        ZoneAwarePromise.prototype.then = function (onFulfilled, onRejected) {\n            var chainPromise = new this.constructor(null);\n            var zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFulfilled, onRejected);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFulfilled, onRejected);\n            }\n            return chainPromise;\n        };\n        ZoneAwarePromise.prototype.catch = function (onRejected) {\n            return this.then(null, onRejected);\n        };\n        ZoneAwarePromise.prototype.finally = function (onFinally) {\n            var chainPromise = new this.constructor(null);\n            chainPromise[symbolFinally] = symbolFinally;\n            var zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFinally, onFinally);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFinally, onFinally);\n            }\n            return chainPromise;\n        };\n        return ZoneAwarePromise;\n    }());\n    // Protect against aggressive optimizers dropping seemingly unused properties.\n    // E.g. Closure Compiler in advanced mode.\n    ZoneAwarePromise['resolve'] = ZoneAwarePromise.resolve;\n    ZoneAwarePromise['reject'] = ZoneAwarePromise.reject;\n    ZoneAwarePromise['race'] = ZoneAwarePromise.race;\n    ZoneAwarePromise['all'] = ZoneAwarePromise.all;\n    var NativePromise = global[symbolPromise] = global['Promise'];\n    var ZONE_AWARE_PROMISE = Zone.__symbol__('ZoneAwarePromise');\n    var desc = ObjectGetOwnPropertyDescriptor(global, 'Promise');\n    if (!desc || desc.configurable) {\n        desc && delete desc.writable;\n        desc && delete desc.value;\n        if (!desc) {\n            desc = { configurable: true, enumerable: true };\n        }\n        desc.get = function () {\n            // if we already set ZoneAwarePromise, use patched one\n            // otherwise return native one.\n            return global[ZONE_AWARE_PROMISE] ? global[ZONE_AWARE_PROMISE] : global[symbolPromise];\n        };\n        desc.set = function (NewNativePromise) {\n            if (NewNativePromise === ZoneAwarePromise) {\n                // if the NewNativePromise is ZoneAwarePromise\n                // save to global\n                global[ZONE_AWARE_PROMISE] = NewNativePromise;\n            }\n            else {\n                // if the NewNativePromise is not ZoneAwarePromise\n                // for example: after load zone.js, some library just\n                // set es6-promise to global, if we set it to global\n                // directly, assertZonePatched will fail and angular\n                // will not loaded, so we just set the NewNativePromise\n                // to global[symbolPromise], so the result is just like\n                // we load ES6 Promise before zone.js\n                global[symbolPromise] = NewNativePromise;\n                if (!NewNativePromise.prototype[symbolThen]) {\n                    patchThen(NewNativePromise);\n                }\n                api.setNativePromise(NewNativePromise);\n            }\n        };\n        ObjectDefineProperty(global, 'Promise', desc);\n    }\n    global['Promise'] = ZoneAwarePromise;\n    var symbolThenPatched = __symbol__('thenPatched');\n    function patchThen(Ctor) {\n        var proto = Ctor.prototype;\n        var prop = ObjectGetOwnPropertyDescriptor(proto, 'then');\n        if (prop && (prop.writable === false || !prop.configurable)) {\n            // check Ctor.prototype.then propertyDescriptor is writable or not\n            // in meteor env, writable is false, we should ignore such case\n            return;\n        }\n        var originalThen = proto.then;\n        // Keep a reference to the original method.\n        proto[symbolThen] = originalThen;\n        Ctor.prototype.then = function (onResolve, onReject) {\n            var _this = this;\n            var wrapped = new ZoneAwarePromise(function (resolve, reject) {\n                originalThen.call(_this, resolve, reject);\n            });\n            return wrapped.then(onResolve, onReject);\n        };\n        Ctor[symbolThenPatched] = true;\n    }\n    api.patchThen = patchThen;\n    function zoneify(fn) {\n        return function () {\n            var resultPromise = fn.apply(this, arguments);\n            if (resultPromise instanceof ZoneAwarePromise) {\n                return resultPromise;\n            }\n            var ctor = resultPromise.constructor;\n            if (!ctor[symbolThenPatched]) {\n                patchThen(ctor);\n            }\n            return resultPromise;\n        };\n    }\n    if (NativePromise) {\n        patchThen(NativePromise);\n        var fetch_1 = global['fetch'];\n        if (typeof fetch_1 == 'function') {\n            global[api.symbol('fetch')] = fetch_1;\n            global['fetch'] = zoneify(fetch_1);\n        }\n    }\n    // This is not part of public API, but it is useful for tests, so we expose it.\n    Promise[Zone.__symbol__('uncaughtPromiseErrors')] = _uncaughtPromiseErrors;\n    return ZoneAwarePromise;\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Suppress closure compiler errors about unknown 'Zone' variable\n * @fileoverview\n * @suppress {undefinedVars,globalThis,missingRequire}\n */\n// issue #989, to reduce bundle size, use short name\n/** Object.getOwnPropertyDescriptor */\nvar ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n/** Object.defineProperty */\nvar ObjectDefineProperty = Object.defineProperty;\n/** Object.getPrototypeOf */\nvar ObjectGetPrototypeOf = Object.getPrototypeOf;\n/** Object.create */\nvar ObjectCreate = Object.create;\n/** Array.prototype.slice */\nvar ArraySlice = Array.prototype.slice;\n/** addEventListener string const */\nvar ADD_EVENT_LISTENER_STR = 'addEventListener';\n/** removeEventListener string const */\nvar REMOVE_EVENT_LISTENER_STR = 'removeEventListener';\n/** zoneSymbol addEventListener */\nvar ZONE_SYMBOL_ADD_EVENT_LISTENER = Zone.__symbol__(ADD_EVENT_LISTENER_STR);\n/** zoneSymbol removeEventListener */\nvar ZONE_SYMBOL_REMOVE_EVENT_LISTENER = Zone.__symbol__(REMOVE_EVENT_LISTENER_STR);\n/** true string const */\nvar TRUE_STR = 'true';\n/** false string const */\nvar FALSE_STR = 'false';\n/** __zone_symbol__ string const */\nvar ZONE_SYMBOL_PREFIX = '__zone_symbol__';\nfunction wrapWithCurrentZone(callback, source) {\n    return Zone.current.wrap(callback, source);\n}\nfunction scheduleMacroTaskWithCurrentZone(source, callback, data, customSchedule, customCancel) {\n    return Zone.current.scheduleMacroTask(source, callback, data, customSchedule, customCancel);\n}\nvar zoneSymbol = Zone.__symbol__;\nvar isWindowExists = typeof window !== 'undefined';\nvar internalWindow = isWindowExists ? window : undefined;\nvar _global = isWindowExists && internalWindow || typeof self === 'object' && self || global;\nvar REMOVE_ATTRIBUTE = 'removeAttribute';\nvar NULL_ON_PROP_VALUE = [null];\nfunction bindArguments(args, source) {\n    for (var i = args.length - 1; i >= 0; i--) {\n        if (typeof args[i] === 'function') {\n            args[i] = wrapWithCurrentZone(args[i], source + '_' + i);\n        }\n    }\n    return args;\n}\nfunction patchPrototype(prototype, fnNames) {\n    var source = prototype.constructor['name'];\n    var _loop_1 = function (i) {\n        var name_1 = fnNames[i];\n        var delegate = prototype[name_1];\n        if (delegate) {\n            var prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, name_1);\n            if (!isPropertyWritable(prototypeDesc)) {\n                return \"continue\";\n            }\n            prototype[name_1] = (function (delegate) {\n                var patched = function () {\n                    return delegate.apply(this, bindArguments(arguments, source + '.' + name_1));\n                };\n                attachOriginToPatched(patched, delegate);\n                return patched;\n            })(delegate);\n        }\n    };\n    for (var i = 0; i < fnNames.length; i++) {\n        _loop_1(i);\n    }\n}\nfunction isPropertyWritable(propertyDesc) {\n    if (!propertyDesc) {\n        return true;\n    }\n    if (propertyDesc.writable === false) {\n        return false;\n    }\n    return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\nvar isWebWorker = (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope);\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nvar isNode = (!('nw' in _global) && typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]');\nvar isBrowser = !isNode && !isWebWorker && !!(isWindowExists && internalWindow['HTMLElement']);\n// we are in electron of nw, so we are both browser and nodejs\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nvar isMix = typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]' && !isWebWorker &&\n    !!(isWindowExists && internalWindow['HTMLElement']);\nvar zoneSymbolEventNames = {};\nvar wrapFn = function (event) {\n    // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n    // event will be undefined, so we need to use window.event\n    event = event || _global.event;\n    if (!event) {\n        return;\n    }\n    var eventNameSymbol = zoneSymbolEventNames[event.type];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[event.type] = zoneSymbol('ON_PROPERTY' + event.type);\n    }\n    var target = this || event.target || _global;\n    var listener = target[eventNameSymbol];\n    var result;\n    if (isBrowser && target === internalWindow && event.type === 'error') {\n        // window.onerror have different signiture\n        // https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror#window.onerror\n        // and onerror callback will prevent default when callback return true\n        var errorEvent = event;\n        result = listener &&\n            listener.call(this, errorEvent.message, errorEvent.filename, errorEvent.lineno, errorEvent.colno, errorEvent.error);\n        if (result === true) {\n            event.preventDefault();\n        }\n    }\n    else {\n        result = listener && listener.apply(this, arguments);\n        if (result != undefined && !result) {\n            event.preventDefault();\n        }\n    }\n    return result;\n};\nfunction patchProperty(obj, prop, prototype) {\n    var desc = ObjectGetOwnPropertyDescriptor(obj, prop);\n    if (!desc && prototype) {\n        // when patch window object, use prototype to check prop exist or not\n        var prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, prop);\n        if (prototypeDesc) {\n            desc = { enumerable: true, configurable: true };\n        }\n    }\n    // if the descriptor not exists or is not configurable\n    // just return\n    if (!desc || !desc.configurable) {\n        return;\n    }\n    var onPropPatchedSymbol = zoneSymbol('on' + prop + 'patched');\n    if (obj.hasOwnProperty(onPropPatchedSymbol) && obj[onPropPatchedSymbol]) {\n        return;\n    }\n    // A property descriptor cannot have getter/setter and be writable\n    // deleting the writable and value properties avoids this error:\n    //\n    // TypeError: property descriptors must not specify a value or be writable when a\n    // getter or setter has been specified\n    delete desc.writable;\n    delete desc.value;\n    var originalDescGet = desc.get;\n    var originalDescSet = desc.set;\n    // substr(2) cuz 'onclick' -> 'click', etc\n    var eventName = prop.substr(2);\n    var eventNameSymbol = zoneSymbolEventNames[eventName];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[eventName] = zoneSymbol('ON_PROPERTY' + eventName);\n    }\n    desc.set = function (newValue) {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        var target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return;\n        }\n        var previousValue = target[eventNameSymbol];\n        if (previousValue) {\n            target.removeEventListener(eventName, wrapFn);\n        }\n        // issue #978, when onload handler was added before loading zone.js\n        // we should remove it with originalDescSet\n        if (originalDescSet) {\n            originalDescSet.apply(target, NULL_ON_PROP_VALUE);\n        }\n        if (typeof newValue === 'function') {\n            target[eventNameSymbol] = newValue;\n            target.addEventListener(eventName, wrapFn, false);\n        }\n        else {\n            target[eventNameSymbol] = null;\n        }\n    };\n    // The getter would return undefined for unassigned properties but the default value of an\n    // unassigned property is null\n    desc.get = function () {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        var target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return null;\n        }\n        var listener = target[eventNameSymbol];\n        if (listener) {\n            return listener;\n        }\n        else if (originalDescGet) {\n            // result will be null when use inline event attribute,\n            // such as <button onclick=\"func();\">OK</button>\n            // because the onclick function is internal raw uncompiled handler\n            // the onclick will be evaluated when first time event was triggered or\n            // the property is accessed, https://github.com/angular/zone.js/issues/525\n            // so we should use original native get to retrieve the handler\n            var value = originalDescGet && originalDescGet.call(this);\n            if (value) {\n                desc.set.call(this, value);\n                if (typeof target[REMOVE_ATTRIBUTE] === 'function') {\n                    target.removeAttribute(prop);\n                }\n                return value;\n            }\n        }\n        return null;\n    };\n    ObjectDefineProperty(obj, prop, desc);\n    obj[onPropPatchedSymbol] = true;\n}\nfunction patchOnProperties(obj, properties, prototype) {\n    if (properties) {\n        for (var i = 0; i < properties.length; i++) {\n            patchProperty(obj, 'on' + properties[i], prototype);\n        }\n    }\n    else {\n        var onProperties = [];\n        for (var prop in obj) {\n            if (prop.substr(0, 2) == 'on') {\n                onProperties.push(prop);\n            }\n        }\n        for (var j = 0; j < onProperties.length; j++) {\n            patchProperty(obj, onProperties[j], prototype);\n        }\n    }\n}\nvar originalInstanceKey = zoneSymbol('originalInstance');\n// wrap some native API on `window`\nfunction patchClass(className) {\n    var OriginalClass = _global[className];\n    if (!OriginalClass)\n        return;\n    // keep original class in global\n    _global[zoneSymbol(className)] = OriginalClass;\n    _global[className] = function () {\n        var a = bindArguments(arguments, className);\n        switch (a.length) {\n            case 0:\n                this[originalInstanceKey] = new OriginalClass();\n                break;\n            case 1:\n                this[originalInstanceKey] = new OriginalClass(a[0]);\n                break;\n            case 2:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1]);\n                break;\n            case 3:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2]);\n                break;\n            case 4:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2], a[3]);\n                break;\n            default:\n                throw new Error('Arg list too long.');\n        }\n    };\n    // attach original delegate to patched function\n    attachOriginToPatched(_global[className], OriginalClass);\n    var instance = new OriginalClass(function () { });\n    var prop;\n    for (prop in instance) {\n        // https://bugs.webkit.org/show_bug.cgi?id=44721\n        if (className === 'XMLHttpRequest' && prop === 'responseBlob')\n            continue;\n        (function (prop) {\n            if (typeof instance[prop] === 'function') {\n                _global[className].prototype[prop] = function () {\n                    return this[originalInstanceKey][prop].apply(this[originalInstanceKey], arguments);\n                };\n            }\n            else {\n                ObjectDefineProperty(_global[className].prototype, prop, {\n                    set: function (fn) {\n                        if (typeof fn === 'function') {\n                            this[originalInstanceKey][prop] = wrapWithCurrentZone(fn, className + '.' + prop);\n                            // keep callback in wrapped function so we can\n                            // use it in Function.prototype.toString to return\n                            // the native one.\n                            attachOriginToPatched(this[originalInstanceKey][prop], fn);\n                        }\n                        else {\n                            this[originalInstanceKey][prop] = fn;\n                        }\n                    },\n                    get: function () {\n                        return this[originalInstanceKey][prop];\n                    }\n                });\n            }\n        }(prop));\n    }\n    for (prop in OriginalClass) {\n        if (prop !== 'prototype' && OriginalClass.hasOwnProperty(prop)) {\n            _global[className][prop] = OriginalClass[prop];\n        }\n    }\n}\nfunction copySymbolProperties(src, dest) {\n    if (typeof Object.getOwnPropertySymbols !== 'function') {\n        return;\n    }\n    var symbols = Object.getOwnPropertySymbols(src);\n    symbols.forEach(function (symbol) {\n        var desc = Object.getOwnPropertyDescriptor(src, symbol);\n        Object.defineProperty(dest, symbol, {\n            get: function () {\n                return src[symbol];\n            },\n            set: function (value) {\n                if (desc && (!desc.writable || typeof desc.set !== 'function')) {\n                    // if src[symbol] is not writable or not have a setter, just return\n                    return;\n                }\n                src[symbol] = value;\n            },\n            enumerable: desc ? desc.enumerable : true,\n            configurable: desc ? desc.configurable : true\n        });\n    });\n}\nvar shouldCopySymbolProperties = false;\n\nfunction patchMethod(target, name, patchFn) {\n    var proto = target;\n    while (proto && !proto.hasOwnProperty(name)) {\n        proto = ObjectGetPrototypeOf(proto);\n    }\n    if (!proto && target[name]) {\n        // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n        proto = target;\n    }\n    var delegateName = zoneSymbol(name);\n    var delegate = null;\n    if (proto && !(delegate = proto[delegateName])) {\n        delegate = proto[delegateName] = proto[name];\n        // check whether proto[name] is writable\n        // some property is readonly in safari, such as HtmlCanvasElement.prototype.toBlob\n        var desc = proto && ObjectGetOwnPropertyDescriptor(proto, name);\n        if (isPropertyWritable(desc)) {\n            var patchDelegate_1 = patchFn(delegate, delegateName, name);\n            proto[name] = function () {\n                return patchDelegate_1(this, arguments);\n            };\n            attachOriginToPatched(proto[name], delegate);\n            if (shouldCopySymbolProperties) {\n                copySymbolProperties(delegate, proto[name]);\n            }\n        }\n    }\n    return delegate;\n}\n// TODO: @JiaLiPassion, support cancel task later if necessary\nfunction patchMacroTask(obj, funcName, metaCreator) {\n    var setNative = null;\n    function scheduleTask(task) {\n        var data = task.data;\n        data.args[data.cbIdx] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(data.target, data.args);\n        return task;\n    }\n    setNative = patchMethod(obj, funcName, function (delegate) { return function (self, args) {\n        var meta = metaCreator(self, args);\n        if (meta.cbIdx >= 0 && typeof args[meta.cbIdx] === 'function') {\n            return scheduleMacroTaskWithCurrentZone(meta.name, args[meta.cbIdx], meta, scheduleTask);\n        }\n        else {\n            // cause an error by calling it directly.\n            return delegate.apply(self, args);\n        }\n    }; });\n}\n\nfunction attachOriginToPatched(patched, original) {\n    patched[zoneSymbol('OriginalDelegate')] = original;\n}\nvar isDetectedIEOrEdge = false;\nvar ieOrEdge = false;\nfunction isIE() {\n    try {\n        var ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1) {\n            return true;\n        }\n    }\n    catch (error) {\n    }\n    return false;\n}\nfunction isIEOrEdge() {\n    if (isDetectedIEOrEdge) {\n        return ieOrEdge;\n    }\n    isDetectedIEOrEdge = true;\n    try {\n        var ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1 || ua.indexOf('Edge/') !== -1) {\n            ieOrEdge = true;\n        }\n    }\n    catch (error) {\n    }\n    return ieOrEdge;\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// override Function.prototype.toString to make zone.js patched function\n// look like native function\nZone.__load_patch('toString', function (global) {\n    // patch Func.prototype.toString to let them look like native\n    var originalFunctionToString = Function.prototype.toString;\n    var ORIGINAL_DELEGATE_SYMBOL = zoneSymbol('OriginalDelegate');\n    var PROMISE_SYMBOL = zoneSymbol('Promise');\n    var ERROR_SYMBOL = zoneSymbol('Error');\n    var newFunctionToString = function toString() {\n        if (typeof this === 'function') {\n            var originalDelegate = this[ORIGINAL_DELEGATE_SYMBOL];\n            if (originalDelegate) {\n                if (typeof originalDelegate === 'function') {\n                    return originalFunctionToString.call(originalDelegate);\n                }\n                else {\n                    return Object.prototype.toString.call(originalDelegate);\n                }\n            }\n            if (this === Promise) {\n                var nativePromise = global[PROMISE_SYMBOL];\n                if (nativePromise) {\n                    return originalFunctionToString.call(nativePromise);\n                }\n            }\n            if (this === Error) {\n                var nativeError = global[ERROR_SYMBOL];\n                if (nativeError) {\n                    return originalFunctionToString.call(nativeError);\n                }\n            }\n        }\n        return originalFunctionToString.call(this);\n    };\n    newFunctionToString[ORIGINAL_DELEGATE_SYMBOL] = originalFunctionToString;\n    Function.prototype.toString = newFunctionToString;\n    // patch Object.prototype.toString to let them look like native\n    var originalObjectToString = Object.prototype.toString;\n    var PROMISE_OBJECT_TO_STRING = '[object Promise]';\n    Object.prototype.toString = function () {\n        if (this instanceof Promise) {\n            return PROMISE_OBJECT_TO_STRING;\n        }\n        return originalObjectToString.call(this);\n    };\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nvar passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n            }\n        });\n        window.addEventListener('test', options, options);\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\n// an identifier to tell ZoneTask do not create a new invoke closure\nvar OPTIMIZED_ZONE_EVENT_TASK_DATA = {\n    useG: true\n};\nvar zoneSymbolEventNames$1 = {};\nvar globalSources = {};\nvar EVENT_NAME_SYMBOL_REGX = /^__zone_symbol__(\\w+)(true|false)$/;\nvar IMMEDIATE_PROPAGATION_SYMBOL = ('__zone_symbol__propagationStopped');\nfunction patchEventTarget(_global, apis, patchOptions) {\n    var ADD_EVENT_LISTENER = (patchOptions && patchOptions.add) || ADD_EVENT_LISTENER_STR;\n    var REMOVE_EVENT_LISTENER = (patchOptions && patchOptions.rm) || REMOVE_EVENT_LISTENER_STR;\n    var LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.listeners) || 'eventListeners';\n    var REMOVE_ALL_LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.rmAll) || 'removeAllListeners';\n    var zoneSymbolAddEventListener = zoneSymbol(ADD_EVENT_LISTENER);\n    var ADD_EVENT_LISTENER_SOURCE = '.' + ADD_EVENT_LISTENER + ':';\n    var PREPEND_EVENT_LISTENER = 'prependListener';\n    var PREPEND_EVENT_LISTENER_SOURCE = '.' + PREPEND_EVENT_LISTENER + ':';\n    var invokeTask = function (task, target, event) {\n        // for better performance, check isRemoved which is set\n        // by removeEventListener\n        if (task.isRemoved) {\n            return;\n        }\n        var delegate = task.callback;\n        if (typeof delegate === 'object' && delegate.handleEvent) {\n            // create the bind version of handleEvent when invoke\n            task.callback = function (event) { return delegate.handleEvent(event); };\n            task.originalDelegate = delegate;\n        }\n        // invoke static task.invoke\n        task.invoke(task, target, [event]);\n        var options = task.options;\n        if (options && typeof options === 'object' && options.once) {\n            // if options.once is true, after invoke once remove listener here\n            // only browser need to do this, nodejs eventEmitter will cal removeListener\n            // inside EventEmitter.once\n            var delegate_1 = task.originalDelegate ? task.originalDelegate : task.callback;\n            target[REMOVE_EVENT_LISTENER].call(target, event.type, delegate_1, options);\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = false\n    var globalZoneAwareCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        var target = this || event.target || _global;\n        var tasks = target[zoneSymbolEventNames$1[event.type][FALSE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                var copyTasks = tasks.slice();\n                for (var i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = true\n    var globalZoneAwareCaptureCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        var target = this || event.target || _global;\n        var tasks = target[zoneSymbolEventNames$1[event.type][TRUE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                var copyTasks = tasks.slice();\n                for (var i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    function patchEventTargetMethods(obj, patchOptions) {\n        if (!obj) {\n            return false;\n        }\n        var useGlobalCallback = true;\n        if (patchOptions && patchOptions.useG !== undefined) {\n            useGlobalCallback = patchOptions.useG;\n        }\n        var validateHandler = patchOptions && patchOptions.vh;\n        var checkDuplicate = true;\n        if (patchOptions && patchOptions.chkDup !== undefined) {\n            checkDuplicate = patchOptions.chkDup;\n        }\n        var returnTarget = false;\n        if (patchOptions && patchOptions.rt !== undefined) {\n            returnTarget = patchOptions.rt;\n        }\n        var proto = obj;\n        while (proto && !proto.hasOwnProperty(ADD_EVENT_LISTENER)) {\n            proto = ObjectGetPrototypeOf(proto);\n        }\n        if (!proto && obj[ADD_EVENT_LISTENER]) {\n            // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n            proto = obj;\n        }\n        if (!proto) {\n            return false;\n        }\n        if (proto[zoneSymbolAddEventListener]) {\n            return false;\n        }\n        var eventNameToString = patchOptions && patchOptions.eventNameToString;\n        // a shared global taskData to pass data for scheduleEventTask\n        // so we do not need to create a new object just for pass some data\n        var taskData = {};\n        var nativeAddEventListener = proto[zoneSymbolAddEventListener] = proto[ADD_EVENT_LISTENER];\n        var nativeRemoveEventListener = proto[zoneSymbol(REMOVE_EVENT_LISTENER)] =\n            proto[REMOVE_EVENT_LISTENER];\n        var nativeListeners = proto[zoneSymbol(LISTENERS_EVENT_LISTENER)] =\n            proto[LISTENERS_EVENT_LISTENER];\n        var nativeRemoveAllListeners = proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)] =\n            proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];\n        var nativePrependEventListener;\n        if (patchOptions && patchOptions.prepend) {\n            nativePrependEventListener = proto[zoneSymbol(patchOptions.prepend)] =\n                proto[patchOptions.prepend];\n        }\n        function checkIsPassive(task) {\n            if (!passiveSupported && typeof taskData.options !== 'boolean' &&\n                typeof taskData.options !== 'undefined' && taskData.options !== null) {\n                // options is a non-null non-undefined object\n                // passive is not supported\n                // don't pass options as object\n                // just pass capture as a boolean\n                task.options = !!taskData.options.capture;\n                taskData.options = task.options;\n            }\n        }\n        var customScheduleGlobal = function (task) {\n            // if there is already a task for the eventName + capture,\n            // just return, because we use the shared globalZoneAwareCallback here.\n            if (taskData.isExisting) {\n                return;\n            }\n            checkIsPassive(task);\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, taskData.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, taskData.options);\n        };\n        var customCancelGlobal = function (task) {\n            // if task is not marked as isRemoved, this call is directly\n            // from Zone.prototype.cancelTask, we should remove the task\n            // from tasksList of target first\n            if (!task.isRemoved) {\n                var symbolEventNames = zoneSymbolEventNames$1[task.eventName];\n                var symbolEventName = void 0;\n                if (symbolEventNames) {\n                    symbolEventName = symbolEventNames[task.capture ? TRUE_STR : FALSE_STR];\n                }\n                var existingTasks = symbolEventName && task.target[symbolEventName];\n                if (existingTasks) {\n                    for (var i = 0; i < existingTasks.length; i++) {\n                        var existingTask = existingTasks[i];\n                        if (existingTask === task) {\n                            existingTasks.splice(i, 1);\n                            // set isRemoved to data for faster invokeTask check\n                            task.isRemoved = true;\n                            if (existingTasks.length === 0) {\n                                // all tasks for the eventName + capture have gone,\n                                // remove globalZoneAwareCallback and remove the task cache from target\n                                task.allRemoved = true;\n                                task.target[symbolEventName] = null;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            // if all tasks for the eventName + capture have gone,\n            // we will really remove the global event callback,\n            // if not, return\n            if (!task.allRemoved) {\n                return;\n            }\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, task.options);\n        };\n        var customScheduleNonGlobal = function (task) {\n            checkIsPassive(task);\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        var customSchedulePrepend = function (task) {\n            return nativePrependEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        var customCancelNonGlobal = function (task) {\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.invoke, task.options);\n        };\n        var customSchedule = useGlobalCallback ? customScheduleGlobal : customScheduleNonGlobal;\n        var customCancel = useGlobalCallback ? customCancelGlobal : customCancelNonGlobal;\n        var compareTaskCallbackVsDelegate = function (task, delegate) {\n            var typeOfDelegate = typeof delegate;\n            return (typeOfDelegate === 'function' && task.callback === delegate) ||\n                (typeOfDelegate === 'object' && task.originalDelegate === delegate);\n        };\n        var compare = (patchOptions && patchOptions.diff) ? patchOptions.diff : compareTaskCallbackVsDelegate;\n        var blackListedEvents = Zone[Zone.__symbol__('BLACK_LISTED_EVENTS')];\n        var makeAddListener = function (nativeListener, addSource, customScheduleFn, customCancelFn, returnTarget, prepend) {\n            if (returnTarget === void 0) { returnTarget = false; }\n            if (prepend === void 0) { prepend = false; }\n            return function () {\n                var target = this || _global;\n                var eventName = arguments[0];\n                var delegate = arguments[1];\n                if (!delegate) {\n                    return nativeListener.apply(this, arguments);\n                }\n                if (isNode && eventName === 'uncaughtException') {\n                    // don't patch uncaughtException of nodejs to prevent endless loop\n                    return nativeListener.apply(this, arguments);\n                }\n                // don't create the bind delegate function for handleEvent\n                // case here to improve addEventListener performance\n                // we will create the bind delegate when invoke\n                var isHandleEvent = false;\n                if (typeof delegate !== 'function') {\n                    if (!delegate.handleEvent) {\n                        return nativeListener.apply(this, arguments);\n                    }\n                    isHandleEvent = true;\n                }\n                if (validateHandler && !validateHandler(nativeListener, delegate, target, arguments)) {\n                    return;\n                }\n                var options = arguments[2];\n                if (blackListedEvents) {\n                    // check black list\n                    for (var i = 0; i < blackListedEvents.length; i++) {\n                        if (eventName === blackListedEvents[i]) {\n                            return nativeListener.apply(this, arguments);\n                        }\n                    }\n                }\n                var capture;\n                var once = false;\n                if (options === undefined) {\n                    capture = false;\n                }\n                else if (options === true) {\n                    capture = true;\n                }\n                else if (options === false) {\n                    capture = false;\n                }\n                else {\n                    capture = options ? !!options.capture : false;\n                    once = options ? !!options.once : false;\n                }\n                var zone = Zone.current;\n                var symbolEventNames = zoneSymbolEventNames$1[eventName];\n                var symbolEventName;\n                if (!symbolEventNames) {\n                    // the code is duplicate, but I just want to get some better performance\n                    var falseEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + FALSE_STR;\n                    var trueEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + TRUE_STR;\n                    var symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n                    var symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n                    zoneSymbolEventNames$1[eventName] = {};\n                    zoneSymbolEventNames$1[eventName][FALSE_STR] = symbol;\n                    zoneSymbolEventNames$1[eventName][TRUE_STR] = symbolCapture;\n                    symbolEventName = capture ? symbolCapture : symbol;\n                }\n                else {\n                    symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n                }\n                var existingTasks = target[symbolEventName];\n                var isExisting = false;\n                if (existingTasks) {\n                    // already have task registered\n                    isExisting = true;\n                    if (checkDuplicate) {\n                        for (var i = 0; i < existingTasks.length; i++) {\n                            if (compare(existingTasks[i], delegate)) {\n                                // same callback, same capture, same event name, just return\n                                return;\n                            }\n                        }\n                    }\n                }\n                else {\n                    existingTasks = target[symbolEventName] = [];\n                }\n                var source;\n                var constructorName = target.constructor['name'];\n                var targetSource = globalSources[constructorName];\n                if (targetSource) {\n                    source = targetSource[eventName];\n                }\n                if (!source) {\n                    source = constructorName + addSource +\n                        (eventNameToString ? eventNameToString(eventName) : eventName);\n                }\n                // do not create a new object as task.data to pass those things\n                // just use the global shared one\n                taskData.options = options;\n                if (once) {\n                    // if addEventListener with once options, we don't pass it to\n                    // native addEventListener, instead we keep the once setting\n                    // and handle ourselves.\n                    taskData.options.once = false;\n                }\n                taskData.target = target;\n                taskData.capture = capture;\n                taskData.eventName = eventName;\n                taskData.isExisting = isExisting;\n                var data = useGlobalCallback ? OPTIMIZED_ZONE_EVENT_TASK_DATA : undefined;\n                // keep taskData into data to allow onScheduleEventTask to access the task information\n                if (data) {\n                    data.taskData = taskData;\n                }\n                var task = zone.scheduleEventTask(source, delegate, data, customScheduleFn, customCancelFn);\n                // should clear taskData.target to avoid memory leak\n                // issue, https://github.com/angular/angular/issues/20442\n                taskData.target = null;\n                // need to clear up taskData because it is a global object\n                if (data) {\n                    data.taskData = null;\n                }\n                // have to save those information to task in case\n                // application may call task.zone.cancelTask() directly\n                if (once) {\n                    options.once = true;\n                }\n                if (!(!passiveSupported && typeof task.options === 'boolean')) {\n                    // if not support passive, and we pass an option object\n                    // to addEventListener, we should save the options to task\n                    task.options = options;\n                }\n                task.target = target;\n                task.capture = capture;\n                task.eventName = eventName;\n                if (isHandleEvent) {\n                    // save original delegate for compare to check duplicate\n                    task.originalDelegate = delegate;\n                }\n                if (!prepend) {\n                    existingTasks.push(task);\n                }\n                else {\n                    existingTasks.unshift(task);\n                }\n                if (returnTarget) {\n                    return target;\n                }\n            };\n        };\n        proto[ADD_EVENT_LISTENER] = makeAddListener(nativeAddEventListener, ADD_EVENT_LISTENER_SOURCE, customSchedule, customCancel, returnTarget);\n        if (nativePrependEventListener) {\n            proto[PREPEND_EVENT_LISTENER] = makeAddListener(nativePrependEventListener, PREPEND_EVENT_LISTENER_SOURCE, customSchedulePrepend, customCancel, returnTarget, true);\n        }\n        proto[REMOVE_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            var options = arguments[2];\n            var capture;\n            if (options === undefined) {\n                capture = false;\n            }\n            else if (options === true) {\n                capture = true;\n            }\n            else if (options === false) {\n                capture = false;\n            }\n            else {\n                capture = options ? !!options.capture : false;\n            }\n            var delegate = arguments[1];\n            if (!delegate) {\n                return nativeRemoveEventListener.apply(this, arguments);\n            }\n            if (validateHandler &&\n                !validateHandler(nativeRemoveEventListener, delegate, target, arguments)) {\n                return;\n            }\n            var symbolEventNames = zoneSymbolEventNames$1[eventName];\n            var symbolEventName;\n            if (symbolEventNames) {\n                symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n            }\n            var existingTasks = symbolEventName && target[symbolEventName];\n            if (existingTasks) {\n                for (var i = 0; i < existingTasks.length; i++) {\n                    var existingTask = existingTasks[i];\n                    if (compare(existingTask, delegate)) {\n                        existingTasks.splice(i, 1);\n                        // set isRemoved to data for faster invokeTask check\n                        existingTask.isRemoved = true;\n                        if (existingTasks.length === 0) {\n                            // all tasks for the eventName + capture have gone,\n                            // remove globalZoneAwareCallback and remove the task cache from target\n                            existingTask.allRemoved = true;\n                            target[symbolEventName] = null;\n                        }\n                        existingTask.zone.cancelTask(existingTask);\n                        if (returnTarget) {\n                            return target;\n                        }\n                        return;\n                    }\n                }\n            }\n            // issue 930, didn't find the event name or callback\n            // from zone kept existingTasks, the callback maybe\n            // added outside of zone, we need to call native removeEventListener\n            // to try to remove it.\n            return nativeRemoveEventListener.apply(this, arguments);\n        };\n        proto[LISTENERS_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            var listeners = [];\n            var tasks = findEventTasks(target, eventNameToString ? eventNameToString(eventName) : eventName);\n            for (var i = 0; i < tasks.length; i++) {\n                var task = tasks[i];\n                var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                listeners.push(delegate);\n            }\n            return listeners;\n        };\n        proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            if (!eventName) {\n                var keys = Object.keys(target);\n                for (var i = 0; i < keys.length; i++) {\n                    var prop = keys[i];\n                    var match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n                    var evtName = match && match[1];\n                    // in nodejs EventEmitter, removeListener event is\n                    // used for monitoring the removeListener call,\n                    // so just keep removeListener eventListener until\n                    // all other eventListeners are removed\n                    if (evtName && evtName !== 'removeListener') {\n                        this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, evtName);\n                    }\n                }\n                // remove removeListener listener finally\n                this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, 'removeListener');\n            }\n            else {\n                var symbolEventNames = zoneSymbolEventNames$1[eventName];\n                if (symbolEventNames) {\n                    var symbolEventName = symbolEventNames[FALSE_STR];\n                    var symbolCaptureEventName = symbolEventNames[TRUE_STR];\n                    var tasks = target[symbolEventName];\n                    var captureTasks = target[symbolCaptureEventName];\n                    if (tasks) {\n                        var removeTasks = tasks.slice();\n                        for (var i = 0; i < removeTasks.length; i++) {\n                            var task = removeTasks[i];\n                            var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                    if (captureTasks) {\n                        var removeTasks = captureTasks.slice();\n                        for (var i = 0; i < removeTasks.length; i++) {\n                            var task = removeTasks[i];\n                            var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                }\n            }\n            if (returnTarget) {\n                return this;\n            }\n        };\n        // for native toString patch\n        attachOriginToPatched(proto[ADD_EVENT_LISTENER], nativeAddEventListener);\n        attachOriginToPatched(proto[REMOVE_EVENT_LISTENER], nativeRemoveEventListener);\n        if (nativeRemoveAllListeners) {\n            attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER], nativeRemoveAllListeners);\n        }\n        if (nativeListeners) {\n            attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER], nativeListeners);\n        }\n        return true;\n    }\n    var results = [];\n    for (var i = 0; i < apis.length; i++) {\n        results[i] = patchEventTargetMethods(apis[i], patchOptions);\n    }\n    return results;\n}\nfunction findEventTasks(target, eventName) {\n    var foundTasks = [];\n    for (var prop in target) {\n        var match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n        var evtName = match && match[1];\n        if (evtName && (!eventName || evtName === eventName)) {\n            var tasks = target[prop];\n            if (tasks) {\n                for (var i = 0; i < tasks.length; i++) {\n                    foundTasks.push(tasks[i]);\n                }\n            }\n        }\n    }\n    return foundTasks;\n}\nfunction patchEventPrototype(global, api) {\n    var Event = global['Event'];\n    if (Event && Event.prototype) {\n        api.patchMethod(Event.prototype, 'stopImmediatePropagation', function (delegate) { return function (self, args) {\n            self[IMMEDIATE_PROPAGATION_SYMBOL] = true;\n            // we need to call the native stopImmediatePropagation\n            // in case in some hybrid application, some part of\n            // application will be controlled by zone, some are not\n            delegate && delegate.apply(self, args);\n        }; });\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCallbacks(api, target, targetName, method, callbacks) {\n    var symbol = Zone.__symbol__(method);\n    if (target[symbol]) {\n        return;\n    }\n    var nativeDelegate = target[symbol] = target[method];\n    target[method] = function (name, opts, options) {\n        if (opts && opts.prototype) {\n            callbacks.forEach(function (callback) {\n                var source = targetName + \".\" + method + \"::\" + callback;\n                var prototype = opts.prototype;\n                if (prototype.hasOwnProperty(callback)) {\n                    var descriptor = api.ObjectGetOwnPropertyDescriptor(prototype, callback);\n                    if (descriptor && descriptor.value) {\n                        descriptor.value = api.wrapWithCurrentZone(descriptor.value, source);\n                        api._redefineProperty(opts.prototype, callback, descriptor);\n                    }\n                    else if (prototype[callback]) {\n                        prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                    }\n                }\n                else if (prototype[callback]) {\n                    prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                }\n            });\n        }\n        return nativeDelegate.call(target, name, opts, options);\n    };\n    api.attachOriginToPatched(target[method], nativeDelegate);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/*\n * This is necessary for Chrome and Chrome mobile, to enable\n * things like redefining `createdCallback` on an element.\n */\nvar zoneSymbol$1 = Zone.__symbol__;\nvar _defineProperty = Object[zoneSymbol$1('defineProperty')] = Object.defineProperty;\nvar _getOwnPropertyDescriptor = Object[zoneSymbol$1('getOwnPropertyDescriptor')] =\n    Object.getOwnPropertyDescriptor;\nvar _create = Object.create;\nvar unconfigurablesKey = zoneSymbol$1('unconfigurables');\nfunction propertyPatch() {\n    Object.defineProperty = function (obj, prop, desc) {\n        if (isUnconfigurable(obj, prop)) {\n            throw new TypeError('Cannot assign to read only property \\'' + prop + '\\' of ' + obj);\n        }\n        var originalConfigurableFlag = desc.configurable;\n        if (prop !== 'prototype') {\n            desc = rewriteDescriptor(obj, prop, desc);\n        }\n        return _tryDefineProperty(obj, prop, desc, originalConfigurableFlag);\n    };\n    Object.defineProperties = function (obj, props) {\n        Object.keys(props).forEach(function (prop) {\n            Object.defineProperty(obj, prop, props[prop]);\n        });\n        return obj;\n    };\n    Object.create = function (obj, proto) {\n        if (typeof proto === 'object' && !Object.isFrozen(proto)) {\n            Object.keys(proto).forEach(function (prop) {\n                proto[prop] = rewriteDescriptor(obj, prop, proto[prop]);\n            });\n        }\n        return _create(obj, proto);\n    };\n    Object.getOwnPropertyDescriptor = function (obj, prop) {\n        var desc = _getOwnPropertyDescriptor(obj, prop);\n        if (desc && isUnconfigurable(obj, prop)) {\n            desc.configurable = false;\n        }\n        return desc;\n    };\n}\nfunction _redefineProperty(obj, prop, desc) {\n    var originalConfigurableFlag = desc.configurable;\n    desc = rewriteDescriptor(obj, prop, desc);\n    return _tryDefineProperty(obj, prop, desc, originalConfigurableFlag);\n}\nfunction isUnconfigurable(obj, prop) {\n    return obj && obj[unconfigurablesKey] && obj[unconfigurablesKey][prop];\n}\nfunction rewriteDescriptor(obj, prop, desc) {\n    // issue-927, if the desc is frozen, don't try to change the desc\n    if (!Object.isFrozen(desc)) {\n        desc.configurable = true;\n    }\n    if (!desc.configurable) {\n        // issue-927, if the obj is frozen, don't try to set the desc to obj\n        if (!obj[unconfigurablesKey] && !Object.isFrozen(obj)) {\n            _defineProperty(obj, unconfigurablesKey, { writable: true, value: {} });\n        }\n        if (obj[unconfigurablesKey]) {\n            obj[unconfigurablesKey][prop] = true;\n        }\n    }\n    return desc;\n}\nfunction _tryDefineProperty(obj, prop, desc, originalConfigurableFlag) {\n    try {\n        return _defineProperty(obj, prop, desc);\n    }\n    catch (error) {\n        if (desc.configurable) {\n            // In case of errors, when the configurable flag was likely set by rewriteDescriptor(), let's\n            // retry with the original flag value\n            if (typeof originalConfigurableFlag == 'undefined') {\n                delete desc.configurable;\n            }\n            else {\n                desc.configurable = originalConfigurableFlag;\n            }\n            try {\n                return _defineProperty(obj, prop, desc);\n            }\n            catch (error) {\n                var descJson = null;\n                try {\n                    descJson = JSON.stringify(desc);\n                }\n                catch (error) {\n                    descJson = desc.toString();\n                }\n                console.log(\"Attempting to configure '\" + prop + \"' with descriptor '\" + descJson + \"' on object '\" + obj + \"' and got error, giving up: \" + error);\n            }\n        }\n        else {\n            throw error;\n        }\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {globalThis}\n */\nvar globalEventHandlersEventNames = [\n    'abort',\n    'animationcancel',\n    'animationend',\n    'animationiteration',\n    'auxclick',\n    'beforeinput',\n    'blur',\n    'cancel',\n    'canplay',\n    'canplaythrough',\n    'change',\n    'compositionstart',\n    'compositionupdate',\n    'compositionend',\n    'cuechange',\n    'click',\n    'close',\n    'contextmenu',\n    'curechange',\n    'dblclick',\n    'drag',\n    'dragend',\n    'dragenter',\n    'dragexit',\n    'dragleave',\n    'dragover',\n    'drop',\n    'durationchange',\n    'emptied',\n    'ended',\n    'error',\n    'focus',\n    'focusin',\n    'focusout',\n    'gotpointercapture',\n    'input',\n    'invalid',\n    'keydown',\n    'keypress',\n    'keyup',\n    'load',\n    'loadstart',\n    'loadeddata',\n    'loadedmetadata',\n    'lostpointercapture',\n    'mousedown',\n    'mouseenter',\n    'mouseleave',\n    'mousemove',\n    'mouseout',\n    'mouseover',\n    'mouseup',\n    'mousewheel',\n    'orientationchange',\n    'pause',\n    'play',\n    'playing',\n    'pointercancel',\n    'pointerdown',\n    'pointerenter',\n    'pointerleave',\n    'pointerlockchange',\n    'mozpointerlockchange',\n    'webkitpointerlockerchange',\n    'pointerlockerror',\n    'mozpointerlockerror',\n    'webkitpointerlockerror',\n    'pointermove',\n    'pointout',\n    'pointerover',\n    'pointerup',\n    'progress',\n    'ratechange',\n    'reset',\n    'resize',\n    'scroll',\n    'seeked',\n    'seeking',\n    'select',\n    'selectionchange',\n    'selectstart',\n    'show',\n    'sort',\n    'stalled',\n    'submit',\n    'suspend',\n    'timeupdate',\n    'volumechange',\n    'touchcancel',\n    'touchmove',\n    'touchstart',\n    'touchend',\n    'transitioncancel',\n    'transitionend',\n    'waiting',\n    'wheel'\n];\nvar documentEventNames = [\n    'afterscriptexecute', 'beforescriptexecute', 'DOMContentLoaded', 'freeze', 'fullscreenchange',\n    'mozfullscreenchange', 'webkitfullscreenchange', 'msfullscreenchange', 'fullscreenerror',\n    'mozfullscreenerror', 'webkitfullscreenerror', 'msfullscreenerror', 'readystatechange',\n    'visibilitychange', 'resume'\n];\nvar windowEventNames = [\n    'absolutedeviceorientation',\n    'afterinput',\n    'afterprint',\n    'appinstalled',\n    'beforeinstallprompt',\n    'beforeprint',\n    'beforeunload',\n    'devicelight',\n    'devicemotion',\n    'deviceorientation',\n    'deviceorientationabsolute',\n    'deviceproximity',\n    'hashchange',\n    'languagechange',\n    'message',\n    'mozbeforepaint',\n    'offline',\n    'online',\n    'paint',\n    'pageshow',\n    'pagehide',\n    'popstate',\n    'rejectionhandled',\n    'storage',\n    'unhandledrejection',\n    'unload',\n    'userproximity',\n    'vrdisplyconnected',\n    'vrdisplaydisconnected',\n    'vrdisplaypresentchange'\n];\nvar htmlElementEventNames = [\n    'beforecopy', 'beforecut', 'beforepaste', 'copy', 'cut', 'paste', 'dragstart', 'loadend',\n    'animationstart', 'search', 'transitionrun', 'transitionstart', 'webkitanimationend',\n    'webkitanimationiteration', 'webkitanimationstart', 'webkittransitionend'\n];\nvar mediaElementEventNames = ['encrypted', 'waitingforkey', 'msneedkey', 'mozinterruptbegin', 'mozinterruptend'];\nvar ieElementEventNames = [\n    'activate',\n    'afterupdate',\n    'ariarequest',\n    'beforeactivate',\n    'beforedeactivate',\n    'beforeeditfocus',\n    'beforeupdate',\n    'cellchange',\n    'controlselect',\n    'dataavailable',\n    'datasetchanged',\n    'datasetcomplete',\n    'errorupdate',\n    'filterchange',\n    'layoutcomplete',\n    'losecapture',\n    'move',\n    'moveend',\n    'movestart',\n    'propertychange',\n    'resizeend',\n    'resizestart',\n    'rowenter',\n    'rowexit',\n    'rowsdelete',\n    'rowsinserted',\n    'command',\n    'compassneedscalibration',\n    'deactivate',\n    'help',\n    'mscontentzoom',\n    'msmanipulationstatechanged',\n    'msgesturechange',\n    'msgesturedoubletap',\n    'msgestureend',\n    'msgesturehold',\n    'msgesturestart',\n    'msgesturetap',\n    'msgotpointercapture',\n    'msinertiastart',\n    'mslostpointercapture',\n    'mspointercancel',\n    'mspointerdown',\n    'mspointerenter',\n    'mspointerhover',\n    'mspointerleave',\n    'mspointermove',\n    'mspointerout',\n    'mspointerover',\n    'mspointerup',\n    'pointerout',\n    'mssitemodejumplistitemremoved',\n    'msthumbnailclick',\n    'stop',\n    'storagecommit'\n];\nvar webglEventNames = ['webglcontextrestored', 'webglcontextlost', 'webglcontextcreationerror'];\nvar formEventNames = ['autocomplete', 'autocompleteerror'];\nvar detailEventNames = ['toggle'];\nvar frameEventNames = ['load'];\nvar frameSetEventNames = ['blur', 'error', 'focus', 'load', 'resize', 'scroll', 'messageerror'];\nvar marqueeEventNames = ['bounce', 'finish', 'start'];\nvar XMLHttpRequestEventNames = [\n    'loadstart', 'progress', 'abort', 'error', 'load', 'progress', 'timeout', 'loadend',\n    'readystatechange'\n];\nvar IDBIndexEventNames = ['upgradeneeded', 'complete', 'abort', 'success', 'error', 'blocked', 'versionchange', 'close'];\nvar websocketEventNames = ['close', 'error', 'open', 'message'];\nvar workerEventNames = ['error', 'message'];\nvar eventNames = globalEventHandlersEventNames.concat(webglEventNames, formEventNames, detailEventNames, documentEventNames, windowEventNames, htmlElementEventNames, ieElementEventNames);\nfunction filterProperties(target, onProperties, ignoreProperties) {\n    if (!ignoreProperties || ignoreProperties.length === 0) {\n        return onProperties;\n    }\n    var tip = ignoreProperties.filter(function (ip) { return ip.target === target; });\n    if (!tip || tip.length === 0) {\n        return onProperties;\n    }\n    var targetIgnoreProperties = tip[0].ignoreProperties;\n    return onProperties.filter(function (op) { return targetIgnoreProperties.indexOf(op) === -1; });\n}\nfunction patchFilteredProperties(target, onProperties, ignoreProperties, prototype) {\n    // check whether target is available, sometimes target will be undefined\n    // because different browser or some 3rd party plugin.\n    if (!target) {\n        return;\n    }\n    var filteredProperties = filterProperties(target, onProperties, ignoreProperties);\n    patchOnProperties(target, filteredProperties, prototype);\n}\nfunction propertyDescriptorPatch(api, _global) {\n    if (isNode && !isMix) {\n        return;\n    }\n    if (Zone[api.symbol('patchEvents')]) {\n        // events are already been patched by legacy patch.\n        return;\n    }\n    var supportsWebSocket = typeof WebSocket !== 'undefined';\n    var ignoreProperties = _global['__Zone_ignore_on_properties'];\n    // for browsers that we can patch the descriptor:  Chrome & Firefox\n    if (isBrowser) {\n        var internalWindow = window;\n        var ignoreErrorProperties = isIE ? [{ target: internalWindow, ignoreProperties: ['error'] }] : [];\n        // in IE/Edge, onProp not exist in window object, but in WindowPrototype\n        // so we need to pass WindowPrototype to check onProp exist or not\n        patchFilteredProperties(internalWindow, eventNames.concat(['messageerror']), ignoreProperties ? ignoreProperties.concat(ignoreErrorProperties) : ignoreProperties, ObjectGetPrototypeOf(internalWindow));\n        patchFilteredProperties(Document.prototype, eventNames, ignoreProperties);\n        if (typeof internalWindow['SVGElement'] !== 'undefined') {\n            patchFilteredProperties(internalWindow['SVGElement'].prototype, eventNames, ignoreProperties);\n        }\n        patchFilteredProperties(Element.prototype, eventNames, ignoreProperties);\n        patchFilteredProperties(HTMLElement.prototype, eventNames, ignoreProperties);\n        patchFilteredProperties(HTMLMediaElement.prototype, mediaElementEventNames, ignoreProperties);\n        patchFilteredProperties(HTMLFrameSetElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n        patchFilteredProperties(HTMLBodyElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n        patchFilteredProperties(HTMLFrameElement.prototype, frameEventNames, ignoreProperties);\n        patchFilteredProperties(HTMLIFrameElement.prototype, frameEventNames, ignoreProperties);\n        var HTMLMarqueeElement_1 = internalWindow['HTMLMarqueeElement'];\n        if (HTMLMarqueeElement_1) {\n            patchFilteredProperties(HTMLMarqueeElement_1.prototype, marqueeEventNames, ignoreProperties);\n        }\n        var Worker_1 = internalWindow['Worker'];\n        if (Worker_1) {\n            patchFilteredProperties(Worker_1.prototype, workerEventNames, ignoreProperties);\n        }\n    }\n    var XMLHttpRequest = _global['XMLHttpRequest'];\n    if (XMLHttpRequest) {\n        // XMLHttpRequest is not available in ServiceWorker, so we need to check here\n        patchFilteredProperties(XMLHttpRequest.prototype, XMLHttpRequestEventNames, ignoreProperties);\n    }\n    var XMLHttpRequestEventTarget = _global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget) {\n        patchFilteredProperties(XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype, XMLHttpRequestEventNames, ignoreProperties);\n    }\n    if (typeof IDBIndex !== 'undefined') {\n        patchFilteredProperties(IDBIndex.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBOpenDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBDatabase.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBTransaction.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBCursor.prototype, IDBIndexEventNames, ignoreProperties);\n    }\n    if (supportsWebSocket) {\n        patchFilteredProperties(WebSocket.prototype, websocketEventNames, ignoreProperties);\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('util', function (global, Zone, api) {\n    api.patchOnProperties = patchOnProperties;\n    api.patchMethod = patchMethod;\n    api.bindArguments = bindArguments;\n    api.patchMacroTask = patchMacroTask;\n    // In earlier version of zone.js (<0.9.0), we use env name `__zone_symbol__BLACK_LISTED_EVENTS` to\n    // define which events will not be patched by `Zone.js`.\n    // In newer version (>=0.9.0), we change the env name to `__zone_symbol__UNPATCHED_EVENTS` to keep\n    // the name consistent with angular repo.\n    // The  `__zone_symbol__BLACK_LISTED_EVENTS` is deprecated, but it is still be supported for\n    // backwards compatibility.\n    var SYMBOL_BLACK_LISTED_EVENTS = Zone.__symbol__('BLACK_LISTED_EVENTS');\n    var SYMBOL_UNPATCHED_EVENTS = Zone.__symbol__('UNPATCHED_EVENTS');\n    if (global[SYMBOL_UNPATCHED_EVENTS]) {\n        global[SYMBOL_BLACK_LISTED_EVENTS] = global[SYMBOL_UNPATCHED_EVENTS];\n    }\n    if (global[SYMBOL_BLACK_LISTED_EVENTS]) {\n        Zone[SYMBOL_BLACK_LISTED_EVENTS] = Zone[SYMBOL_UNPATCHED_EVENTS] =\n            global[SYMBOL_BLACK_LISTED_EVENTS];\n    }\n    api.patchEventPrototype = patchEventPrototype;\n    api.patchEventTarget = patchEventTarget;\n    api.isIEOrEdge = isIEOrEdge;\n    api.ObjectDefineProperty = ObjectDefineProperty;\n    api.ObjectGetOwnPropertyDescriptor = ObjectGetOwnPropertyDescriptor;\n    api.ObjectCreate = ObjectCreate;\n    api.ArraySlice = ArraySlice;\n    api.patchClass = patchClass;\n    api.wrapWithCurrentZone = wrapWithCurrentZone;\n    api.filterProperties = filterProperties;\n    api.attachOriginToPatched = attachOriginToPatched;\n    api._redefineProperty = _redefineProperty;\n    api.patchCallbacks = patchCallbacks;\n    api.getGlobalObjects = function () { return ({\n        globalSources: globalSources,\n        zoneSymbolEventNames: zoneSymbolEventNames$1,\n        eventNames: eventNames,\n        isBrowser: isBrowser,\n        isMix: isMix,\n        isNode: isNode,\n        TRUE_STR: TRUE_STR,\n        FALSE_STR: FALSE_STR,\n        ZONE_SYMBOL_PREFIX: ZONE_SYMBOL_PREFIX,\n        ADD_EVENT_LISTENER_STR: ADD_EVENT_LISTENER_STR,\n        REMOVE_EVENT_LISTENER_STR: REMOVE_EVENT_LISTENER_STR\n    }); };\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction eventTargetLegacyPatch(_global, api) {\n    var _a = api.getGlobalObjects(), eventNames = _a.eventNames, globalSources = _a.globalSources, zoneSymbolEventNames = _a.zoneSymbolEventNames, TRUE_STR = _a.TRUE_STR, FALSE_STR = _a.FALSE_STR, ZONE_SYMBOL_PREFIX = _a.ZONE_SYMBOL_PREFIX;\n    var WTF_ISSUE_555 = 'Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video';\n    var NO_EVENT_TARGET = 'ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket'\n        .split(',');\n    var EVENT_TARGET = 'EventTarget';\n    var apis = [];\n    var isWtf = _global['wtf'];\n    var WTF_ISSUE_555_ARRAY = WTF_ISSUE_555.split(',');\n    if (isWtf) {\n        // Workaround for: https://github.com/google/tracing-framework/issues/555\n        apis = WTF_ISSUE_555_ARRAY.map(function (v) { return 'HTML' + v + 'Element'; }).concat(NO_EVENT_TARGET);\n    }\n    else if (_global[EVENT_TARGET]) {\n        apis.push(EVENT_TARGET);\n    }\n    else {\n        // Note: EventTarget is not available in all browsers,\n        // if it's not available, we instead patch the APIs in the IDL that inherit from EventTarget\n        apis = NO_EVENT_TARGET;\n    }\n    var isDisableIECheck = _global['__Zone_disable_IE_check'] || false;\n    var isEnableCrossContextCheck = _global['__Zone_enable_cross_context_check'] || false;\n    var ieOrEdge = api.isIEOrEdge();\n    var ADD_EVENT_LISTENER_SOURCE = '.addEventListener:';\n    var FUNCTION_WRAPPER = '[object FunctionWrapper]';\n    var BROWSER_TOOLS = 'function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }';\n    //  predefine all __zone_symbol__ + eventName + true/false string\n    for (var i = 0; i < eventNames.length; i++) {\n        var eventName = eventNames[i];\n        var falseEventName = eventName + FALSE_STR;\n        var trueEventName = eventName + TRUE_STR;\n        var symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n        var symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n        zoneSymbolEventNames[eventName] = {};\n        zoneSymbolEventNames[eventName][FALSE_STR] = symbol;\n        zoneSymbolEventNames[eventName][TRUE_STR] = symbolCapture;\n    }\n    //  predefine all task.source string\n    for (var i = 0; i < WTF_ISSUE_555.length; i++) {\n        var target = WTF_ISSUE_555_ARRAY[i];\n        var targets = globalSources[target] = {};\n        for (var j = 0; j < eventNames.length; j++) {\n            var eventName = eventNames[j];\n            targets[eventName] = target + ADD_EVENT_LISTENER_SOURCE + eventName;\n        }\n    }\n    var checkIEAndCrossContext = function (nativeDelegate, delegate, target, args) {\n        if (!isDisableIECheck && ieOrEdge) {\n            if (isEnableCrossContextCheck) {\n                try {\n                    var testString = delegate.toString();\n                    if ((testString === FUNCTION_WRAPPER || testString == BROWSER_TOOLS)) {\n                        nativeDelegate.apply(target, args);\n                        return false;\n                    }\n                }\n                catch (error) {\n                    nativeDelegate.apply(target, args);\n                    return false;\n                }\n            }\n            else {\n                var testString = delegate.toString();\n                if ((testString === FUNCTION_WRAPPER || testString == BROWSER_TOOLS)) {\n                    nativeDelegate.apply(target, args);\n                    return false;\n                }\n            }\n        }\n        else if (isEnableCrossContextCheck) {\n            try {\n                delegate.toString();\n            }\n            catch (error) {\n                nativeDelegate.apply(target, args);\n                return false;\n            }\n        }\n        return true;\n    };\n    var apiTypes = [];\n    for (var i = 0; i < apis.length; i++) {\n        var type = _global[apis[i]];\n        apiTypes.push(type && type.prototype);\n    }\n    // vh is validateHandler to check event handler\n    // is valid or not(for security check)\n    api.patchEventTarget(_global, apiTypes, { vh: checkIEAndCrossContext });\n    Zone[api.symbol('patchEventTarget')] = !!_global[EVENT_TARGET];\n    return true;\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// we have to patch the instance since the proto is non-configurable\nfunction apply(api, _global) {\n    var _a = api.getGlobalObjects(), ADD_EVENT_LISTENER_STR = _a.ADD_EVENT_LISTENER_STR, REMOVE_EVENT_LISTENER_STR = _a.REMOVE_EVENT_LISTENER_STR;\n    var WS = _global.WebSocket;\n    // On Safari window.EventTarget doesn't exist so need to patch WS add/removeEventListener\n    // On older Chrome, no need since EventTarget was already patched\n    if (!_global.EventTarget) {\n        api.patchEventTarget(_global, [WS.prototype]);\n    }\n    _global.WebSocket = function (x, y) {\n        var socket = arguments.length > 1 ? new WS(x, y) : new WS(x);\n        var proxySocket;\n        var proxySocketProto;\n        // Safari 7.0 has non-configurable own 'onmessage' and friends properties on the socket instance\n        var onmessageDesc = api.ObjectGetOwnPropertyDescriptor(socket, 'onmessage');\n        if (onmessageDesc && onmessageDesc.configurable === false) {\n            proxySocket = api.ObjectCreate(socket);\n            // socket have own property descriptor 'onopen', 'onmessage', 'onclose', 'onerror'\n            // but proxySocket not, so we will keep socket as prototype and pass it to\n            // patchOnProperties method\n            proxySocketProto = socket;\n            [ADD_EVENT_LISTENER_STR, REMOVE_EVENT_LISTENER_STR, 'send', 'close'].forEach(function (propName) {\n                proxySocket[propName] = function () {\n                    var args = api.ArraySlice.call(arguments);\n                    if (propName === ADD_EVENT_LISTENER_STR || propName === REMOVE_EVENT_LISTENER_STR) {\n                        var eventName = args.length > 0 ? args[0] : undefined;\n                        if (eventName) {\n                            var propertySymbol = Zone.__symbol__('ON_PROPERTY' + eventName);\n                            socket[propertySymbol] = proxySocket[propertySymbol];\n                        }\n                    }\n                    return socket[propName].apply(socket, args);\n                };\n            });\n        }\n        else {\n            // we can patch the real socket\n            proxySocket = socket;\n        }\n        api.patchOnProperties(proxySocket, ['close', 'error', 'message', 'open'], proxySocketProto);\n        return proxySocket;\n    };\n    var globalWebSocket = _global['WebSocket'];\n    for (var prop in WS) {\n        globalWebSocket[prop] = WS[prop];\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {globalThis}\n */\nfunction propertyDescriptorLegacyPatch(api, _global) {\n    var _a = api.getGlobalObjects(), isNode = _a.isNode, isMix = _a.isMix;\n    if (isNode && !isMix) {\n        return;\n    }\n    if (!canPatchViaPropertyDescriptor(api, _global)) {\n        var supportsWebSocket = typeof WebSocket !== 'undefined';\n        // Safari, Android browsers (Jelly Bean)\n        patchViaCapturingAllTheEvents(api);\n        api.patchClass('XMLHttpRequest');\n        if (supportsWebSocket) {\n            apply(api, _global);\n        }\n        Zone[api.symbol('patchEvents')] = true;\n    }\n}\nfunction canPatchViaPropertyDescriptor(api, _global) {\n    var _a = api.getGlobalObjects(), isBrowser = _a.isBrowser, isMix = _a.isMix;\n    if ((isBrowser || isMix) &&\n        !api.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype, 'onclick') &&\n        typeof Element !== 'undefined') {\n        // WebKit https://bugs.webkit.org/show_bug.cgi?id=134364\n        // IDL interface attributes are not configurable\n        var desc = api.ObjectGetOwnPropertyDescriptor(Element.prototype, 'onclick');\n        if (desc && !desc.configurable)\n            return false;\n        // try to use onclick to detect whether we can patch via propertyDescriptor\n        // because XMLHttpRequest is not available in service worker\n        if (desc) {\n            api.ObjectDefineProperty(Element.prototype, 'onclick', {\n                enumerable: true,\n                configurable: true,\n                get: function () {\n                    return true;\n                }\n            });\n            var div = document.createElement('div');\n            var result = !!div.onclick;\n            api.ObjectDefineProperty(Element.prototype, 'onclick', desc);\n            return result;\n        }\n    }\n    var XMLHttpRequest = _global['XMLHttpRequest'];\n    if (!XMLHttpRequest) {\n        // XMLHttpRequest is not available in service worker\n        return false;\n    }\n    var ON_READY_STATE_CHANGE = 'onreadystatechange';\n    var XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n    var xhrDesc = api.ObjectGetOwnPropertyDescriptor(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE);\n    // add enumerable and configurable here because in opera\n    // by default XMLHttpRequest.prototype.onreadystatechange is undefined\n    // without adding enumerable and configurable will cause onreadystatechange\n    // non-configurable\n    // and if XMLHttpRequest.prototype.onreadystatechange is undefined,\n    // we should set a real desc instead a fake one\n    if (xhrDesc) {\n        api.ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, {\n            enumerable: true,\n            configurable: true,\n            get: function () {\n                return true;\n            }\n        });\n        var req = new XMLHttpRequest();\n        var result = !!req.onreadystatechange;\n        // restore original desc\n        api.ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, xhrDesc || {});\n        return result;\n    }\n    else {\n        var SYMBOL_FAKE_ONREADYSTATECHANGE_1 = api.symbol('fake');\n        api.ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, {\n            enumerable: true,\n            configurable: true,\n            get: function () {\n                return this[SYMBOL_FAKE_ONREADYSTATECHANGE_1];\n            },\n            set: function (value) {\n                this[SYMBOL_FAKE_ONREADYSTATECHANGE_1] = value;\n            }\n        });\n        var req = new XMLHttpRequest();\n        var detectFunc = function () { };\n        req.onreadystatechange = detectFunc;\n        var result = req[SYMBOL_FAKE_ONREADYSTATECHANGE_1] === detectFunc;\n        req.onreadystatechange = null;\n        return result;\n    }\n}\n// Whenever any eventListener fires, we check the eventListener target and all parents\n// for `onwhatever` properties and replace them with zone-bound functions\n// - Chrome (for now)\nfunction patchViaCapturingAllTheEvents(api) {\n    var eventNames = api.getGlobalObjects().eventNames;\n    var unboundKey = api.symbol('unbound');\n    var _loop_1 = function (i) {\n        var property = eventNames[i];\n        var onproperty = 'on' + property;\n        self.addEventListener(property, function (event) {\n            var elt = event.target, bound, source;\n            if (elt) {\n                source = elt.constructor['name'] + '.' + onproperty;\n            }\n            else {\n                source = 'unknown.' + onproperty;\n            }\n            while (elt) {\n                if (elt[onproperty] && !elt[onproperty][unboundKey]) {\n                    bound = api.wrapWithCurrentZone(elt[onproperty], source);\n                    bound[unboundKey] = elt[onproperty];\n                    elt[onproperty] = bound;\n                }\n                elt = elt.parentElement;\n            }\n        }, true);\n    };\n    for (var i = 0; i < eventNames.length; i++) {\n        _loop_1(i);\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction registerElementPatch(_global, api) {\n    var _a = api.getGlobalObjects(), isBrowser = _a.isBrowser, isMix = _a.isMix;\n    if ((!isBrowser && !isMix) || !('registerElement' in _global.document)) {\n        return;\n    }\n    var callbacks = ['createdCallback', 'attachedCallback', 'detachedCallback', 'attributeChangedCallback'];\n    api.patchCallbacks(api, document, 'Document', 'registerElement', callbacks);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\n(function (_global) {\n    _global['__zone_symbol__legacyPatch'] = function () {\n        var Zone = _global['Zone'];\n        Zone.__load_patch('registerElement', function (global, Zone, api) {\n            registerElementPatch(global, api);\n        });\n        Zone.__load_patch('EventTargetLegacy', function (global, Zone, api) {\n            eventTargetLegacyPatch(global, api);\n            propertyDescriptorLegacyPatch(api, global);\n        });\n    };\n})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nvar taskSymbol = zoneSymbol('zoneTask');\nfunction patchTimer(window, setName, cancelName, nameSuffix) {\n    var setNative = null;\n    var clearNative = null;\n    setName += nameSuffix;\n    cancelName += nameSuffix;\n    var tasksByHandleId = {};\n    function scheduleTask(task) {\n        var data = task.data;\n        function timer() {\n            try {\n                task.invoke.apply(this, arguments);\n            }\n            finally {\n                // issue-934, task will be cancelled\n                // even it is a periodic task such as\n                // setInterval\n                if (!(task.data && task.data.isPeriodic)) {\n                    if (typeof data.handleId === 'number') {\n                        // in non-nodejs env, we remove timerId\n                        // from local cache\n                        delete tasksByHandleId[data.handleId];\n                    }\n                    else if (data.handleId) {\n                        // Node returns complex objects as handleIds\n                        // we remove task reference from timer object\n                        data.handleId[taskSymbol] = null;\n                    }\n                }\n            }\n        }\n        data.args[0] = timer;\n        data.handleId = setNative.apply(window, data.args);\n        return task;\n    }\n    function clearTask(task) {\n        return clearNative(task.data.handleId);\n    }\n    setNative =\n        patchMethod(window, setName, function (delegate) { return function (self, args) {\n            if (typeof args[0] === 'function') {\n                var options = {\n                    isPeriodic: nameSuffix === 'Interval',\n                    delay: (nameSuffix === 'Timeout' || nameSuffix === 'Interval') ? args[1] || 0 :\n                        undefined,\n                    args: args\n                };\n                var task = scheduleMacroTaskWithCurrentZone(setName, args[0], options, scheduleTask, clearTask);\n                if (!task) {\n                    return task;\n                }\n                // Node.js must additionally support the ref and unref functions.\n                var handle = task.data.handleId;\n                if (typeof handle === 'number') {\n                    // for non nodejs env, we save handleId: task\n                    // mapping in local cache for clearTimeout\n                    tasksByHandleId[handle] = task;\n                }\n                else if (handle) {\n                    // for nodejs env, we save task\n                    // reference in timerId Object for clearTimeout\n                    handle[taskSymbol] = task;\n                }\n                // check whether handle is null, because some polyfill or browser\n                // may return undefined from setTimeout/setInterval/setImmediate/requestAnimationFrame\n                if (handle && handle.ref && handle.unref && typeof handle.ref === 'function' &&\n                    typeof handle.unref === 'function') {\n                    task.ref = handle.ref.bind(handle);\n                    task.unref = handle.unref.bind(handle);\n                }\n                if (typeof handle === 'number' || handle) {\n                    return handle;\n                }\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(window, args);\n            }\n        }; });\n    clearNative =\n        patchMethod(window, cancelName, function (delegate) { return function (self, args) {\n            var id = args[0];\n            var task;\n            if (typeof id === 'number') {\n                // non nodejs env.\n                task = tasksByHandleId[id];\n            }\n            else {\n                // nodejs env.\n                task = id && id[taskSymbol];\n                // other environments.\n                if (!task) {\n                    task = id;\n                }\n            }\n            if (task && typeof task.type === 'string') {\n                if (task.state !== 'notScheduled' &&\n                    (task.cancelFn && task.data.isPeriodic || task.runCount === 0)) {\n                    if (typeof id === 'number') {\n                        delete tasksByHandleId[id];\n                    }\n                    else if (id) {\n                        id[taskSymbol] = null;\n                    }\n                    // Do not cancel already canceled functions\n                    task.zone.cancelTask(task);\n                }\n            }\n            else {\n                // cause an error by calling it directly.\n                delegate.apply(window, args);\n            }\n        }; });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCustomElements(_global, api) {\n    var _a = api.getGlobalObjects(), isBrowser = _a.isBrowser, isMix = _a.isMix;\n    if ((!isBrowser && !isMix) || !_global['customElements'] || !('customElements' in _global)) {\n        return;\n    }\n    var callbacks = ['connectedCallback', 'disconnectedCallback', 'adoptedCallback', 'attributeChangedCallback'];\n    api.patchCallbacks(api, _global.customElements, 'customElements', 'define', callbacks);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction eventTargetPatch(_global, api) {\n    if (Zone[api.symbol('patchEventTarget')]) {\n        // EventTarget is already patched.\n        return;\n    }\n    var _a = api.getGlobalObjects(), eventNames = _a.eventNames, zoneSymbolEventNames = _a.zoneSymbolEventNames, TRUE_STR = _a.TRUE_STR, FALSE_STR = _a.FALSE_STR, ZONE_SYMBOL_PREFIX = _a.ZONE_SYMBOL_PREFIX;\n    //  predefine all __zone_symbol__ + eventName + true/false string\n    for (var i = 0; i < eventNames.length; i++) {\n        var eventName = eventNames[i];\n        var falseEventName = eventName + FALSE_STR;\n        var trueEventName = eventName + TRUE_STR;\n        var symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n        var symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n        zoneSymbolEventNames[eventName] = {};\n        zoneSymbolEventNames[eventName][FALSE_STR] = symbol;\n        zoneSymbolEventNames[eventName][TRUE_STR] = symbolCapture;\n    }\n    var EVENT_TARGET = _global['EventTarget'];\n    if (!EVENT_TARGET || !EVENT_TARGET.prototype) {\n        return;\n    }\n    api.patchEventTarget(_global, [EVENT_TARGET && EVENT_TARGET.prototype]);\n    return true;\n}\nfunction patchEvent$1(global, api) {\n    api.patchEventPrototype(global, api);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nZone.__load_patch('legacy', function (global) {\n    var legacyPatch = global[Zone.__symbol__('legacyPatch')];\n    if (legacyPatch) {\n        legacyPatch();\n    }\n});\nZone.__load_patch('timers', function (global) {\n    var set = 'set';\n    var clear = 'clear';\n    patchTimer(global, set, clear, 'Timeout');\n    patchTimer(global, set, clear, 'Interval');\n    patchTimer(global, set, clear, 'Immediate');\n});\nZone.__load_patch('requestAnimationFrame', function (global) {\n    patchTimer(global, 'request', 'cancel', 'AnimationFrame');\n    patchTimer(global, 'mozRequest', 'mozCancel', 'AnimationFrame');\n    patchTimer(global, 'webkitRequest', 'webkitCancel', 'AnimationFrame');\n});\nZone.__load_patch('blocking', function (global, Zone) {\n    var blockingMethods = ['alert', 'prompt', 'confirm'];\n    for (var i = 0; i < blockingMethods.length; i++) {\n        var name_1 = blockingMethods[i];\n        patchMethod(global, name_1, function (delegate, symbol, name) {\n            return function (s, args) {\n                return Zone.current.run(delegate, global, args, name);\n            };\n        });\n    }\n});\nZone.__load_patch('EventTarget', function (global, Zone, api) {\n    patchEvent$1(global, api);\n    eventTargetPatch(global, api);\n    // patch XMLHttpRequestEventTarget's addEventListener/removeEventListener\n    var XMLHttpRequestEventTarget = global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype) {\n        api.patchEventTarget(global, [XMLHttpRequestEventTarget.prototype]);\n    }\n    patchClass('MutationObserver');\n    patchClass('WebKitMutationObserver');\n    patchClass('IntersectionObserver');\n    patchClass('FileReader');\n});\nZone.__load_patch('on_property', function (global, Zone, api) {\n    propertyDescriptorPatch(api, global);\n    propertyPatch();\n});\nZone.__load_patch('customElements', function (global, Zone, api) {\n    patchCustomElements(global, api);\n});\nZone.__load_patch('XHR', function (global, Zone) {\n    // Treat XMLHttpRequest as a macrotask.\n    patchXHR(global);\n    var XHR_TASK = zoneSymbol('xhrTask');\n    var XHR_SYNC = zoneSymbol('xhrSync');\n    var XHR_LISTENER = zoneSymbol('xhrListener');\n    var XHR_SCHEDULED = zoneSymbol('xhrScheduled');\n    var XHR_URL = zoneSymbol('xhrURL');\n    var XHR_ERROR_BEFORE_SCHEDULED = zoneSymbol('xhrErrorBeforeScheduled');\n    function patchXHR(window) {\n        var XMLHttpRequest = window['XMLHttpRequest'];\n        if (!XMLHttpRequest) {\n            // XMLHttpRequest is not available in service worker\n            return;\n        }\n        var XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n        function findPendingTask(target) {\n            return target[XHR_TASK];\n        }\n        var oriAddListener = XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n        var oriRemoveListener = XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n        if (!oriAddListener) {\n            var XMLHttpRequestEventTarget_1 = window['XMLHttpRequestEventTarget'];\n            if (XMLHttpRequestEventTarget_1) {\n                var XMLHttpRequestEventTargetPrototype = XMLHttpRequestEventTarget_1.prototype;\n                oriAddListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n        }\n        var READY_STATE_CHANGE = 'readystatechange';\n        var SCHEDULED = 'scheduled';\n        function scheduleTask(task) {\n            var data = task.data;\n            var target = data.target;\n            target[XHR_SCHEDULED] = false;\n            target[XHR_ERROR_BEFORE_SCHEDULED] = false;\n            // remove existing event listener\n            var listener = target[XHR_LISTENER];\n            if (!oriAddListener) {\n                oriAddListener = target[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n            if (listener) {\n                oriRemoveListener.call(target, READY_STATE_CHANGE, listener);\n            }\n            var newListener = target[XHR_LISTENER] = function () {\n                if (target.readyState === target.DONE) {\n                    // sometimes on some browsers XMLHttpRequest will fire onreadystatechange with\n                    // readyState=4 multiple times, so we need to check task state here\n                    if (!data.aborted && target[XHR_SCHEDULED] && task.state === SCHEDULED) {\n                        // check whether the xhr has registered onload listener\n                        // if that is the case, the task should invoke after all\n                        // onload listeners finish.\n                        var loadTasks = target['__zone_symbol__loadfalse'];\n                        if (loadTasks && loadTasks.length > 0) {\n                            var oriInvoke_1 = task.invoke;\n                            task.invoke = function () {\n                                // need to load the tasks again, because in other\n                                // load listener, they may remove themselves\n                                var loadTasks = target['__zone_symbol__loadfalse'];\n                                for (var i = 0; i < loadTasks.length; i++) {\n                                    if (loadTasks[i] === task) {\n                                        loadTasks.splice(i, 1);\n                                    }\n                                }\n                                if (!data.aborted && task.state === SCHEDULED) {\n                                    oriInvoke_1.call(task);\n                                }\n                            };\n                            loadTasks.push(task);\n                        }\n                        else {\n                            task.invoke();\n                        }\n                    }\n                    else if (!data.aborted && target[XHR_SCHEDULED] === false) {\n                        // error occurs when xhr.send()\n                        target[XHR_ERROR_BEFORE_SCHEDULED] = true;\n                    }\n                }\n            };\n            oriAddListener.call(target, READY_STATE_CHANGE, newListener);\n            var storedTask = target[XHR_TASK];\n            if (!storedTask) {\n                target[XHR_TASK] = task;\n            }\n            sendNative.apply(target, data.args);\n            target[XHR_SCHEDULED] = true;\n            return task;\n        }\n        function placeholderCallback() { }\n        function clearTask(task) {\n            var data = task.data;\n            // Note - ideally, we would call data.target.removeEventListener here, but it's too late\n            // to prevent it from firing. So instead, we store info for the event listener.\n            data.aborted = true;\n            return abortNative.apply(data.target, data.args);\n        }\n        var openNative = patchMethod(XMLHttpRequestPrototype, 'open', function () { return function (self, args) {\n            self[XHR_SYNC] = args[2] == false;\n            self[XHR_URL] = args[1];\n            return openNative.apply(self, args);\n        }; });\n        var XMLHTTPREQUEST_SOURCE = 'XMLHttpRequest.send';\n        var fetchTaskAborting = zoneSymbol('fetchTaskAborting');\n        var fetchTaskScheduling = zoneSymbol('fetchTaskScheduling');\n        var sendNative = patchMethod(XMLHttpRequestPrototype, 'send', function () { return function (self, args) {\n            if (Zone.current[fetchTaskScheduling] === true) {\n                // a fetch is scheduling, so we are using xhr to polyfill fetch\n                // and because we already schedule macroTask for fetch, we should\n                // not schedule a macroTask for xhr again\n                return sendNative.apply(self, args);\n            }\n            if (self[XHR_SYNC]) {\n                // if the XHR is sync there is no task to schedule, just execute the code.\n                return sendNative.apply(self, args);\n            }\n            else {\n                var options = { target: self, url: self[XHR_URL], isPeriodic: false, args: args, aborted: false };\n                var task = scheduleMacroTaskWithCurrentZone(XMLHTTPREQUEST_SOURCE, placeholderCallback, options, scheduleTask, clearTask);\n                if (self && self[XHR_ERROR_BEFORE_SCHEDULED] === true && !options.aborted &&\n                    task.state === SCHEDULED) {\n                    // xhr request throw error when send\n                    // we should invoke task instead of leaving a scheduled\n                    // pending macroTask\n                    task.invoke();\n                }\n            }\n        }; });\n        var abortNative = patchMethod(XMLHttpRequestPrototype, 'abort', function () { return function (self, args) {\n            var task = findPendingTask(self);\n            if (task && typeof task.type == 'string') {\n                // If the XHR has already completed, do nothing.\n                // If the XHR has already been aborted, do nothing.\n                // Fix #569, call abort multiple times before done will cause\n                // macroTask task count be negative number\n                if (task.cancelFn == null || (task.data && task.data.aborted)) {\n                    return;\n                }\n                task.zone.cancelTask(task);\n            }\n            else if (Zone.current[fetchTaskAborting] === true) {\n                // the abort is called from fetch polyfill, we need to call native abort of XHR.\n                return abortNative.apply(self, args);\n            }\n            // Otherwise, we are trying to abort an XHR which has not yet been sent, so there is no\n            // task\n            // to cancel. Do nothing.\n        }; });\n    }\n});\nZone.__load_patch('geolocation', function (global) {\n    /// GEO_LOCATION\n    if (global['navigator'] && global['navigator'].geolocation) {\n        patchPrototype(global['navigator'].geolocation, ['getCurrentPosition', 'watchPosition']);\n    }\n});\nZone.__load_patch('PromiseRejectionEvent', function (global, Zone) {\n    // handle unhandled promise rejection\n    function findPromiseRejectionHandler(evtName) {\n        return function (e) {\n            var eventTasks = findEventTasks(global, evtName);\n            eventTasks.forEach(function (eventTask) {\n                // windows has added unhandledrejection event listener\n                // trigger the event listener\n                var PromiseRejectionEvent = global['PromiseRejectionEvent'];\n                if (PromiseRejectionEvent) {\n                    var evt = new PromiseRejectionEvent(evtName, { promise: e.promise, reason: e.rejection });\n                    eventTask.invoke(evt);\n                }\n            });\n        };\n    }\n    if (global['PromiseRejectionEvent']) {\n        Zone[zoneSymbol('unhandledPromiseRejectionHandler')] =\n            findPromiseRejectionHandler('unhandledrejection');\n        Zone[zoneSymbol('rejectionHandledHandler')] =\n            findPromiseRejectionHandler('rejectionhandled');\n    }\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n})));\n","var map = {\n\t\"./home/home.module\": \"./src/app/home/home.module.ts\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","import { Animation } from '@ionic/core';\n\nexport function myEnterAnimation(AnimationC: Animation, baseEl: HTMLElement): Promise<Animation> {\n\n    const baseAnimation = new AnimationC();\n\n    const backdropAnimation = new AnimationC();\n    backdropAnimation.addElement(baseEl.querySelector('ion-backdrop'));\n\n    const wrapperAnimation = new AnimationC();\n    wrapperAnimation.addElement(baseEl.querySelector('.modal-wrapper'));\n\n    wrapperAnimation\n        .fromTo('transform', 'scaleX(0.1) scaleY(0.1)', 'translateX(0%) scaleX(1) scaleY(1)')\n        .fromTo('opacity', 0, 1);\n\n    backdropAnimation.fromTo('opacity', 0.01, 0.4);\n\n    return Promise.resolve(baseAnimation\n        .addElement(baseEl)\n        .easing('cubic-bezier(0.36,0.66,0.04,1)')\n        .duration(400)\n        .beforeAddClass('show-modal')\n        .add(backdropAnimation)\n        .add(wrapperAnimation));\n\n}","import { Animation } from '@ionic/core';\n\n\n//see blog -- https://www.joshmorony.com/create-a-custom-modal-page-transition-animation-in-ionic/\n\nexport function myLeaveAnimation(AnimationC: Animation, baseEl: HTMLElement): Promise<Animation> {\n\n    const baseAnimation = new AnimationC();\n\n    const backdropAnimation = new AnimationC();\n    backdropAnimation.addElement(baseEl.querySelector('ion-backdrop'));\n\n    const wrapperAnimation = new AnimationC();\n    const wrapperEl = baseEl.querySelector('.modal-wrapper');\n    wrapperAnimation.addElement(wrapperEl);\n    const wrapperElRect = wrapperEl!.getBoundingClientRect();\n\n    wrapperAnimation\n      .fromTo('transform', 'scaleX(1) scaleY(1)', 'scaleX(0.1) scaleY(0.1)')\n      .fromTo('opacity', 1, 0);\n\n    backdropAnimation.fromTo('opacity', 0.4, 0.0);\n\n    return Promise.resolve(baseAnimation\n      .addElement(baseEl)\n      .easing('ease-out')\n      .duration(400)\n      .add(backdropAnimation)\n      .add(wrapperAnimation));\n\n}","import { NgModule } from '@angular/core';\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\nimport { SimpleLoadingStrategy } from './SimpleLoadingStrategy';\nimport { AwardMemesComponent } from './incentive/award-memes/award-memes.component';\nimport { DemoAquariumComponent } from './incentive/aquarium/demo-aquarium/demo-aquarium.component';\n//import { SelectiveLoadingStrategy } from './SelectiveLoadingStrategy';\n//import { InitiatedDrinkComponent } from './survey/initiated-drink/initiated-drink.component';\n//import { AwardComponent } from './incentive/award/award.component';\n//import { ActivetaskComponent } from './survey/activetask/activetask.component';\n//import { ActiveTask2Component } from './survey/active-task2/active-task2.component';\n//import { VisualizationComponent } from './incentive/visualization/visualization.component';\n//import { DynamicSurveyComponent } from './survey/dynamic-survey/dynamic-survey.component';\n//import { Q1MotivatedComponent } from './incentive/life-insights/q1-motivated/q1-motivated.component';\n//import { SampleSurveyComponent } from './survey/sample-survey/sample-survey.component';\nimport { SampleLifeInsightsComponent } from './incentive/life-insights/sample-life-insights/sample-life-insights.component';\nimport { TreasurechestComponent } from './incentive/treasurechest/treasurechest.component';\nimport { SampleSurveyComponent } from './survey/sample-survey/sample-survey.component';\nimport { AwardAltruismComponent } from './incentive/award-altruism/award-altruism.component';\nimport { CheatpageComponent } from './incentive/aquarium/cheatpage/cheatpage.component';\nimport { AyaSampleSurveyComponent } from './survey/aya-sample-survey/aya-sample-survey.component';\nimport { AuthGuard } from './user/auth/auth.guard';\nimport { AuthComponent } from './user/auth/auth.component';\nimport { InfoPageComponent } from './incentive/info-page/info-page.component';\nimport { ContactComponent } from './home/contact/contact.component';\nimport { FishbowlComponent } from './incentive/aquarium/previews/fishbowl/fishbowl.component';\nimport { SeaComponent } from './incentive/aquarium/previews/sea/sea.component';\nimport { TundraComponent } from './incentive/aquarium/previews/tundra/tundra.component';\nimport { RainforestComponent } from './incentive/aquarium/previews/rainforest/rainforest.component';\n\n\nconst routes: Routes = [\n  \n  /*   \n  { path: '', redirectTo: 'home', pathMatch: 'full' },\n  { path: 'home', loadChildren: './home/home.module#HomePageModule' },\n  { path: 'survey/initated-drink', component: InitiatedDrinkComponent },\n  { path: 'survey/activetask', component: ActivetaskComponent },\n  { path: 'survey/activetask2', component: ActiveTask2Component },\n  { path: 'survey/dynamicsurvey', component: DynamicSurveyComponent }, \n  { path: 'survey/samplesurvey', component: SampleSurveyComponent }, \n  { path: 'incentive/award', component: AwardComponent },\n  { path: 'incentive/award-memes', component: AwardMemesComponent },\n  { path: 'incentive/visualization', component: VisualizationComponent},\n  { path: 'incentive/aquariumone', component: DemoAquariumComponent },  \n  { path: 'life-insight/q1lifeinsight', component: Q1MotivatedComponent },\n  */\n  \n  { path: '', redirectTo: 'home', pathMatch: 'full', canActivate: [AuthGuard]},\n  {path: 'auth', component: AuthComponent}, \n  { path: 'home', loadChildren: './home/home.module#HomePageModule', canActivate: [AuthGuard]},\n  //{ path: 'home', component: DemoAquariumComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/sample-life-insight', component: SampleLifeInsightsComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/treasurechest', component: TreasurechestComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/cheatpoints', component: CheatpageComponent, canActivate: [AuthGuard]},\n  { path: 'survey/samplesurvey', component: SampleSurveyComponent, canActivate: [AuthGuard]}, \n  { path: 'survey/samplesurvey2', component: AyaSampleSurveyComponent, canActivate: [AuthGuard]}, \n  { path: 'incentive/aquariumone', component: DemoAquariumComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/award-memes', component: AwardMemesComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/award-altruism', component: AwardAltruismComponent, canActivate: [AuthGuard]},\n  { path: 'contact-study-staff', component: ContactComponent, canActivate: [AuthGuard]},\n  { path: 'incentive/infopage', component: InfoPageComponent, canActivate: [AuthGuard]},\n  { path: 'preview/fishbowl', component: FishbowlComponent, canActivate: [AuthGuard]},\n  { path: 'preview/sea', component: SeaComponent, canActivate: [AuthGuard]},\n  { path: 'preview/tundra', component: TundraComponent, canActivate: [AuthGuard]},\n  { path: 'preview/rainforest', component: RainforestComponent, canActivate: [AuthGuard]}\n\n  //{ path: 'incentive/award-memes', component: AwardMemesComponent },\n  //{ path: 'incentive/aquariumone', component: DemoAquariumComponent },  \n  /*\n  { \n    path: 'survey', \n    //loadChildren: () => import('./survey/survey.module').then(mod => mod.SurveyModule)\n    loadChildren: './survey/survey.module#SurveyModule',\n    data: {\n      //name: 'survey'\n      preload: false\n    }\n  }, \n  */\n  /*\n  { \n    path: 'incentive/aquarium', \n       loadChildren: './incentive/aquarium/aquarium.module#AquariumModule',\n       data: {\n        //name: 'survey'\n        preload: true\n      }    \n  }, \n  */\n   /*\n  { \n    path: 'incentive', \n      loadChildren: './incentive/incentive.module#IncentiveModule',\n     data: {\n       //name: 'survey'\n       preload: true\n     }    \n  }\n  */\n\n  // { path: 'incentive/life-insights', \n  //   loadChildren: './incentive/life-insights/life-insights.module#LifeInsightsModule',\n  //   data: {\n  //     //name: 'life-insights'\n  //     preload: true\n  //   } \n  // }, \n\n\n];\n\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\n  ],\n  exports: [RouterModule]\n})\n\n/*\n@NgModule({\n  providers: [\n    SimpleLoadingStrategy\n    //SelectiveLoadingStrategy\n  ],\n  imports: [\n    //RouterModule.forRoot(routes)\n    RouterModule.forRoot(routes, { preloadingStrategy: SimpleLoadingStrategy })\n  ],\n  exports: [RouterModule]\n})\n*/\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\nimport { Platform, NavController } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { OneSignalService } from './notification/one-signal.service';\n\nimport { environment } from '../environments/environment';\nimport { Router, RouterEvent, RouteConfigLoadStart, RouteConfigLoadEnd, NavigationStart, NavigationEnd } from '@angular/router';\n\nimport { LoadingController } from '@ionic/angular';\nimport { UserProfileService } from './user/user-profile/user-profile.service';\nimport { AuthService } from './user/auth/auth.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html'\n})\nexport class AppComponent {\n  public isShowingRouteLoadIndicator: boolean;\n  loading;\n  // isLoading = true;\n\n  isAYA: boolean;\n\n  get username(){\n    if(this.userProfileService == undefined)\n      return \"test\";\n    else{\n      //console.log(\"User profile -- username -- called from here\");\n      return this.userProfileService.username;\n    }\n  }\n\n  constructor(\n    private router: Router, \n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar,\n    private oneSignalService: OneSignalService,\n    private authService: AuthService,\n    private userProfileService: UserProfileService,\n    public loadingController: LoadingController,\n    public navController: NavController\n   ) {\n    this.initializeApp();\n\n    this.isAYA = true;\n\n    router.events.subscribe(\n\t\t\t( event: RouterEvent ) : void => {\n\n        //this.isShowingRouteLoadIndicator = false;\n        var asyncLoadCount = 0;\n\n        \n\t\t\t\tif ( event instanceof RouteConfigLoadStart ) {\n          asyncLoadCount++;\n          console.log(\"Routing started\");\n          //console.log(event);\n          //this.survey_text = \"Loading Survey\";\n          console.log(event.route.path);\n\n          // if(event.route.path == \"survey\")\n          //    this.showLaoding();\n\n\t\t\t\t} else if ( event instanceof RouteConfigLoadEnd ) {\n          asyncLoadCount--;\n          console.log(\"Routing ended\");\n          console.log(event.route.path);\n\n          // if(event.route.path == \"survey\")\n          //    this.dismissLoading();\n\n          //console.log(event);\n          //this.survey_text = \"Start survey\";\n          //console.log(this.router.url);\n\t\t\t\t} else if ( event instanceof NavigationStart ) {\n          console.log(\"Navigation started\");\n          //this.survey_text = \"Start survey\";\n\t\t\t\t} else if ( event instanceof NavigationEnd ) {\n          asyncLoadCount--;\n          console.log(\"Navigation ended\");\n          //this.survey_text = \"Start survey\";\n\t\t\t\t}\n\n\t\t\t\t// If there is at least one pending asynchronous config load request,\n\t\t\t\t// then let's show the loading indicator.\n\t\t\t\t// --\n\t\t\t\t// CAUTION: I'm using CSS to include a small delay such that this loading\n\t\t\t\t// indicator won't be seen by people with sufficiently fast connections.\n\t\t\t\tthis.isShowingRouteLoadIndicator = !! asyncLoadCount;\n\n\t\t\t}\n\t\t);\n  }\n\n  agreeToTerms: boolean = JSON.parse(localStorage.getItem(\"agreeToTerms\"));\n  private userSub: Subscription;\n\n  ngOnInit(){\n  }\n\n  ngOnDestroy(){\n    if(this.userSub){\n      this.userSub.unsubscribe();\n    }\n  }\n\n  initializeApp() {\n\n    if(this.authService.isLoggedIn()){\n      this.userProfileService.loadProfileFromDevice();\n      // this.isLoading = false;\n\n      // get up to date userProfileFixed - to see if isActive has changed\n      this.userProfileService.fetchUserProfileFixed().subscribe(response=>{\n        if(response.changed){\n          // there was a change to isActive\n          // accessible via\n          // this.userProfileService.isActive\n        }\n      });\n\n      // fetch a copy from server of userProfile to see if it's newer \n      this.userProfileService.fetchUserProfile().subscribe(response=>{\n        if(response.serverCopyNewer){\n          // the server copy of the userProfile was newer (and has been updated locally)\n          // accessible via\n          // this.userProfileService.userProfile\n        }\n      });\n\n    }\n\n    else {\n      // not logged in; so do nothing\n      // should be routed via the authguard to the login screen\n      // after login occurs we should load the 'user-profile' and 'user-profile-fixed' - which happens via the auth.component\n    }\n\n    this.platform.ready().then(() => {\n      //this.statusBar.styleDefault();\n\n      // let status bar overlay webview\n      //this.statusBar.overlaysWebView(true);\n      // set status bar to white\n      //this.statusBar.backgroundColorByHexString('#ffffff');\n\n      if(this.platform.is('android')) {\n        this.statusBar.styleLightContent();\n        this.statusBar.backgroundColorByHexString(\"#004166\");\n      }\n\n      this.splashScreen.hide();\n      this.oneSignalService.initOneSignal();\n\n      //sidebar update.\n      if((this.userProfileService != undefined)  && (this.userProfileService.isParent == true))\n          this.isAYA = false;\n      \n\n    });\n    //window.localStorage.setItem(\"TotalPoints\", \"0\");\n\n    // let status bar overlay webview\n    //this.statusBar.overlaysWebView(true);\n\n    // set status bar to white\n    //this.statusBar.backgroundColorByHexString('#ffffff');\n\n\n  }\n\n  async showLoading(){\n    this.loading = await this.loadingController.create({\n      message: \"Loading...\",\n      spinner: \"lines\",\n      duration: 5000\n    });\n\n    this.loading.onDidDismiss(() => {\n      console.log('Dismissed loading after 5 seconds');\n    });\n\n    this.loading.present();\n  }\n\n  async dismissLoading(){\n    this.loading.dismiss();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Hellooo',\n      duration: 2000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n\n    console.log('Loading dismissed!');\n  }\n\n  async presentLoadingWithOptions() {\n    const loading = await this.loadingController.create({\n      spinner: null,\n      duration: 5000,\n      message: 'Please wait...',\n      translucent: true,\n      cssClass: 'custom-class custom-loading'\n    });\n    return await loading.present();\n  }\n\n  //\n  async showPreviewOfFishBowl(){\n    this.navController.navigateRoot(['/preview/fishbowl']);\n  }\n\n  async showPreviewOfSea(){\n    this.navController.navigateRoot(['/preview/sea']);\n  }\n\n  async showPreviewOfTundra(){\n    this.navController.navigateRoot(['/preview/tundra']);\n  }\n\n  async showPreviewOfRainforest(){\n    this.navController.navigateRoot(['/preview/rainforest']);\n  }\n\n}\n","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { BlobModule } from 'angular-azure-blob-service';\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { Injector } from '@angular/core';\nimport { SQLitePorter } from '@ionic-native/sqlite-porter/ngx';\nimport { SQLite } from '@ionic-native/sqlite/ngx';\n\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { NotificationModule } from './notification/notification.module';\nimport { IncentiveModule } from './incentive/incentive.module';\nimport { LifeInsightsModule } from './incentive/life-insights/life-insights.module';\nimport { SurveyModule } from './survey/survey.module';\nimport { AquariumModule } from './incentive/aquarium/aquarium.module';\nimport { FormsModule } from '@angular/forms';\nimport { CheatpageComponent } from './incentive/aquarium/cheatpage/cheatpage.component';\nimport { UserModule } from './user/user.module';\nimport { HomePageModule } from './home/home.module';\nimport { AwardDollarService } from './incentive/award-money/award-dollar.service';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\nimport { StoreModule } from '@ngrx/store';\nimport { reducers, metaReducers } from './reducers';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { environment } from '../environments/environment';\nimport {EffectsModule} from '@ngrx/effects';\nimport { GlobalErrorHandler } from './error_handler/GlobalErrorHandler';\nimport { MobileAccessibility } from '@ionic-native/mobile-accessibility/ngx';\n\n\n@NgModule({\n  declarations: [AppComponent,CheatpageComponent],\n  entryComponents: [CheatpageComponent],\n  imports: [\n    BrowserModule, \n    IonicModule.forRoot(), \n    AppRoutingModule,\n    SurveyModule,\n    IncentiveModule,\n    LifeInsightsModule,\n    NotificationModule,\n    HttpClientModule,\n    AquariumModule,\n    FormsModule,\n    UserModule,\n    HomePageModule,\n    BlobModule.forRoot(),\n    //this ngrx import\n    StoreModule.forRoot(reducers, {\n      metaReducers,\n      runtimeChecks: {\n        strictStateImmutability: true,\n        strictActionImmutability: true\n      }\n    }),\n    //dev tool maxAge 25 versions of the data\n    StoreDevtoolsModule.instrument({ maxAge: 25, logOnly: environment.production }),\n    EffectsModule.forRoot([])\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    OneSignal,\n    AwardDollarService,\n    AppVersion,\n    MobileAccessibility,\n    SQLite,\n    SQLitePorter,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy},\n    {provide: ErrorHandler, useClass: GlobalErrorHandler}\n  ],\n  bootstrap: [AppComponent]\n})\n\nexport class AppModule {\n  static injector: Injector;\n  constructor(private injector: Injector) {\n    AppModule.injector = injector;\n  }\n}\n","import { ErrorHandler, Injectable, Injector } from '@angular/core';\nimport { LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport * as StackTrace from 'stacktrace-js';\n\nimport * as Sentry from 'sentry-cordova';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nSentry.init({\n  dsn: \"https://b52fab19a7b54657aa485caf384beb23@o408765.ingest.sentry.io/5280045\"\n  // TryCatch has to be configured to disable XMLHttpRequest wrapping, as we are going to handle\n  // http module exceptions manually in Angular's ErrorHandler and we don't want it to capture the same error twice.\n  // Please note that TryCatch configuration requires at least @sentry/browser v5.16.0.\n\n  // extra steps for ionic\n  // https://docs.sentry.io/platforms/javascript/ionic/\n\n  \n});\n\n@Injectable()\nexport class GlobalErrorHandler implements ErrorHandler {\n  \n  constructor() {}\n\n  extractError(error) {\n        // Try to unwrap zone.js error.\n        // https://github.com/angular/angular/blob/master/packages/core/src/util/errors.ts\n        if (error && error.ngOriginalError) {\n            error = error.ngOriginalError;\n        }\n\n        // We can handle messages and Error objects directly.\n        if (typeof error === \"string\" || error instanceof Error) {\n        return error;\n        }\n\n        // If it's http module error, extract as much information from it as we can.\n        if (error instanceof HttpErrorResponse) {\n        // The `error` property of http exception can be either an `Error` object, which we can use directly...\n        if (error.error instanceof Error) {\n            return error.error;\n        }\n\n        // ... or an`ErrorEvent`, which can provide us with the message but no stack...\n        if (error.error instanceof ErrorEvent) {\n            return error.error.message;\n        }\n\n        // ...or the request body itself, which we can use as a message instead.\n        if (typeof error.error === \"string\") {\n            return `Server returned code ${error.status} with body \"${error.error}\"`;\n        }\n\n        // If we don't have any detailed information, fallback to the request message itself.\n        return error.message;\n        }\n\n        // Skip if there's no error, and let user decide what to do with it.\n        return null;\n    }\n\n    handleError(error) {\n        let extractedError = this.extractError(error) || \"Handled unknown error\";\n\n        // Capture handled exception and send it to Sentry.\n        const eventId = Sentry.captureException(extractedError);\n        \n        // When in development mode, log the error to console for immediate feedback.\n        //if (!environment.production) {\n        //    console.error(extractedError);\n        //}\n        //console.error(extractedError);\n        \n        // Optionally show user dialog to provide details on what happened.\n        //Sentry.showReportDialog({ eventId });\n        // IMPORTANT: Rethrow the error otherwise it gets swallowed\n        throw error;\n    }\n    \n\n    /*\n\n    constructor(private injector: Injector) { }\n\n\n    handleError(error) {\n        // your custom error handling logic\n        \n        //both clientside and serverside errors have a message property that we can show to the user.\n\n\n        const loggingService = this.injector.get(LoggingService);\n        const location = this.injector.get(LocationStrategy);\n        const message = error.message ? error.message : error.toString();\n        const url = location instanceof PathLocationStrategy? location.path() : '';\n\n        // get the stack trace, lets grab the last 10 stacks only\n        StackTrace.fromError(error).then(stackframes => {\n            const stackString = stackframes\n                .splice(0, 20)\n                .map(function(sf) {\n                    return sf.toString();\n                }).join('\\n');\n\n            // log on the server\n            loggingService.log({ message, url, stack: stackString });\n        });\n\n        // IMPORTANT: Rethrow the error otherwise it gets swallowed\n        throw error;\n\n    }\n    */\n}","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9jb250YWN0L2NvbnRhY3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvY29udGFjdC9jb250YWN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA1NDg2O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport { DatabaseService } from 'src/app/monitor/database.service';\nimport { MobileAccessibility } from '@ionic-native/mobile-accessibility/ngx';\n\n@Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})\nexport class ContactComponent implements OnInit {\n\n  constructor(private menuCtrl:MenuController,\n    private mobileAccessibility: MobileAccessibility,\n    private appUsageDb: DatabaseService) { }\n\n  ngOnInit() {\n    //this.mobileAccessibility.usePreferredTextZoom(false);\n    this.menuCtrl.close();\n  }\n\n  ionViewDidEnter(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n     if (rdy) {     \n       this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n     }\n    });\n    */\n    this.appUsageDb.saveAppUsageEnter(\"study_contact_info_page\");  \n  }  \n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    //this.mobileAccessibility.usePreferredTextZoom(true);\n    this.appUsageDb.saveAppUsageExit(\"study_contact_info_page\");     \n  }\n\n}\n","module.exports = \".navbar {\\n  min-height: 30px;\\n  background-color: #3c9ce7;\\n  padding: 0px;\\n}\\n.navbar .navbar-brand {\\n  color: #ecf0f1;\\n}\\n.navbar .navbar-brand:hover, .navbar .navbar-brand:focus {\\n  color: #f9efa0;\\n}\\n.navbar .navbar-text {\\n  color: #ecf0f1;\\n}\\n.navbar .navbar-text a {\\n  color: #f9efa0;\\n}\\n.navbar .navbar-text a:hover, .navbar .navbar-text a:focus {\\n  color: #f9efa0;\\n}\\n.navbar .navbar-nav .nav-link {\\n  color: #ecf0f1;\\n  border-radius: 0.25rem;\\n  margin: 0 0.25em;\\n}\\n.navbar .navbar-nav .nav-link:not(.disabled):hover, .navbar .navbar-nav .nav-link:not(.disabled):focus {\\n  color: #f9efa0;\\n}\\n.navbar .navbar-nav .nav-item.active .nav-link, .navbar .navbar-nav .nav-item.active .nav-link:hover, .navbar .navbar-nav .nav-item.active .nav-link:focus, .navbar .navbar-nav .nav-item.show .nav-link, .navbar .navbar-nav .nav-item.show .nav-link:hover, .navbar .navbar-nav .nav-item.show .nav-link:focus {\\n  color: #f9efa0;\\n  background-color: #477fd9;\\n}\\n.navbar .navbar-toggle {\\n  border-color: #477fd9;\\n}\\n.navbar .navbar-toggle:hover, .navbar .navbar-toggle:focus {\\n  background-color: #477fd9;\\n}\\n.navbar .navbar-toggle .navbar-toggler-icon {\\n  color: #ecf0f1;\\n}\\n.navbar .navbar-collapse,\\n.navbar .navbar-form {\\n  border-color: #ecf0f1;\\n}\\n.navbar .navbar-link {\\n  color: #ecf0f1;\\n}\\n.navbar .navbar-link:hover {\\n  color: #f9efa0;\\n}\\n@media (max-width: 575px) {\\n  .navbar-expend-sm .navbar-nav .show .dropdown-menu .dropdown-item {\\n    color: #ecf0f1;\\n  }\\n  .navbar-expend-sm .navbar-nav .show .dropdown-menu .dropdown-item:hover, .navbar-expend-sm .navbar-nav .show .dropdown-menu .dropdown-item:focus {\\n    color: #f9efa0;\\n  }\\n  .navbar-expend-sm .navbar-nav .show .dropdown-menu .dropdown-item.active {\\n    color: #f9efa0;\\n    background-color: #477fd9;\\n  }\\n}\\n@media (max-width: 767px) {\\n  .navbar-expend-md .navbar-nav .show .dropdown-menu .dropdown-item {\\n    color: #ecf0f1;\\n  }\\n  .navbar-expend-md .navbar-nav .show .dropdown-menu .dropdown-item:hover, .navbar-expend-md .navbar-nav .show .dropdown-menu .dropdown-item:focus {\\n    color: #f9efa0;\\n  }\\n  .navbar-expend-md .navbar-nav .show .dropdown-menu .dropdown-item.active {\\n    color: #f9efa0;\\n    background-color: #477fd9;\\n  }\\n}\\n@media (max-width: 991px) {\\n  .navbar-expend-lg .navbar-nav .show .dropdown-menu .dropdown-item {\\n    color: #ecf0f1;\\n  }\\n  .navbar-expend-lg .navbar-nav .show .dropdown-menu .dropdown-item:hover, .navbar-expend-lg .navbar-nav .show .dropdown-menu .dropdown-item:focus {\\n    color: #f9efa0;\\n  }\\n  .navbar-expend-lg .navbar-nav .show .dropdown-menu .dropdown-item.active {\\n    color: #f9efa0;\\n    background-color: #477fd9;\\n  }\\n}\\n@media (max-width: 1199px) {\\n  .navbar-expend-xl .navbar-nav .show .dropdown-menu .dropdown-item {\\n    color: #ecf0f1;\\n  }\\n  .navbar-expend-xl .navbar-nav .show .dropdown-menu .dropdown-item:hover, .navbar-expend-xl .navbar-nav .show .dropdown-menu .dropdown-item:focus {\\n    color: #f9efa0;\\n  }\\n  .navbar-expend-xl .navbar-nav .show .dropdown-menu .dropdown-item.active {\\n    color: #f9efa0;\\n    background-color: #477fd9;\\n  }\\n}\\n.navbar-expend .navbar-nav .show .dropdown-menu .dropdown-item {\\n  color: #ecf0f1;\\n}\\n.navbar-expend .navbar-nav .show .dropdown-menu .dropdown-item:hover, .navbar-expend .navbar-nav .show .dropdown-menu .dropdown-item:focus {\\n  color: #f9efa0;\\n}\\n.navbar-expend .navbar-nav .show .dropdown-menu .dropdown-item.active {\\n  color: #f9efa0;\\n  background-color: #477fd9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaG9tZS9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9ob21lL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0E7RUFDRSxnQkFBQTtFQUNBLHlCQVBnQjtFQVFoQixZQUFBO0FDSkY7QURLRTtFQUNFLGNBUmM7QUNLbEI7QURJSTtFQUNFLGNBVFk7QUNPbEI7QURHRTtFQUNFLGNBWmM7QUNXbEI7QURFSTtFQUNFLGNBYlk7QUNhbEI7QURDTTtFQUNFLGNBZlU7QUNnQmxCO0FEQ0k7RUFDRSxjQW5CWTtFQW9CWixzQkFBQTtFQUNBLGdCQUFBO0FDQ047QURDUTtFQUNFLGNBdkJRO0FDd0JsQjtBRFlNO0VBQ0UsY0FyQ1U7RUFzQ1YseUJBeENVO0FDOEJsQjtBRFdFO0VBQ0UscUJBMUNjO0FDaUNsQjtBRFVJO0VBQ0UseUJBNUNZO0FDb0NsQjtBRFNJO0VBQ0UsY0E3Q1k7QUNzQ2xCO0FEUUU7O0VBRUUscUJBaERjO0FDMENsQjtBRE9FO0VBQ0UsY0FsRGM7QUM2Q2xCO0FETUk7RUFDRSxjQW5EWTtBQytDbEI7QURLQTtFQUVJO0lBQ0UsY0F4RFk7RUNxRGhCO0VESUk7SUFDRSxjQXpEVTtFQ3VEaEI7RURHRTtJQUNFLGNBM0RZO0lBNERaLHlCQTlEWTtFQzZEaEI7QUFDRjtBRENBO0VBRUk7SUFDRSxjQWpFWTtFQ2lFaEI7RURDSTtJQUNFLGNBbEVVO0VDbUVoQjtFREFFO0lBQ0UsY0FwRVk7SUFxRVoseUJBdkVZO0VDeUVoQjtBQUNGO0FERkE7RUFFSTtJQUNFLGNBMUVZO0VDNkVoQjtFREZJO0lBQ0UsY0EzRVU7RUMrRWhCO0VESEU7SUFDRSxjQTdFWTtJQThFWix5QkFoRlk7RUNxRmhCO0FBQ0Y7QURMQTtFQUVJO0lBQ0UsY0FuRlk7RUN5RmhCO0VETEk7SUFDRSxjQXBGVTtFQzJGaEI7RURORTtJQUNFLGNBdEZZO0lBdUZaLHlCQXpGWTtFQ2lHaEI7QUFDRjtBRFBFO0VBQ0UsY0EzRmM7QUNvR2xCO0FEUkk7RUFDRSxjQTVGWTtBQ3NHbEI7QURURTtFQUNFLGNBOUZjO0VBK0ZkLHlCQWpHYztBQzRHbEIiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkYmdEZWZhdWx0ICAgICAgOiAjM2M5Y2U3O1xuJGJnSGlnaGxpZ2h0ICAgIDogIzQ3N2ZkOTtcbiRjb2xEZWZhdWx0ICAgICA6ICNlY2YwZjE7XG4kY29sSGlnaGxpZ2h0ICAgOiAjZjllZmEwO1xuJGRyb3BEb3duICAgICAgIDogZmFsc2U7XG4ubmF2YmFyIHtcbiAgbWluLWhlaWdodDogMzBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJnRGVmYXVsdDtcbiAgcGFkZGluZzogMHB4O1xuICAubmF2YmFyLWJyYW5kIHtcbiAgICBjb2xvcjogJGNvbERlZmF1bHQ7XG4gICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDsgfX1cbiAgLm5hdmJhci10ZXh0IHtcbiAgICBjb2xvcjogJGNvbERlZmF1bHQ7IFxuICAgIGEge1xuICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7XG4gICAgICAmOmhvdmVyLCAmOmZvY3VzIHtcbiAgICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7IH19fVxuICAubmF2YmFyLW5hdiB7XG4gICAgLm5hdi1saW5rIHtcbiAgICAgIGNvbG9yOiAkY29sRGVmYXVsdDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IC4yNXJlbTtcbiAgICAgIG1hcmdpbjogMCAwLjI1ZW07XG4gICAgICAmOm5vdCguZGlzYWJsZWQpIHtcbiAgICAgICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7IH19fVxuICAgIEBpZiAoJGRyb3BEb3duKSB7XG4gICAgICAuZHJvcGRvd24tbWVudSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiZ0RlZmF1bHQ7XG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJnSGlnaGxpZ2h0O1xuICAgICAgICAuZHJvcGRvd24taXRlbSB7XG4gICAgICAgICAgY29sb3I6ICRjb2xEZWZhdWx0O1xuICAgICAgICAgICY6aG92ZXIsICY6Zm9jdXMsICYuYWN0aXZlIHtcbiAgICAgICAgICAgIGNvbG9yOiAkY29sSGlnaGxpZ2h0O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGJnSGlnaGxpZ2h0OyB9fVxuICAgICAgICAuZHJvcGRvd24tZGl2aWRlciB7XG4gICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogJGJnSGlnaGxpZ2h0OyB9fX1cbiAgICAubmF2LWl0ZW0uYWN0aXZlLCAubmF2LWl0ZW0uc2hvdyB7XG4gICAgICAubmF2LWxpbmssIC5uYXYtbGluazpob3ZlciwgLm5hdi1saW5rOmZvY3VzIHtcbiAgICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiZ0hpZ2hsaWdodDsgfX19XG4gIC5uYXZiYXItdG9nZ2xlIHtcbiAgICBib3JkZXItY29sb3I6ICRiZ0hpZ2hsaWdodDtcbiAgICAmOmhvdmVyLCAmOmZvY3VzIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiZ0hpZ2hsaWdodDsgfVxuICAgIC5uYXZiYXItdG9nZ2xlci1pY29uIHtcbiAgICAgIGNvbG9yOiAkY29sRGVmYXVsdDsgfX1cbiAgLm5hdmJhci1jb2xsYXBzZSxcbiAgLm5hdmJhci1mb3JtIHtcbiAgICBib3JkZXItY29sb3I6ICRjb2xEZWZhdWx0OyB9XG4gIC5uYXZiYXItbGluayB7XG4gICAgY29sb3I6ICRjb2xEZWZhdWx0O1xuICAgICY6aG92ZXIge1xuICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7IH19fVxuQG1lZGlhIChtYXgtd2lkdGg6IDU3NXB4KSB7XG4gIC5uYXZiYXItZXhwZW5kLXNtIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IHtcbiAgICAuZHJvcGRvd24taXRlbSB7XG4gICAgICBjb2xvcjogJGNvbERlZmF1bHQ7XG4gICAgICAmOmhvdmVyLCAmOmZvY3VzIHtcbiAgICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7IH19XG4gICAgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgICAgIGNvbG9yOiAkY29sSGlnaGxpZ2h0O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGJnSGlnaGxpZ2h0OyB9fX1cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkge1xuICAubmF2YmFyLWV4cGVuZC1tZCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSB7XG4gICAgLmRyb3Bkb3duLWl0ZW0ge1xuICAgICAgY29sb3I6ICRjb2xEZWZhdWx0O1xuICAgICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICAgIGNvbG9yOiAkY29sSGlnaGxpZ2h0OyB9fVxuICAgIC5kcm9wZG93bi1pdGVtLmFjdGl2ZSB7XG4gICAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiZ0hpZ2hsaWdodDsgfX19XG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcbiAgLm5hdmJhci1leHBlbmQtbGcgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUge1xuICAgIC5kcm9wZG93bi1pdGVtIHtcbiAgICAgIGNvbG9yOiAkY29sRGVmYXVsdDtcbiAgICAgICY6aG92ZXIsICY6Zm9jdXMge1xuICAgICAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDsgfX1cbiAgICAuZHJvcGRvd24taXRlbS5hY3RpdmUge1xuICAgICAgY29sb3I6ICRjb2xIaWdobGlnaHQ7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmdIaWdobGlnaHQ7IH19fVxuQG1lZGlhIChtYXgtd2lkdGg6IDExOTlweCkge1xuICAubmF2YmFyLWV4cGVuZC14bCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSB7XG4gICAgLmRyb3Bkb3duLWl0ZW0ge1xuICAgICAgY29sb3I6ICRjb2xEZWZhdWx0O1xuICAgICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICAgIGNvbG9yOiAkY29sSGlnaGxpZ2h0OyB9fVxuICAgIC5kcm9wZG93bi1pdGVtLmFjdGl2ZSB7XG4gICAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRiZ0hpZ2hsaWdodDsgfX19XG4ubmF2YmFyLWV4cGVuZCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSB7XG4gIC5kcm9wZG93bi1pdGVtIHtcbiAgICBjb2xvcjogJGNvbERlZmF1bHQ7XG4gICAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDsgfX1cbiAgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgICBjb2xvcjogJGNvbEhpZ2hsaWdodDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmdIaWdobGlnaHQ7IH19IiwiLm5hdmJhciB7XG4gIG1pbi1oZWlnaHQ6IDMwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzYzljZTc7XG4gIHBhZGRpbmc6IDBweDtcbn1cbi5uYXZiYXIgLm5hdmJhci1icmFuZCB7XG4gIGNvbG9yOiAjZWNmMGYxO1xufVxuLm5hdmJhciAubmF2YmFyLWJyYW5kOmhvdmVyLCAubmF2YmFyIC5uYXZiYXItYnJhbmQ6Zm9jdXMge1xuICBjb2xvcjogI2Y5ZWZhMDtcbn1cbi5uYXZiYXIgLm5hdmJhci10ZXh0IHtcbiAgY29sb3I6ICNlY2YwZjE7XG59XG4ubmF2YmFyIC5uYXZiYXItdGV4dCBhIHtcbiAgY29sb3I6ICNmOWVmYTA7XG59XG4ubmF2YmFyIC5uYXZiYXItdGV4dCBhOmhvdmVyLCAubmF2YmFyIC5uYXZiYXItdGV4dCBhOmZvY3VzIHtcbiAgY29sb3I6ICNmOWVmYTA7XG59XG4ubmF2YmFyIC5uYXZiYXItbmF2IC5uYXYtbGluayB7XG4gIGNvbG9yOiAjZWNmMGYxO1xuICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICBtYXJnaW46IDAgMC4yNWVtO1xufVxuLm5hdmJhciAubmF2YmFyLW5hdiAubmF2LWxpbms6bm90KC5kaXNhYmxlZCk6aG92ZXIsIC5uYXZiYXIgLm5hdmJhci1uYXYgLm5hdi1saW5rOm5vdCguZGlzYWJsZWQpOmZvY3VzIHtcbiAgY29sb3I6ICNmOWVmYTA7XG59XG4ubmF2YmFyIC5uYXZiYXItbmF2IC5uYXYtaXRlbS5hY3RpdmUgLm5hdi1saW5rLCAubmF2YmFyIC5uYXZiYXItbmF2IC5uYXYtaXRlbS5hY3RpdmUgLm5hdi1saW5rOmhvdmVyLCAubmF2YmFyIC5uYXZiYXItbmF2IC5uYXYtaXRlbS5hY3RpdmUgLm5hdi1saW5rOmZvY3VzLCAubmF2YmFyIC5uYXZiYXItbmF2IC5uYXYtaXRlbS5zaG93IC5uYXYtbGluaywgLm5hdmJhciAubmF2YmFyLW5hdiAubmF2LWl0ZW0uc2hvdyAubmF2LWxpbms6aG92ZXIsIC5uYXZiYXIgLm5hdmJhci1uYXYgLm5hdi1pdGVtLnNob3cgLm5hdi1saW5rOmZvY3VzIHtcbiAgY29sb3I6ICNmOWVmYTA7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NzdmZDk7XG59XG4ubmF2YmFyIC5uYXZiYXItdG9nZ2xlIHtcbiAgYm9yZGVyLWNvbG9yOiAjNDc3ZmQ5O1xufVxuLm5hdmJhciAubmF2YmFyLXRvZ2dsZTpob3ZlciwgLm5hdmJhciAubmF2YmFyLXRvZ2dsZTpmb2N1cyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NzdmZDk7XG59XG4ubmF2YmFyIC5uYXZiYXItdG9nZ2xlIC5uYXZiYXItdG9nZ2xlci1pY29uIHtcbiAgY29sb3I6ICNlY2YwZjE7XG59XG4ubmF2YmFyIC5uYXZiYXItY29sbGFwc2UsXG4ubmF2YmFyIC5uYXZiYXItZm9ybSB7XG4gIGJvcmRlci1jb2xvcjogI2VjZjBmMTtcbn1cbi5uYXZiYXIgLm5hdmJhci1saW5rIHtcbiAgY29sb3I6ICNlY2YwZjE7XG59XG4ubmF2YmFyIC5uYXZiYXItbGluazpob3ZlciB7XG4gIGNvbG9yOiAjZjllZmEwO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTc1cHgpIHtcbiAgLm5hdmJhci1leHBlbmQtc20gLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0ge1xuICAgIGNvbG9yOiAjZWNmMGYxO1xuICB9XG4gIC5uYXZiYXItZXhwZW5kLXNtIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyLCAubmF2YmFyLWV4cGVuZC1zbSAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpmb2N1cyB7XG4gICAgY29sb3I6ICNmOWVmYTA7XG4gIH1cbiAgLm5hdmJhci1leHBlbmQtc20gLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgICBjb2xvcjogI2Y5ZWZhMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDc3ZmQ5O1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgLm5hdmJhci1leHBlbmQtbWQgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0ge1xuICAgIGNvbG9yOiAjZWNmMGYxO1xuICB9XG4gIC5uYXZiYXItZXhwZW5kLW1kIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyLCAubmF2YmFyLWV4cGVuZC1tZCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpmb2N1cyB7XG4gICAgY29sb3I6ICNmOWVmYTA7XG4gIH1cbiAgLm5hdmJhci1leHBlbmQtbWQgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgICBjb2xvcjogI2Y5ZWZhMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDc3ZmQ5O1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcbiAgLm5hdmJhci1leHBlbmQtbGcgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0ge1xuICAgIGNvbG9yOiAjZWNmMGYxO1xuICB9XG4gIC5uYXZiYXItZXhwZW5kLWxnIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyLCAubmF2YmFyLWV4cGVuZC1sZyAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpmb2N1cyB7XG4gICAgY29sb3I6ICNmOWVmYTA7XG4gIH1cbiAgLm5hdmJhci1leHBlbmQtbGcgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgICBjb2xvcjogI2Y5ZWZhMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDc3ZmQ5O1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogMTE5OXB4KSB7XG4gIC5uYXZiYXItZXhwZW5kLXhsIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtIHtcbiAgICBjb2xvcjogI2VjZjBmMTtcbiAgfVxuICAubmF2YmFyLWV4cGVuZC14bCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpob3ZlciwgLm5hdmJhci1leHBlbmQteGwgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW06Zm9jdXMge1xuICAgIGNvbG9yOiAjZjllZmEwO1xuICB9XG4gIC5uYXZiYXItZXhwZW5kLXhsIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtLmFjdGl2ZSB7XG4gICAgY29sb3I6ICNmOWVmYTA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ3N2ZkOTtcbiAgfVxufVxuLm5hdmJhci1leHBlbmQgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0ge1xuICBjb2xvcjogI2VjZjBmMTtcbn1cbi5uYXZiYXItZXhwZW5kIC5uYXZiYXItbmF2IC5zaG93IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyLCAubmF2YmFyLWV4cGVuZCAubmF2YmFyLW5hdiAuc2hvdyAuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpmb2N1cyB7XG4gIGNvbG9yOiAjZjllZmEwO1xufVxuLm5hdmJhci1leHBlbmQgLm5hdmJhci1uYXYgLnNob3cgLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlIHtcbiAgY29sb3I6ICNmOWVmYTA7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NzdmZDk7XG59Il19 */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from 'src/app/user/auth/auth.service';\nimport { Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent implements OnInit, OnDestroy  {\n  isAuthenticated = false;\n  private userSub: Subscription;\n  collapsed = true;\n\n  constructor(private authService: AuthService, \n              private router: Router) { }\n   \n  \n  // onTestButtonClicked(){\n  //   this.userProfileService.initialize();\n  //   this.userProfileService.saveToServer();\n  //   }\n\n    onLogout(){\n      this.authService.logout();\n      this.router.navigate(['/auth']);\n    }\n\n    ngOnInit(){\n      this.userSub=  this.authService.loggedInUser.subscribe(loggedInUser => {\n        this.isAuthenticated = this.authService.isLoggedIn();\n        console.log(!loggedInUser);\n      });\n      this.authService.autoLogin();\n    }\n\n    ngOnDestroy(){\n      this.userSub.unsubscribe();\n    }\n\n    get userName(){\n      return this.authService.loggedInUser.getValue();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\nimport { AquariumComponent } from '../incentive/aquarium/aquarium.component';\nimport { TreasurechestComponent } from '../incentive/treasurechest/treasurechest.component';\nimport { UnlockedMemesComponent } from '../incentive/unlocked-memes/unlocked-memes.component';\nimport { UnlockedAltuisticMessagesComponent } from '../incentive/unlocked-altuistic-messages/unlocked-altuistic-messages.component';\nimport { AuthGuard } from '../user/auth/auth.guard';\nimport { ContactComponent } from './contact/contact.component';\nimport { UnlockedInspirationalQuotesComponent } from '../incentive/unlocked-inspirational-quotes/unlocked-inspirational-quotes.component';\n\nconst routes: Routes = [\n  {\n    path: 'home',\n    component: HomePage,\n    children: [\n      {\n        path: 'incentive', component: AquariumComponent, canActivate: [AuthGuard]\n      },\n      {\n        path: 'quotes', component: UnlockedInspirationalQuotesComponent, canActivate: [AuthGuard]\n      },\n      {\n        path: 'memes', component: UnlockedMemesComponent, canActivate: [AuthGuard]\n      },\n      {\n        path: 'thankyous', component: UnlockedAltuisticMessagesComponent, canActivate: [AuthGuard]\n      },\n      {\n        path: 'contact', component: ContactComponent, canActivate: [AuthGuard]\n      },\n      {\n        path: '',\n        redirectTo: '/home/incentive',\n        pathMatch: 'full'\n      }\n    ]\n  },\n  {\n    path: '',\n    redirectTo: '/home/incentive',\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule {}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\nimport { AquariumModule } from '../incentive/aquarium/aquarium.module';\nimport { HeaderComponent } from './header/header.component';\nimport { TermsOfServiceComponent } from './terms-of-service/terms-of-service.component';\nimport { HomeRoutingModule } from './home-routing.module';\nimport { ContactComponent } from './contact/contact.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AquariumModule,\n    HomeRoutingModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage, HeaderComponent, TermsOfServiceComponent, ContactComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  exports:[TermsOfServiceComponent]\n})\nexport class HomePageModule {}\n","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n\\nion-tab-button.tab-selected ion-icon {\\n  color: #fff !important;\\n  --ion-color-base: #fff !important;\\n  width: 50%;\\n  height: 50%;\\n}\\n\\nion-tab-button.tab-selected ion-label {\\n  color: #fff !important;\\n  --ion-color-base: #fff !important;\\n}\\n\\nion-tab-button ion-icon {\\n  width: 40%;\\n  height: 40%;\\n  color: #ccecff !important;\\n  --ion-color-base: #ccecff !important;\\n}\\n\\nion-tab-button ion-label {\\n  color: #ccecff !important;\\n  --ion-color-base: #ccecff !important;\\n}\\n\\n/*\\n\\n.tab-btn-selected, .tab-btn:hover {\\n    color: #e6f6ff;\\n}\\n\\n\\n\\nion-tab-button:focus {\\n    ion-icon {\\n        width: 60%;\\n        height: 60%;\\n        color: #fff !important;\\n    }\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FDQ0o7O0FETUk7RUFDRSxzQkFBQTtFQUNBLGlDQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNITjs7QURRSTtFQUNJLHNCQUFBO0VBQ0QsaUNBQUE7QUNMUDs7QURVSTtFQUNJLFVBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxvQ0FBQTtBQ1BSOztBRFlJO0VBQ0kseUJBQUE7RUFDRCxvQ0FBQTtBQ1RQOztBRGFBOzs7Ozs7Ozs7Ozs7Ozs7Q0FBQSIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA1NDg2O1xufVxuXG5cblxuXG5pb24tdGFiLWJ1dHRvbi50YWItc2VsZWN0ZWQge1xuICAgIGlvbi1pY29uIHtcbiAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAtLWlvbi1jb2xvci1iYXNlOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogNTAlO1xuICAgICAgaGVpZ2h0OiA1MCU7XG4gICAgfVxufVxuXG5pb24tdGFiLWJ1dHRvbi50YWItc2VsZWN0ZWQge1xuICAgIGlvbi1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAgLS1pb24tY29sb3ItYmFzZTogI2ZmZiAhaW1wb3J0YW50O1xuICAgIH1cbn1cblxuaW9uLXRhYi1idXR0b24ge1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDQwJTtcbiAgICAgICAgaGVpZ2h0OiA0MCU7XG4gICAgICAgIGNvbG9yOiAjY2NlY2ZmICFpbXBvcnRhbnQ7XG4gICAgICAgIC0taW9uLWNvbG9yLWJhc2U6ICNjY2VjZmYgIWltcG9ydGFudDtcbiAgICB9XG59XG5cbmlvbi10YWItYnV0dG9uIHtcbiAgICBpb24tbGFiZWwge1xuICAgICAgICBjb2xvcjogI2NjZWNmZiAhaW1wb3J0YW50O1xuICAgICAgIC0taW9uLWNvbG9yLWJhc2U6ICNjY2VjZmYgIWltcG9ydGFudDtcbiAgICB9XG59XG5cbi8qXG5cbi50YWItYnRuLXNlbGVjdGVkLCAudGFiLWJ0bjpob3ZlciB7XG4gICAgY29sb3I6ICNlNmY2ZmY7XG59XG5cblxuICAgIFxuaW9uLXRhYi1idXR0b246Zm9jdXMge1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDYwJTtcbiAgICAgICAgaGVpZ2h0OiA2MCU7XG4gICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgfVxufVxuKi9cbiAgICBcbiAgICBcbiAgICBcbiAgICAiLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59XG5cbmlvbi10YWItYnV0dG9uLnRhYi1zZWxlY3RlZCBpb24taWNvbiB7XG4gIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gIC0taW9uLWNvbG9yLWJhc2U6ICNmZmYgIWltcG9ydGFudDtcbiAgd2lkdGg6IDUwJTtcbiAgaGVpZ2h0OiA1MCU7XG59XG5cbmlvbi10YWItYnV0dG9uLnRhYi1zZWxlY3RlZCBpb24tbGFiZWwge1xuICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xuICAtLWlvbi1jb2xvci1iYXNlOiAjZmZmICFpbXBvcnRhbnQ7XG59XG5cbmlvbi10YWItYnV0dG9uIGlvbi1pY29uIHtcbiAgd2lkdGg6IDQwJTtcbiAgaGVpZ2h0OiA0MCU7XG4gIGNvbG9yOiAjY2NlY2ZmICFpbXBvcnRhbnQ7XG4gIC0taW9uLWNvbG9yLWJhc2U6ICNjY2VjZmYgIWltcG9ydGFudDtcbn1cblxuaW9uLXRhYi1idXR0b24gaW9uLWxhYmVsIHtcbiAgY29sb3I6ICNjY2VjZmYgIWltcG9ydGFudDtcbiAgLS1pb24tY29sb3ItYmFzZTogI2NjZWNmZiAhaW1wb3J0YW50O1xufVxuXG4vKlxuXG4udGFiLWJ0bi1zZWxlY3RlZCwgLnRhYi1idG46aG92ZXIge1xuICAgIGNvbG9yOiAjZTZmNmZmO1xufVxuXG5cblxuaW9uLXRhYi1idXR0b246Zm9jdXMge1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDYwJTtcbiAgICAgICAgaGVpZ2h0OiA2MCU7XG4gICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgfVxufVxuKi8iXX0= */\"","import { Component, OnInit, ViewChild} from '@angular/core';\nimport { AquariumComponent } from '../incentive/aquarium/aquarium.component';\nimport { UserProfileService } from '../user/user-profile/user-profile.service';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage  implements OnInit {\n\n  isAYA: boolean;\n\n  @ViewChild(AquariumComponent, {static: true}) child;\n\n  constructor(\n    private userProfileService: UserProfileService) { \n\n    this.isAYA = true;\n    if(this.userProfileService.isParent == true)\n      this.isAYA = false;\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  ionViewDidEnter(){\n    console.log(\"ionViewDidEnterFunction\");\n    //this.child.ionViewDidEnterFunction();\n  }\n\n\n  ionViewDidLeave(){\n    console.log(\"ionViewDidLeaveFunction\");\n    //this.child.ionViewDidLeaveFunction();\n  }\n\n}\n","module.exports = \":host {\\n  display: inline-block;\\n  height: 85%;\\n}\\n\\n.new-background-color {\\n  --background: #3F51B5;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaG9tZS90ZXJtcy1vZi1zZXJ2aWNlL3Rlcm1zLW9mLXNlcnZpY2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2hvbWUvdGVybXMtb2Ytc2VydmljZS90ZXJtcy1vZi1zZXJ2aWNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ1EscUJBQUE7RUFDQSxXQUFBO0FDQ1I7O0FERUE7RUFDUSxxQkFBQTtBQ0NSIiwiZmlsZSI6InNyYy9hcHAvaG9tZS90ZXJtcy1vZi1zZXJ2aWNlL3Rlcm1zLW9mLXNlcnZpY2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDg1JTtcbn1cblxuLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgICAgICAtLWJhY2tncm91bmQ6ICMzRjUxQjU7XG59XG5cbiIsIjpob3N0IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDg1JTtcbn1cblxuLm5ldy1iYWNrZ3JvdW5kLWNvbG9yIHtcbiAgLS1iYWNrZ3JvdW5kOiAjM0Y1MUI1O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\n// import { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-terms-of-service',\n  templateUrl: './terms-of-service.component.html',\n  styleUrls: ['./terms-of-service.component.scss'],\n})\nexport class TermsOfServiceComponent implements OnInit {\n  agreeToTerms: boolean = JSON.parse(localStorage.getItem(\"agreeToTerms\"));\n\n  constructor() { }\n\n  ngOnInit() {}\n\n  onSubmit(){\n    localStorage.setItem(\"agreeToTerms\",this.agreeToTerms.toString());\n    location.reload();\n  }\n}\n","import * as IncentiveActions from './incentive.actions';\n\nexport {IncentiveActions};","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL2FxdWFyaXVtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvYXF1YXJpdW0vYXF1YXJpdW0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXctYmFja2dyb3VuZC1jb2xvcntcbiAgICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59XG5cblxuIl19 */\"","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { DemoAquariumComponent } from '../../incentive/aquarium/demo-aquarium/demo-aquarium.component';\nimport { Platform, AlertController, ModalController, NavController, MenuController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { UserProfileService } from '../../user/user-profile/user-profile.service';\nimport { myEnterAnimation } from '../../animations/modal_enter';\nimport { ModalUnlockedPageComponent } from '../../incentive/aquarium/modal-unlocked-page/modal-unlocked-page.component';\nimport { myLeaveAnimation } from '../../animations/modal_leave';\nimport { AppState } from '../../reducers';\nimport { Store, select } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { isIncentivesUnlockedForTheDay } from '../../incentive/incentive.selectors';\nimport { UnlockedIncentive } from '../../incentive/model/unlocked-incentives';\nimport { unlockedScreenShownAlready } from '../incentive.actions';\nimport { DatabaseService } from 'src/app/monitor/database.service';\nimport { AwsS3Service } from '../../storage/aws-s3.service';\n\n@Component({\n  selector: 'app-aquarium',\n  templateUrl: './aquarium.component.html',\n  styleUrls: ['./aquarium.component.css']\n})\nexport class AquariumComponent implements OnInit {\n\n  private sub1$:any;\n  private sub2$:any;\n  money = 0;\n  modalObjectNavigationExtras = {};\n  pageTitle = \"Aquarium\";\n\n  @ViewChild(DemoAquariumComponent, {static: true}) child;\n\n  unlockedItems$: Observable<any>;\n  modalDataSubscription$: any;\n  title = \"\";\n  isIOS = false;\n  navigate : any;\n\n\n  get isActive(){\n    //return false;\n    if(this.userProfileService == undefined)\n      return true;\n    else\n      return this.userProfileService.isActive;\n  }\n\n  startCheatPage(){\n    //this.router.navigate(['incentive/tundra']);\n    this.navController.navigateRoot(['incentive/cheatpoints']);\n  }\n\n  startInfoPage(){\n    this.navController.navigateRoot(['incentive/infopage']);\n  }\n\n  constructor(private platform: Platform, private alertCtrl: AlertController, \n    private router: Router, \n    private route: ActivatedRoute, \n    private modalController: ModalController,\n    private store: Store<AppState>,\n    public navController: NavController,\n    private menu: MenuController,\n    private appUsageDb: DatabaseService,\n    private awsS3Service: AwsS3Service,\n    private userProfileService: UserProfileService) { \n    console.log(\"Constructor called\");\n    this.sub1$=this.platform.pause.subscribe(() => {        \n      console.log('****UserdashboardPage PAUSED****');\n      this.child.pauseGameRendering();\n    });  \n    this.sub2$=this.platform.resume.subscribe(() => {      \n      console.log('****UserdashboardPage RESUMED****');\n      this.child.resumeGameRendering();\n    });\n\n\n    if(window.localStorage['AwardDollar'] == undefined)\n        this.money = 0;\n    else{\n        try{\n          this.money = parseInt(window.localStorage['AwardDollar']);\n        }catch(error){\n          window.localStorage.setItem(\"AwardDollar\", \"\"+0); \n          this.money = 0;\n        }\n    }\n\n    if(this.platform.is('ios')){\n      this.isIOS=true;\n    }\n\n    this.sideMenu();\n\n  }\n\n  sideMenu()\n  {\n    this.navigate =\n    [\n      {\n        title : \"Home\",\n        url   : \"/home\",\n        icon  : \"home\"\n      },\n      {\n        title : \"Chat\",\n        url   : \"/chat\",\n        icon  : \"chatboxes\"\n      },\n      {\n        title : \"Contacts\",\n        url   : \"/contacts\",\n        icon  : \"contacts\"\n      },\n    ]\n  }\n\n  //show side menu\n  showSideMenu() {\n    console.log(\"side menu called\");\n    this.menu.enable(true, 'first');\n    this.menu.open('first');\n  }\n\n  ionViewDidLeaveFunction(){\n    this.child.ionViewDidLeaveFunction();\n\n    //unsubscribe from model view.\n    this.modalDataSubscription$.unsubscribe();\n  }\n\n  ionViewDidLeave() {\n    console.log(\"aqarium.ts --- ionDidLeave\");\n    this.ionViewDidLeaveFunction();\n\n    //If \"Leave Aquarium\" is already tracked in demo-aquarium, duplication?\n    this.appUsageDb.saveAppUsageExit(\"aquarium_tab\");\n  }\n\n  ionViewDidEnter() {\n\n    console.log(\"aqarium.ts --- ionViewDidEnter\");\n    this.child.loadFunction();\n      \n    //decide if we want to show the modal view with unlockables.\n    this.subscribeForModalView();\n\n    //If \"Enter Aquarium\" is already tracked in demo-aquarium, duplication?\n    this.appUsageDb.saveAppUsageEnter(\"aquarium_tab\");\n\n    //\n    this.saveDbToAWS();\n\n  }\n\n   //Upload SQLite database to AWS in ionViewWillEnter which happens\n   //before \"ionViewDidEnter\" in demo-aquarium, thus the table will \n   //be empty first visit aquarium, will not be empty if user \n   //\"come back\" to aquarium after visit other pages and will \n   // be exported to AWS.\n   //\n   // --- Moving to ionViewDidEnter()\n   //\n  saveDbToAWS() {\n    this.appUsageDb.isTableEmpty().then(tableEmpty => {\n      console.log(\"tableEmpty: \"+tableEmpty);\n      if(!tableEmpty) {\n        this.exportDatabase();\n      } \n      }).catch(e => {\n        console.log(\"In ionViewWillEnter at Aqarium:\"+e);\n     });\n  } \n\n  exportDatabase(){\n    console.log(\"exportTable at Aquarium Page!\");\n    this.appUsageDb.exportDatabaseToJson().then((res) => {\n      console.log(\"upload to AWS at Aquarium Page: \"+JSON.stringify(res));\n      this.awsS3Service.upload(\"Tracking\",res);\n      \n      //Empty table to prepare another round of tracking\n      this.appUsageDb.emptyTable(); \n\n    });   \n  }  \n\n  ionViewWillUnload() {\n    \n  }\n\n  ngOnInit(): void {\n\n    /*\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        //throw new Error(\"Method not implemented.\");\n        //show modal on awards\n        this.modalObjectNavigationExtras = this.router.getCurrentNavigation().extras.state.modalObjectNavigationExtras;\n        console.log(\"home.page.ts --- modalObjectNavigationExtras: \" + JSON.stringify(this.modalObjectNavigationExtras));\n        if(this.modalObjectNavigationExtras['IsModalShownYet'] == false)\n          this.showModal();\n\n        \n        //this.date = this.router.getCurrentNavigation().extras.state.date;\n        //this.reinforcementObj['prob'] = this.router.getCurrentNavigation().extras.state.prob;\n        //this.reinforcement_data = this.router.getCurrentNavigation().extras.state.reinforcement_data;         \n        //console.log(\"Inside AwardAltruism, date is: \" +this.date+\" prob is: \"+this.reinforcementObj['prob']);\n      }\n    }); \n    */\n\n\n    this.title = \"ADAPTS\";\n    console.log(\"aquarium.component.ts --- start\");\n    //this.menu.enable(true);\n\n  }\n\n  ngOnDestroy(){\n    this.sub1$.unsubscribe();\n    this.sub2$.unsubscribe();\n\n    this.ionViewDidLeaveFunction();\n    console.log(\"aquarium.component.ts --- destroy\");\n  }\n\n  subscribeForModalView(){\n    //this.unlockedItems$ = \n    this.modalDataSubscription$ = this.store.pipe(select(isIncentivesUnlockedForTheDay))\n              .subscribe(params => {\n                  if(params == undefined)\n                    console.log(\"---params: undefined---\"+ JSON.stringify(params))\n                  else{\n                    console.log(\"---params: ---\"+ JSON.stringify(params))\n                    var unlockedIncentive: UnlockedIncentive = params;\n                    //computeUnlockedReinforcements(currentPoints, previousPoints, awardedDollar)\n\n                    if(unlockedIncentive[\"isUnlockedViewShown\"] == false) \n                        this.computeUnlockedReinforcements(unlockedIncentive[\"current_point\"], \n                                                          unlockedIncentive[\"current_point\"] - unlockedIncentive[\"unlocked_points\"],\n                                                          unlockedIncentive[\"unlocked_money\"]);                 \n                  }\n                }\n              );\n  }\n\n\n  startSurvey(){\n    console.log('start survey');\n    var currentTime = moment(); \n    var startTime = moment({hour: 18});  // 6pm\n    var endTime = moment({hour: 23, minute: 59});  // 11:59pm\n    var firstLogin = this.userProfileService.userProfile.firstlogin;\n    if(firstLogin == undefined)  firstLogin = true;\n    this.userProfileService.userProfile.firstlogin = false;\n    this.userProfileService.saveProfileToDevice();\n    this.userProfileService.saveToServer();\n    if(!currentTime.isBetween(startTime, endTime) && !firstLogin) {\n      this.presentAlert('Please come back between 6 PM and midnight');\n    } else if(this.userProfileService.surveyTakenForCurrentDay()) {\n      this.presentAlert('You have already completed the survey for the day.');\n    } else {\n      if (this.userProfileService.isParent){\n        this.navController.navigateRoot(['survey/samplesurvey']);  //caregiversurvey\n      } else{\n        this.navController.navigateRoot(['survey/samplesurvey2']);  //aya\n      }\n\n    } \n\n  }\n\n  async openSurvey(location){\n    this.navController.navigateRoot([location]);\n  }\n\n  async presentAlert(alertMessage) {\n    \n    const alert = await this.alertCtrl.create({\n      //<div style=\"font-size: 20px;line-height: 25px;padding-bottom:10px;text-align:center\">Thank you for completing the survey. You have unlocked a meme.</div>\n      //header: '<div style=\"line-height: 25px;padding-bottom:10px;text-align:center\">Daily survey unavilable</div>',\n      header: 'Daily survey unavailable',\n      //subHeader: \"Survey is not avaibable!\",\n      message: alertMessage,\n      //defined in theme/variables.scss\n      //buttons: [{text: 'OK', cssClass: 'secondary'}]\n      buttons: [{text: 'OK'}]\n    });\n    \n    /*\n      let alert = this.alertCtrl.create({\n        title: 'Low battery',\n        subTitle: '10% of battery remaining',\n        buttons: ['Dismiss']\n      });\n    */\n\n    //----\n    await alert.present();\n  }\n\n  dispalySurveyPausedMsg(){\n    this.presentAlert('This account has been temporarily paused by the research administrators.');    \n  }\n\n\n  showMemeDemo(){\n    this.router.navigate(['incentive/award-memes']);\n  }\n\n  showAltruisticDemo(){\n    this.router.navigate(['incentive/award-altruism']);\n  }\n\n  showModalDemo(){\n    var reinforcements =  [];\n    reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    //reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    //reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    //reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    //reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    //reinforcements.push({'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"});\n    this.presentModal(reinforcements);\n  }\n\n\n  //show unlocked pages, using a modal\n  async presentModal(reinforcements) {\n    const modal = await this.modalController.create({\n      component: ModalUnlockedPageComponent,\n      componentProps: {\n        'reinforcements': reinforcements\n      },\n      enterAnimation: myEnterAnimation,\n      leaveAnimation: myLeaveAnimation,\n      //,\n      cssClass: 'my-default-2'\n    });\n    return await modal.present();\n  }\n\n\n  showModal(){\n    //if(window.localStorage['IsModalShown'] == undefined)\n    //  return;\n\n    //if(window.localStorage['IsModalShown'] == \"false\"){\n\n    //\n    var todaysDate = moment().format('YYYYMMDD');\n    var storedDate = this.modalObjectNavigationExtras[\"LastSurveyCompletionDate\"];\n\n    //\n    if(todaysDate == storedDate){\n      //this.computeUnlockedReinforcements();\n    } \n\n    //\n    //window.localStorage.setItem(\"IsModalShown\", \"true\");\n    //}\n  }\n\n  \n\n  isFirstDayInTheStudy(){\n\n    var daily_survey = this.userProfileService.userProfile.survey_data.daily_survey;\n    var first_date = moment().format('YYYYMMDD');\n    var first_date_moment_js = moment(first_date,\"YYYYMMDD\");\n    var key_moment_js;\n    for (var key in daily_survey) {\n        key_moment_js = moment(key,\"YYYYMMDD\");\n        //takes the first day only. But it may not be the first date.\n        if (key_moment_js < first_date_moment_js) {\n            first_date = key;\n            first_date_moment_js = moment(first_date,\"YYYYMMDD\");\n        }\n    }\n\n    var todays_date = moment().format('YYYYMMDD');\n    if(todays_date == first_date)\n      return true;\n    else\n      return false;\n  }\n\n  computeUnlockedReinforcements(currentPoints, previousPoints, awardedDollar){\n\n    //var currentPoints = this.modalObjectNavigationExtras[\"CurrentPoints\"];\n    //var previousPoints = this.modalObjectNavigationExtras[\"PreviousPoints\"];\n    //var awardedDollar = this.modalObjectNavigationExtras[\"AwardedDollar\"];\n    var reinforcements = [];\n    console.log(\"computeUnlockedReinforcements: called\")\n\n    //get if money is awarded.\n    if(awardedDollar > 0){\n      if(this.isFirstDayInTheStudy())\n        reinforcements.push({'img': 'assets/img/1dollar.jpg', 'header': 'You earned ' + awardedDollar + ' dollar(s)', 'text': 'Thanks for being a participant in the study. You earned 2 dollar.'});\n      else\n        reinforcements.push({'img': 'assets/img/1dollar.jpg', 'header': 'You earned ' + awardedDollar + ' dollar(s)', 'text': 'You earned 1 dollar for completing surveys 3-days in a row'});\n    }\n      \n    //get if fish is alotted\n    previousPoints = currentPoints - 60;\n    console.log(currentPoints + \", \" + previousPoints);\n\n    fetch('../../../assets/game/fishpoints.json').then(async res => {\n      //console.log(\"Fishes: \" + data);\n\n      var fish_data = await res.json();\n      var img; \n      var header;\n      var text;\n      for(var i = 0; i < fish_data.length; i++) {\n          if ((fish_data[i].points > previousPoints) && (fish_data[i].points <= currentPoints)) {\n            img = \"assets/\" + fish_data[i].img.substring(0, fish_data[i].img.length-4) + '_tn.jpg';\n            header =  \"You unlocked \" + fish_data[i].name;\n            text = fish_data[i].trivia;\n            reinforcements.push({'img': img, 'header': header, 'text': text});\n          }\n      }\n      console.log(\"reinforcements: \" + JSON.stringify(reinforcements));\n      if(reinforcements.length > 0)//means some rainforcement was provided.\n        this.presentModal(reinforcements);\n    });\n\n    //update the state reinforcement\n    this.store.dispatch(unlockedScreenShownAlready({isUnlockedScreenShown: true}));\n  }\n\n\n  \n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { DemoAquariumComponent } from './demo-aquarium/demo-aquarium.component';\nimport { SurveyModule } from '../../survey/survey.module';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AquariumComponent } from './aquarium.component';\nimport { RainforestComponent } from './previews/rainforest/rainforest.component';\n\nconst routes: Routes = [\n     { path: 'aquariumone', component: DemoAquariumComponent }\n];\n\n@NgModule({\n  declarations: [DemoAquariumComponent, AquariumComponent, RainforestComponent],\n  imports: [\n    CommonModule,\n    SurveyModule,\n    IonicModule.forRoot(),\n    RouterModule.forChild(routes)\n  ],\n  exports:[\n    DemoAquariumComponent, AquariumComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AquariumModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9hcXVhcml1bS9jaGVhdHBhZ2UvY2hlYXRwYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\n\n@Component({\n  selector: 'app-cheatpage',\n  templateUrl: './cheatpage.component.html',\n  styleUrls: ['./cheatpage.component.scss'],\n})\nexport class CheatpageComponent implements OnInit {\n\n  public totalPoints;\n  public currentPoints;\n  public myInput: string;\n\n  constructor(private userProfileService: UserProfileService) { }\n\n  ngOnInit() {\n\n    /*\n    if(window.localStorage['TotalPoints'] == undefined)\n      this.currentPoints = 0;\n    else\n      this.currentPoints = parseInt(window.localStorage['TotalPoints']);\n    */\n    this.currentPoints = this.userProfileService.points;\n  }\n\n  logChange(event) {\n    //console.log(event);\n    console.log(\"Total points: \" + this.totalPoints);\n  }\n\n  resetPoint(){\n\n    console.log(\"Total points: \" + this.totalPoints);\n    this.currentPoints = this.totalPoints;\n\n    //\n    /*\n    \n    if(window.localStorage['TotalPoints'] == undefined)\n      this.totalPoints = 0;\n    else\n      this.totalPoints = parseInt(window.localStorage['TotalPoints']);\n    */\n    //this.totalPoints = 700;//this.totalPoints + 100;\n    //window.localStorage.setItem(\"TotalPoints\", \"\"+this.totalPoints); \n    this.userProfileService.cheatPoints(this.totalPoints);\n  }\n\n  returnToAquarium(){\n    window.location.href = '/home';\n  }\n\n}\n","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL2RlbW8tYXF1YXJpdW0vZGVtby1hcXVhcml1bS5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL2RlbW8tYXF1YXJpdW0vZGVtby1hcXVhcml1bS5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvYXF1YXJpdW0vZGVtby1hcXVhcml1bS9kZW1vLWFxdWFyaXVtLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59XG4iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\n\nimport { BootL1 } from '../levels/FishBowlL1/Boot';\nimport { PreloaderL1 } from '../levels/FishBowlL1/Preloader';\nimport { FishBowlL1 } from '../levels/FishBowlL1/Game';\n\n\nimport { BootL2 } from '../levels/FishBowlL2/Boot';\nimport { PreloaderL2 } from '../levels/FishBowlL2/Preloader';\nimport { FishBowlL2 } from '../levels/FishBowlL2/Game';\n\n\nimport { BootL3 } from '../levels/SeaLevelL3/Boot';\nimport { PreloaderL3 } from '../levels/SeaLevelL3/Preloader';\nimport { SeaLevelL3 } from '../levels/SeaLevelL3/Game';\n\n\nimport { BootL4 } from '../levels/SeaLevelL4/Boot';\nimport { PreloaderL4 } from '../levels/SeaLevelL4/Preloader';\nimport { SeaLevelL4 } from '../levels/SeaLevelL4/Game';\n\n\nimport { BootGameOver } from '../levels/GameOver/Boot';\nimport { PreloaderGameOver } from '../levels/GameOver/Preloader';\nimport { GameOver } from '../levels/GameOver/GameOver';\n\n\nimport { BootTundraL5 } from '../levels/TundraLevelL5/Boot';\nimport { PreloaderTundraL5 } from '../levels/TundraLevelL5/Preloader';\nimport { GameTundraL5 } from '../levels/TundraLevelL5/Game';\n\n\nimport { BootTundraL51 } from '../levels/TundraLevelL51/Boot';\nimport { PreloaderTundraL51 } from '../levels/TundraLevelL51/Preloader';\nimport { GameTundraL51 } from '../levels/TundraLevelL51/Game';\n\nimport { BootRainforestL6 } from '../levels/RainforestL6/Boot';\nimport { PreloaderRainforestL6 } from '../levels/RainforestL6/Preloader';\nimport { GameRainforestL6 } from '../levels/RainforestL6/Game';\n\n\nimport { ActivatedRoute, Router, RouterEvent, RouteConfigLoadStart, RouteConfigLoadEnd } from '@angular/router';\n//import { PreLoad } from '../../../PreLoad';\nimport { Platform, ModalController } from '@ionic/angular';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport * as moment from 'moment';\nimport { AlertController } from '@ionic/angular';\nimport { ModalUnlockedPageComponent } from '../modal-unlocked-page/modal-unlocked-page.component';\nimport { HttpClient } from '@angular/common/http';\n\nimport { environment } from '../../../../environments/environment';\n\nimport * as Sentry from 'sentry-cordova';\n\ndeclare let Phaser: any;\n\n@Component({\n  selector: 'app-demo-aquarium',\n  templateUrl: './demo-aquarium.component.html',\n  styleUrls: ['./demo-aquarium.component.less'],\n})\n\n//@PreLoad('survey')\nexport class DemoAquariumComponent implements OnInit {\n  \n\n  game;\n  pickedGame;\n  isLoaded = false;\n  public isShowingRouteLoadIndicator: boolean;\n  survey_text; \n  fishFunFactListViewItems = [];\n  @Input() isPreview: string;\n  debugText: String;\n  \n  // totalPoints = 0;\n  get totalPoints(){\n    return this.userProfileService.points;\n  }\n\n  get username(){\n    if(this.userProfileService == undefined)\n      return \"test\";\n    else{\n\n      //add username to sentry scope for better error handling\n      this.addSentryScope(this.userProfileService.username);\n\n      return this.userProfileService.username;\n    }\n  }\n\n  addSentryScope(username: string) {\n    /*\n    *\n    *  This function adds errors in Sentry\n    * \n    */\n    Sentry.configureScope(scope => {\n      scope.setUser({\n        username: username\n      })\n    });\n  }\n  //Get total submitted survey\n  getTotalSurveyCount(){\n    return Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length;\n  }\n\n  /* Get last seven days of indicator for survey completion, \n  return an array of 7 elements like [0, 1, 0, 0, 0, 1, 0] \n  with 1 indicating submitted survey, 0 otherwise, the first\n  element is current day. */\n\n  getIndicatorForSurveyDone(){\n    var daily_survey = this.userProfileService.userProfile.survey_data.daily_survey;\n\n    console.log(\"daily_survey:\");\n    console.log(JSON.stringify(daily_survey));\n    var indicatorArray = [];\n\n    //daily_survey = {};\n    if(Object.keys(daily_survey).length == 0){\n      indicatorArray.push(0);\n      return indicatorArray;\n    }\n      \n    const orderedDatesKeys = Object.keys(daily_survey).sort()\n    var first_date = orderedDatesKeys[0];\n    //first_date = \"20200515\";\n\n    for(let i = 0; i < 7; i++) {\n      var previousdate = moment().subtract(i, \"days\").format(\"YYYYMMDD\");\n      //console.log(JSON.stringify(this.userProfileService.userProfile.survey_data.daily_survey));\n      var indicator = 0;\n      if(previousdate in daily_survey){\n        indicator = 1;\n      }\n      indicatorArray.push(indicator);\n\n      // as may days user is in in the study. no blank filling\n      if(first_date == previousdate)\n        break;\n    }\n\n\n    return indicatorArray;\n\n  }\n\n/*   get surveyPath(){\n    if (this.userProfileService.isParent){\n      return \"survey/samplesurvey\"; //\"/survey/caregiversurvey\"\n    } else{\n      return \"survey/samplesurvey2\"; //\"/survey/ayasurvey\"\n    }\n  } */\n\n\n  constructor(private router: Router, \n    private alertCtrl: AlertController,\n    private modalController: ModalController,\n    //private pickGameService: PickGameService,\n    private platform: Platform,\n    private route: ActivatedRoute,\n    private userProfileService: UserProfileService,\n    private httpClient: HttpClient) { \n    console.log(\"Constructor called\");\n    \n    /*    \n      this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.totalPoints = this.router.getCurrentNavigation().extras.state.totalPoints;\n        console.log(\"Pass totalPoints: \"+this.totalPoints);\n      }\n    }); \n    */\n\n    this.survey_text = \"Start Survey\";\n    this.debugText = \"\";\n    //this.username = \"test\";\n  }\n\n\n\n\n  showInfoModal(text){\n    console.log(\"rewards page\");\n    var header_text = \"Survey Completion Bar\";\n    text = \" Shows the number of surveys you have completed in the past week (shown as green) and the ones you missed (shown as gray).\"\n    this.presentAlert(text, header_text);\n  }\n\n\n  goToRewardsPage(){\n    console.log(\"rewards page\");\n    //this.router.navigate(['/home']);\n    this.router.navigate(['incentive/treasurechest']);\n  }\n\n  \n\n  //preload the images\n  preload(){\n    console.log(\"Preload called\");\n    this.game.load.image('einstein','assets/pics/ra_einstein.png');\n  }\n\n  //gets executed after preload\n  create(){\n    console.log(window.localStorage['TotalPoints']);\n    //this.totalPoints = parseInt(window.localStorage['TotalPoints'] || \"0\");\n\n    /*\n    if(window.localStorage['TotalPoints'] == undefined)\n        this.totalPoints = 0;\n    else\n        this.totalPoints = parseInt(window.localStorage['TotalPoints']);\n    */\n\n    console.log(\"Inside Aquarium totalPoints: \"+this.totalPoints);\n\n    console.log(\"create called\");\n    var s = this.game.add.sprite(80,9,'einstein');\n    s.rotation = 0.14;\n  }\n\n  \n\n  ngOnInit() {\n     //this.loadFunction();\n    \n    this.sendUserIdToServerFor8PMNotification();\n\n\n    this.addFishFunFactsBelow();\n\n    //get inspirational quotes\n    this.getInspirationalQuotes();\n  }\n\n\n  getInspirationalQuotes() {\n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + '/get-inspirational-quote', { \"user_id\": 'mash_aya' }).subscribe({\n        next: data => console.log(\"Inspirational quote: \" + JSON.stringify(data)),\n        error: error => console.error('There was an error!', error)\n    });\n  }\n\n\n\n  addFishFunFactsBelow() {\n    //add the fish fun facts below:\n\n\n    if(this.totalPoints <1060 && this.totalPoints >= 0) //fishbowl\n      this.addFishFunFactsBetween(0, this.totalPoints);\n    \n    else if(this.totalPoints >=1060 && this.totalPoints <2120) //sea\n      this.addFishFunFactsBetween(1060, this.totalPoints);\n\n    else if(this.totalPoints >=2120 && this.totalPoints <3020) //tundra\n      this.addFishFunFactsBetween(2120, this.totalPoints);\n\n    else if(this.totalPoints >= 3020) //rainforest\n      this.addFishFunFactsBetween(3020, this.totalPoints);\n\n  }\n\n  addFishFunFactsBetween(startPoint: number, totalPoints: number) {\n\n    fetch('../../../../assets/game/fishpoints.json').then(async res => {\n      //console.log(\"Fishes: \" + data);\n\n      var data = await res.json();\n      var current_points = 700;\n      var fishFunFactListViewItem = {};\n      for(var i = 0; i < data.length; i++) {\n\n          if(data[i].points < startPoint)\n            continue;\n\n          if(totalPoints < data[i].points)\n            break;\n\n          fishFunFactListViewItem = {\n              funFact: data[i].trivia,\n              image: \"assets/\" + data[i].img.substring(0, data[i].img.length-4) + '_tn.jpg',\n              fishName: data[i].name\n          };\n\n          this.fishFunFactListViewItems.push(fishFunFactListViewItem);\n          \n      }\n      this.fishFunFactListViewItems = this.fishFunFactListViewItems.reverse();\n    });\n  }\n\n  async sendUserIdToServerFor8PMNotification(){\n    // Simple POST request with a JSON body and response type <any>\n\n    console.log(\"--aquarium-- \" + \"sendUserIdToServerFor8PMNotification\");\n    var oneSignalPlayerId = window.localStorage['oneSignalPlayerId']; //this.userProfileService.oneSignalPlayerId;\n    if(oneSignalPlayerId==\"null\" || oneSignalPlayerId==null || oneSignalPlayerId==undefined){\n      console.log(\"oneSignalId is null, \" + oneSignalPlayerId);\n      return;\n    }\n      \n\n    var username = this.userProfileService.username;\n    var currentTimeTs = Date.now();\n    var currentTimeReadableTs = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n    const headers = { \"Content-Type\": \"application/json;charset=UTF-8\"};\n    const body = {\"user_id\": username, \"oneSignalPlayerId\": oneSignalPlayerId, \"currentTimeTs\": currentTimeTs, \"currentTimeReadableTs\": currentTimeReadableTs};\n    /*\n    this.httpClient.post<any>(\"http://ec2-54-91-131-166.compute-1.amazonaws.com:56733/store-onesignal-id\", body, { headers }).subscribe({\n      next: data => console.log(data),\n      error: error => console.error('There was an error!', error)\n    });\n    */\n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + \"/store-onesignal-id\", body)\n      .subscribe({\n        next: data => console.log(\"--aquarium-- \" + JSON.stringify(data)),\n        error: error => console.error('There was an error!', error)\n    });\n  }\n\n  ionViewDidEnter(){\n    //if(this.isLoaded == true)\n    //    this.loadFunction();\n    this.survey_text = \"Start survey\";\n  }\n\n  //this function gets called from the above the \"aquarium.component.ts\"\n  loadFunction(){\n\n    //console.log(window.localStorage['TotalPoints']);\n\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    }); \n    */\n\n    //this.totalPoints = parseInt(window.localStorage['TotalPoints'] || \"0\");\n    /*\n     if(window.localStorage['TotalPoints'] == undefined)\n        this.totalPoints = 0;\n    else\n        this.totalPoints = parseInt(window.localStorage['TotalPoints']);\n    */\n    //console.log(\"Inside Aquarium totalPoints: \"+this.totalPoints);\n    //this.game.destroy();\n\n    //height adjustment for different phone types\n    var GameApp = GameApp || {};\n    GameApp.CANVAS_WIDTH = 382.0;\n    console.log(\"w: \" + window.innerWidth + \", h: \" + window.innerHeight + \", dp: \" + window.devicePixelRatio);\n    if(window.innerWidth > GameApp.CANVAS_WIDTH)\n        GameApp.CANVAS_WIDTH = window.innerWidth;\n    GameApp.CANVAS_HEIGHT = window.innerHeight - 35;\n\n    //var game;\n    if(this.platform.is('ios')){\n        if(GameApp.CANVAS_HEIGHT < 642.0){//iphone SE fix.\n            GameApp.CANVAS_HEIGHT += 30;\n            GameApp.CANVAS_WIDTH = window.innerWidth;\n        }\n        if(GameApp.CANVAS_HEIGHT > 800){//iphone XR fix.\n          GameApp.CANVAS_HEIGHT -= 40;\n          GameApp.CANVAS_WIDTH = window.innerWidth;\n        }\n        this.game = new Phaser.Game(GameApp.CANVAS_WIDTH, GameApp.CANVAS_HEIGHT - 45*window.devicePixelRatio, Phaser.AUTO, 'gameDiv');\n    }else if(this.platform.is('android'))\n        this.game = new Phaser.Game(GameApp.CANVAS_WIDTH, GameApp.CANVAS_HEIGHT - 74, Phaser.AUTO, 'gameDiv');    \n    else\n        this.game = new Phaser.Game(GameApp.CANVAS_WIDTH, GameApp.CANVAS_HEIGHT - 100, Phaser.AUTO, 'gameDiv');\n\n    this.debugText = \"\" + GameApp.CANVAS_HEIGHT + \", \" + window.innerHeight + \", \" + window.devicePixelRatio;\n    \n    //this.totalPoints = 2125;\n\n    if(this.isPreview == \"false\"){\n      if(this.totalPoints < 0){\n        this.game.state.add('Boot', BootGameOver);\n        this.pickedGame = 'GameOver';\n        var preLoader = new PreloaderGameOver();\n        this.game.state.add('Preloader', preLoader);\n        var gameover = new GameOver();\n        this.game.state.add('GameOver', gameover);\n\n      } else if(this.totalPoints <770 && this.totalPoints >= 0){\n\n        this.game.state.add('Boot', BootL1);\n        this.pickedGame = 'FishBowlL1';\n        var preLoader = new PreloaderL1();\n        this.game.state.add('Preloader', preLoader);\n        var fishBowlL1 = new FishBowlL1();\n        fishBowlL1.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        fishBowlL1.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('FishBowlL1', fishBowlL1);\n\n\n      } else if ( this.totalPoints >=770 && this.totalPoints <1060 ){\n\n        this.game.state.add('Boot', BootL2);\n        this.pickedGame = 'FishBowlL2';\n        var preLoader = new PreloaderL2();\n        this.game.state.add('Preloader', preLoader);\n        var fishBowlL2 = new FishBowlL2();\n        fishBowlL2.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        fishBowlL2.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('FishBowlL2', fishBowlL2);\n\n\n      } else if( this.totalPoints >=1060 && this.totalPoints <1710 ){\n\n        this.game.state.add('Boot', BootL3);\n        this.pickedGame = 'SeaLevelL3';\n        var preLoader = new PreloaderL3();\n        this.game.state.add('Preloader', preLoader);\n        var seaLevelL3 = new SeaLevelL3();\n        seaLevelL3.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        seaLevelL3.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('SeaLevelL3', seaLevelL3);\n\n      } else if( this.totalPoints >=1710 && this.totalPoints <2120){\n\n        this.game.state.add('Boot', BootL4);\n        this.pickedGame = 'SeaLevelL4';\n        var preLoader = new PreloaderL4();\n        this.game.state.add('Preloader', preLoader);\n        var seaLevelL4 = new SeaLevelL4();\n        seaLevelL4.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        seaLevelL4.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('SeaLevelL4', seaLevelL4);\n\n      } else if( this.totalPoints >=2120 && this.totalPoints <2720){\n\n        this.game.state.add('Boot', BootTundraL5);\n        this.pickedGame = \"TundraLevel1\";\n        var preLoader = new PreloaderTundraL5();\n        this.game.state.add('Preloader', preLoader);\n        var level5 = new GameTundraL5();\n        level5.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        level5.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('TundraLevel1', level5);\n\n      }else if( this.totalPoints >=2720 && this.totalPoints <3020){\n\n        this.game.state.add('Boot', BootTundraL51);\n        this.pickedGame = \"TundraLevel2\";\n        var preLoader = new PreloaderTundraL51();\n        this.game.state.add('Preloader', preLoader);\n        var level51 = new GameTundraL51();\n        level51.setTotalPoints(this.totalPoints);\n        var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n        level51.setSurveyHistory(surveyCompletionHistory);\n        this.game.state.add('TundraLevel2', level51\n        );\n\n      }else if( this.totalPoints >=3020){\n\n          this.game.state.add('Boot', BootRainforestL6);\n          this.pickedGame = \"RainforestLevel6\";\n          var preLoader = new PreloaderRainforestL6();\n          this.game.state.add('Preloader', preLoader);\n          var level6 = new GameRainforestL6();\n          level6.setTotalPoints(this.totalPoints);\n          var surveyCompletionHistory = this.getIndicatorForSurveyDone();\n          level6.setSurveyHistory(surveyCompletionHistory);\n          this.game.state.add('RainforestLevel6', level6);\n\n      } else {\n        //---\n        var preLoader = new PreloaderL1();\n        preLoader.setGameName(this.pickedGame = \"GameOver\");\n        this.game.state.add('Preloader', preLoader);\n      }\n    }\n\n\n    if(this.isPreview == \"true\"){\n      \n    }\n\n    //this.game.state.add('GameOver', GameOver);\n    this.game.state.start('Boot');\n    //self = this;\n\n    this.game.state.states[this.pickedGame].assignscope(this);\n\n    //this.pickGameService.currentGame.subscribe(game => this.pickedGame = game)\n  }\n \n  ionViewDidLeaveFunction(){\n    console.log(\"Aquarium, ionDidLeave\");\n    //this.survey_text = \"Start survey\";\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    }); \n    */\n    this.game.destroy();\n  }\n\n  pauseGameRendering(){\n    this.game.state.states[this.pickedGame].yourGamePausedFunc();\n  }\n\n  resumeGameRendering(){\n    this.game.state.states[this.pickedGame].yourGameResumedFunc();\n  }\n\n  ngAfterViewInit(){\n        \n  }  \n\n  async presentAlert(alertMessage, header_text) {\n    \n    const alert = await this.alertCtrl.create({\n      //<div style=\"font-size: 20px;line-height: 25px;padding-bottom:10px;text-align:center\">Thank you for completing the survey. You have unlocked a meme.</div>\n      //header: '<div style=\"line-height: 25px;padding-bottom:10px;text-align:center\">Daily survey unavilable</div>',\n      header: header_text,\n      //subHeader: \"Survey is not avaibable!\",\n      message: alertMessage,\n      //defined in theme/variables.scss\n      //buttons: [{text: 'OK', cssClass: 'secondary'}]\n      buttons: [{text: 'OK'}]\n    });\n    \n    /*\n      let alert = this.alertCtrl.create({\n        title: 'Low battery',\n        subTitle: '10% of battery remaining',\n        buttons: ['Dismiss']\n      });\n    */\n\n    //----\n    await alert.present();\n  }\n}\n","export class BootL1 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n        this.input.maxPointers = 1;\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class FishBowlL1 extends Phaser.State {\r\n\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.surveyHistory = [];\r\n    }\r\n    \r\n    create() {\r\n\r\n        this.gameover = false;\r\n        this.totalClicks = 0;\r\n        this.isPrawnAdded = false;\r\n        this.isClownFishAdded = false;\r\n\r\n        this.CANVAS_WIDTH = 382.0;\r\n        if(window.innerWidth > this.CANVAS_WIDTH)\r\n            this.CANVAS_WIDTH = window.innerWidth;\r\n        \r\n        //\r\n        this.buildWorld();\r\n        this.game.inputEnabled = false;\r\n\r\n        //\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n\r\n    }\r\n\r\n    buildWorld() {\r\n\r\n        //\r\n        this.height = this.game.height;\r\n        var titlescreen = this.add.image(0, this.height-210, 'titlescreen');\r\n        //titlescreen.scale.setTo(0.85, 0.85);\r\n\r\n        //\r\n        //var timer = this.add.sprite(5, 40, 'timer', 1);\r\n\r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n\r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        //\r\n        var treasure = this.add.image(90, this.height-80, 'treasure');\r\n        treasure.scale.setTo(0.3, 0.3);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n\r\n        \r\n        //\r\n        this.buildFish();\r\n        this.addFishes();\r\n\r\n        this.showProgressBars();\r\n\r\n        //\r\n        /*\r\n        var journal = this.add.image(this.CANVAS_WIDTH - 70, 10, 'journal');\r\n        journal.scale.setTo(0.4, 0.4);\r\n        journal.inputEnabled = true;\r\n        journal.events.onInputDown.add(this.logdata, this);\r\n        */\r\n\r\n        \r\n\r\n        //\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n\r\n        //\r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        var vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        vertical_position_offset = 35;\r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        vertical_position_offset = 57;\r\n\r\n\r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 0;\r\n        var end_point_for_level = 1060;\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n    \r\n\r\n    buildFish() {\r\n        \r\n          //assign number of fish\r\n          this.numfish = 0;\r\n          //assign type and age of fish\r\n          var fishType = [\"green1\", \"horse1\", \"purple1\", \"pink1\", \"magenta1\"]\r\n          this.fishGroup = this.add.group();\r\n          this.fishGroup.enableBody = true;\r\n\r\n          //\r\n          for(var i = 0; i < this.numfish; i++){\r\n              var b = this.fishGroup.create(this.rnd.integerInRange(0, this.world.width), this.rnd.integerInRange(this.world.height-300, this.world.height-200), fishType[i]);\r\n              b.anchor.setTo(0.5, 0.5);\r\n              b.body.moves = false;\r\n              b.inputEnabled = true; //true;\r\n              b.events.onInputDown.add(this.addTally, this);\r\n              this.assignFishMovement(b);\r\n          }\r\n\r\n    }\r\n\r\n\r\n    addFishes(){\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n\r\n\r\n        var data = phaserJSON;\r\n        var survey_string = \"\";\r\n        var current_points = this.totalPoints;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points >= data[i].points){\r\n\r\n              //nemo\r\n              if(data[i].name.valueOf() === \"The clown fish\")\r\n                  this.animateClownFish();\r\n\r\n              //if(data[i].name.valueOf() === \"Puffer fish\")\r\n              //    this.animatePufferFish();\r\n              \r\n              //starfish\r\n              if(data[i].name.valueOf() === \"Star fish\")\r\n                  this.animateStarFishes();\r\n\r\n              //squid\r\n              if(data[i].name.valueOf() === \"Squid\")\r\n                  this.animateSquid();\r\n\r\n              if(data[i].name.valueOf() === \"Gold fish\")\r\n                  this.animateGoldFish();\r\n\r\n              if(data[i].name.valueOf() === \"Octopus\")\r\n                  this.animateOctpus();\r\n\r\n              if(data[i].name.valueOf() === \"Angel fish\")\r\n                  this.animateAngelFish();\r\n\r\n              if(data[i].name.valueOf() === \"Crab\")\r\n                  this.animateCrab();\r\n\r\n              if(data[i].name.valueOf() === \"Carp fish\")\r\n                  this.animateGreenFish();\r\n\r\n              if(data[i].name.valueOf() === \"Butterfly fish\")\r\n                  this.animateButterflyFish();\r\n\r\n              if(data[i].name.valueOf() === \"Puffer fish\")\r\n                  this.animatePufferFish();\r\n\r\n              if(data[i].name.valueOf() === \"Tiger barb\")\r\n                  this.animateTigerbarb();\r\n              \r\n\r\n            }\r\n        }\r\n\r\n        //set the progres bar\r\n        this.previoous_fish_point = 0;\r\n        this.next_fish_point = 0;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points < data[i].points){\r\n              this.next_fish_point = data[i].points;\r\n              break;\r\n            }else{\r\n              this.previoous_fish_point = data[i].points;\r\n            }\r\n        }\r\n\r\n        /*\r\n        this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n        var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n        console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * this.progress_sprite.width);\r\n\r\n        console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\r\n        this.progress_sprite.crop(rect);\r\n        */\r\n    }  \r\n\r\n    animateClownFish(){\r\n        this.clownFish = this.add.sprite(-100, 253, 'clownfish');\r\n        this.clownFish.anchor.setTo(.5,.5);\r\n        this.clownFish.animations.add('swim');\r\n        this.clownFish.animations.play('swim', 30, true);\r\n        this.clownFish.scale.setTo(0.5, 0.5);\r\n        this.clownFish.name = \"clownFish\";\r\n        this.gobothways(this.clownFish);\r\n    }\r\n\r\n\r\n    animateSquid(){    \r\n        //squid\r\n        var squid = this.add.sprite(- 120, this.height-150, 'squid');\r\n        squid.animations.add('swim');\r\n        squid.animations.play('swim', 5, true);\r\n        squid.scale.setTo(0.25, 0.25);\r\n        this.gobothways(squid);\r\n    }\r\n\r\n    animateButterflyFish(){\r\n        //angel\r\n        var butterflyFish = this.add.sprite(-100, this.height-300, 'butterflyfish');\r\n        butterflyFish.animations.add('swim');\r\n        butterflyFish.animations.play('swim', 10, true);\r\n        butterflyFish.scale.setTo(0.7, 0.7);\r\n        this.gobothways(butterflyFish);    \r\n    }\r\n\r\n    animateTigerbarb(){    \r\n        //\r\n        //if(this.totalPoints >= 50 && this.totalPoints < 75)\r\n        var tigerbarbfish = this.add.sprite(-100, this.height-120, 'tigerbarb');\r\n        tigerbarbfish.animations.add('swim');\r\n        tigerbarbfish.animations.play('swim', 10, true);\r\n        tigerbarbfish.scale.setTo(0.8, 0.8);\r\n        this.gobothways(tigerbarbfish); \r\n    }\r\n\r\n    animatePufferFish(){    \r\n        \r\n        var pufferfish = this.add.sprite(-100, 50, 'puffer');\r\n        pufferfish.animations.add('swim');\r\n        pufferfish.animations.play('swim', 5, true);\r\n        pufferfish.scale.setTo(0.7, 0.7);\r\n        this.gobothways(pufferfish);\r\n        \r\n    }\r\n    \r\n    animateAngelFish(){\r\n        //angel\r\n        var angelfish = this.add.sprite(-100, this.height-250, 'angelfish');\r\n        angelfish.animations.add('swim');\r\n        angelfish.animations.play('swim', 10, true);\r\n        angelfish.scale.setTo(0.6, 0.6);\r\n        this.gobothways(angelfish);    \r\n    }\r\n    \r\n    animateGreenFish(){    \r\n        //\r\n        var greenFish = this.add.sprite(this.CANVAS_WIDTH + 100, 103, 'greenfish');\r\n        greenFish.anchor.setTo(.5,.5);\r\n        greenFish.animations.add('swim');\r\n        greenFish.animations.play('swim', 30, true);\r\n        greenFish.scale.setTo(0.3, 0.3);\r\n        greenFish.name = \"greenfish\";\r\n        this.gobothways(greenFish);\r\n    }\r\n\r\n    animateStarFishes(){\r\n        var redstarfish = this.add.sprite(30, this.height-28, 'redstarfish');\r\n        redstarfish.animations.add('swim');\r\n        redstarfish.animations.play('swim', 2, true);\r\n        redstarfish.anchor.setTo(0.5,0.5);\r\n        redstarfish.angle -= 20;\r\n        redstarfish.scale.setTo(0.10, 0.10);\r\n\r\n        var bluestarfish = this.add.sprite(70, this.height-22, 'bluestarfish');\r\n        bluestarfish.animations.add('swim');\r\n        bluestarfish.animations.play('swim', 1, true);\r\n        bluestarfish.anchor.setTo(0.5,0.5);\r\n        bluestarfish.angle -= 0;\r\n        bluestarfish.scale.setTo(0.06, 0.06);\r\n\r\n        var greenstarfish = this.add.sprite(190, this.height-22, 'greenstarfish');\r\n        greenstarfish.animations.add('swim');\r\n        greenstarfish.animations.play('swim', 5, true);\r\n        greenstarfish.anchor.setTo(0.5,0.5);\r\n        greenstarfish.angle +=10;\r\n        greenstarfish.scale.setTo(0.08, 0.08);\r\n    }\r\n\r\n    animateGoldFish(){\r\n        var goldfish = this.add.sprite(this.CANVAS_WIDTH+100, 153, 'goldfish');\r\n        goldfish.animations.add('swim');\r\n        goldfish.animations.play('swim', 10, true);\r\n        goldfish.scale.setTo(0.4, 0.4);\r\n        this.gobothways(goldfish);\r\n    }\r\n\r\n    animateClownFish(){\r\n            this.clownFish = this.add.sprite(-100, 253, 'clownfish');\r\n            this.clownFish.anchor.setTo(.5,.5);\r\n            this.clownFish.animations.add('swim');\r\n            this.clownFish.animations.play('swim', 30, true);\r\n            this.clownFish.scale.setTo(0.5, 0.5);\r\n            this.clownFish.name = \"clownFish\";\r\n            this.gobothways(this.clownFish);\r\n    }\r\n\r\n    animateOctpus(){\r\n            var octopus = this.add.sprite(40, 200, 'octopus');\r\n            octopus.animations.add('swim');\r\n            octopus.animations.play('swim', 30, true);\r\n            octopus.scale.setTo(0.3, 0.3);\r\n            this.add.tween(octopus).to({ y: 300 }, 2000, Phaser.Easing.Quadratic.InOut, true, 0, 1000, true);\r\n    }\r\n\r\n\r\n    animateCrab(){\r\n            var crab = this.add.sprite(230, this.height-60, 'seacreatures');\r\n            crab.animations.add('swim', Phaser.Animation.generateFrameNames('crab1', 0, 25, '', 4), 30, true);\r\n            crab.animations.play('swim');\r\n            crab.scale.setTo(0.7, 0.7);\r\n    }\r\n\r\n    gobothways(b){\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50));\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    stopFish(b) {\r\n        this.gobothways(b);\r\n    }\r\n\r\n    assignFishMovement(b) {\r\n        xposition = Math.floor(this.rnd.realInRange(-100, this.world.width+100));\r\n        yposition = Math.floor(this.rnd.realInRange(50, this.world.height-150));\r\n        bdelay = 0; \r\n        if(xposition < b.x){\r\n            b.scale.x = -1;\r\n        }else{\r\n            b.scale.x = 1;\r\n        }\r\n        b.animations.add('swim');\r\n        b.animations.play('swim', 30, true);\r\n        t = this.add.tween(b).to({x:xposition, y:yposition}, 3500, Phaser.Easing.Quadratic.InOut, true, bdelay);\r\n        t.onComplete.add(this.stopFish, this);\r\n    }\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n    }\r\n\r\n    yourGameResumedFunc(){\r\n        console.log(\"Game resumed\");\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    logdata() {\r\n        console.log('show surveys');\r\n        this.componentObject.goToSurveyPage();\r\n    }\r\n\r\n    update(){\r\n    }\r\n\r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n\r\n\tsetTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n\t}    \r\n}","export class PreloaderL1 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\t//console.log(\"Preloader: preload called\"); \r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\t//\r\n\t\t//Returns a random integer between min (inclusive) and max (inclusive)\r\n\t\t//Using Math.round() will give you a non-uniform distribution!\r\n\t\t//\r\n\t\tvar max = 8;\r\n\t\tvar min = 1;\r\n\t\tvar rand_num = Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t\tconsole.log('assets/img/pirate-' + rand_num + '.png');\r\n\t\tthis.load.image('pirate', 'assets/img/pirate-' + rand_num + '.png');\r\n\r\n\t\tvar\tusername = window.localStorage['username'] || 'unknown';\r\n\r\n        this.isStudyParticipant = username.indexOf('-study-') !== -1; // !== -1;\r\n\t\tthis.loadFishBowl();\r\n\r\n\t\t//--- RedBanner.png\r\n\t\t//this.load.atlasJSONArray('banner', 'sprite/RedBanner.png', 'sprite/RedBanner.json');\r\n\t\tthis.load.image('banner', 'assets/img/RedBanner.png');\r\n\t\tthis.load.image('banner_fish', 'assets/img/banner_fish.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tconsole.log(\"Next fish: \" + next_fish);\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n        }, this);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\tconsole.log(\"update: \"+ this.pickedGame);\r\n\t\tthis.state.start('FishBowlL1');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\tloadFishBowl(){\r\n\r\n\t\t//\r\n\t\tconsole.log(\"Inside loadFishBowl\");\r\n\t\tthis.load.image('titlescreen', 'assets/img/TitleBG4.png');    \t\r\n        this.load.image('journal', 'assets/img/fishjournal.png');\r\n\t\t\t   \r\n\t\t//\r\n        this.load.image('fish', 'assets/img/fish.png');\r\n\t\tthis.load.image('treasure', 'assets/img/treasure.png');\r\n\t\tthis.load.atlasJSONArray('clownfish', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\tthis.load.atlasJSONArray('squid', 'assets/game/sprite/squid.png', 'assets/game/sprite/squid.json');\r\n\t\tthis.load.atlasJSONArray('butterflyfish', 'assets/game/sprite/butterflyfish.png', 'assets/game/sprite/butterflyfish.json');\r\n\t\tthis.load.atlasJSONArray('tigerbarb', 'assets/game/sprite/tigerbarb.png', 'assets/game/sprite/tigerbarb.json');\r\n\t\tthis.load.atlasJSONArray('puffer', 'assets/game/sprite/pufferfish.png', 'assets/game/sprite/pufferfish.json');\r\n\t\tthis.load.atlasJSONArray('angelfish', 'assets/game/sprite/angelfish.png', 'assets/game/sprite/angelfish.json');\r\n\t\tthis.load.atlasJSONArray('greenfish', 'assets/game/sprite/swimrightgreenfish.png', 'assets/game/sprite/swimrightgreenfish.json');\r\n\t\t\r\n\t\t//\r\n\t\tthis.load.spritesheet('greenstarfish', 'assets/game/sprite/greenstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('redstarfish', 'assets/game/sprite/redstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('bluestarfish', 'assets/game/sprite/bluestarfish.png', 512, 512, 3);\r\n\r\n\t\t//\r\n\t\tthis.load.atlasJSONArray('goldfish', 'assets/game/sprite/goldfish.png', 'assets/game/sprite/goldfish.json');\r\n\t\tthis.load.atlasXML('octopus', 'assets/game/sprite/octopus.png', 'assets/game/sprite/octopus.xml');\r\n\t\tthis.load.atlasXML('seacreatures', 'assets/game/sprite/seacreatures.png', 'assets/game/sprite/seacreatures.xml');\r\n\r\n\t\t\r\n\t\t//\r\n\t\tthis.load.image('smiley', 'assets/img/smiley.png');\r\n\r\n\t}\r\n}","export class BootL2 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class FishBowlL2 extends Phaser.State {\r\n\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.surveyHistory = [];\r\n    }\r\n    \r\n    create() {\r\n\r\n        this.gameover = false;\r\n        this.totalClicks = 0;\r\n        this.isPrawnAdded = false;\r\n        this.isClownFishAdded = false;\r\n\r\n        this.previoous_fish_point  = 0;\r\n        this.next_fish_point  = 0;\r\n\r\n        \r\n\r\n        // = 382.0;\r\n        //if(window.innerWidth > this.CANVAS_WIDTH)\r\n        this.CANVAS_WIDTH = window.innerWidth;\r\n        \r\n        this.buildWorld();\r\n        this.inputEnabled = false;\r\n\r\n        //\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n\r\n    }\r\n\r\n    buildWorld() {\r\n\r\n        //\r\n        //this.height = window.innerHeight-44;\r\n        this.height = this.game.height;\r\n        var titlescreen = this.add.image(0, this.height-160, 'titlescreen');\r\n        titlescreen.scale.setTo(0.85, 0.85);\r\n\r\n        //\r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n\r\n        //var info_progress_bar = this.add.image(175,50, 'info');\r\n        //info_progress_bar.scale.setTo(0.3, 0.3);\r\n        //info_progress_bar.anchor.setTo(.5,.5);\r\n\r\n        /*\r\n        var info_progress_bar = this.add.sprite(175,53, 'info_sprite');\r\n        info_progress_bar.animations.add('swim');\r\n        info_progress_bar.animations.play('swim', 1, true);\r\n        info_progress_bar.scale.setTo(0.3, 0.3);\r\n        info_progress_bar.anchor.setTo(.5,.5);\r\n        info_progress_bar.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_progress_bar.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked\")}, this);\r\n        */\r\n\r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        var treasure = this.add.image(90, this.height-70, 'treasure');\r\n        treasure.scale.setTo(0.3, 0.3);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Fishes Fed: ' + this.totalClicks, 20);\r\n        /*\r\n        this.totalPoints = 100;\r\n        var points_str = \"\" + this.totalPoints;\r\n        if(this.totalPoints < 10)\r\n            points_str = \"000\" + this.totalPoints;\r\n        if(this.totalPoints>=10 && this.totalPoints<100)\r\n            points_str = \"00\" + this.totalPoints;\r\n        if(this.totalPoints>=100 && this.totalPoints<1000)\r\n            points_str = \"0\" + this.totalPoints;\r\n        */\r\n\r\n           \r\n\r\n        //\r\n        /*\r\n        var journal = this.add.image(this.CANVAS_WIDTH - 70, 10, 'journal');\r\n        journal.scale.setTo(0.4, 0.4);\r\n        journal.inputEnabled = true;\r\n        journal.events.onInputDown.add(this.logdata, this);  \r\n        */ \r\n\r\n        \r\n\r\n        //\r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n\r\n\r\n\r\n        \r\n\r\n        //this.totalPoints = 1000;\r\n        this.buildFish();\r\n        this.addFishes();\r\n\r\n        //\r\n        this.showProgressBars();\r\n\r\n        //this.checkReinforcement();\r\n        //this.showBanner();\r\n\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        var vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        vertical_position_offset = 35;\r\n\r\n        \r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        vertical_position_offset = 57;\r\n        \r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 0;\r\n        var end_point_for_level = 1060;\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    showBanner(){\r\n        this.banner_object = this.add.group();\r\n        //--- banner\r\n        var banner = this.add.image(0, this.height-180, 'banner');\r\n        banner.scale.setTo(.65, .95);\r\n        banner.inputEnabled = true;\r\n        //banner.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner);\r\n        banner.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        var banner_fish = this.add.image(290, this.height-210, 'info');\r\n        banner_fish.scale.setTo(1, 1);\r\n        banner_fish.inputEnabled = true;\r\n        //banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner_fish);\r\n        banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"18px Arial\", fill: \"#f1c40f\", align: \"left\", fontWeights: 'lighter' };\r\n        var text = this.add.text(10, this.height-165, \"New sea level is unlocked.\\nClick the fish bowl\\nto go to earlier level.\", style);\r\n        text.strokeThickness = 0;\r\n        text.inputEnabled = true;\r\n        //text.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text);\r\n        text.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"13px Arial\", fill: \"#f1c40f\", align: \"left\", fontStyle: 'italic', fontWeights: 'lighter'};\r\n        var text2 = this.add.text(215, this.height-105, \"Tap to hide\", style);\r\n        text2.strokeThickness = 0;\r\n        text2.inputEnabled = true;\r\n        //text2.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text2);\r\n        text2.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //make a left ot right animation.\r\n    }\r\n\r\n    hideBanner(elem){\r\n        console.log(\"clicked\");\r\n        this.banner_object.destroy(true);\r\n        window.localStorage['banner_shown_2'] = \"1\";\r\n        //deleted all the elements\r\n    }\r\n    \r\n\r\n    buildFish() {\r\n        \r\n          //assign number of fish\r\n          this.numfish = 0;\r\n          //assign type and age of fish\r\n          var fishType = [\"green1\", \"horse1\", \"purple1\", \"pink1\", \"magenta1\"]\r\n          this.fishGroup = this.add.group();\r\n          this.fishGroup.enableBody = true;\r\n\r\n          //\r\n          for(var i = 0; i < this.numfish; i++){\r\n              var b = this.fishGroup.create(this.rnd.integerInRange(0, this.world.width), this.rnd.integerInRange(this.world.height-300, this.world.height-200), fishType[i]);\r\n              b.anchor.setTo(0.5, 0.5);\r\n              b.body.moves = false;\r\n              b.inputEnabled = true; //true;\r\n              b.events.onInputDown.add(this.addTally, this);\r\n              this.assignFishMovement(b);\r\n          }\r\n\r\n    }\r\n\r\n\r\n    addFishes(){\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n          //console.log(JSON.stringify(phaserJSON));\r\n\r\n\r\n          var data = phaserJSON;\r\n          var survey_string = \"\";\r\n          var current_points = this.totalPoints;\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points >= data[i].points){\r\n\r\n                //nemo\r\n                if(data[i].name.valueOf() === \"The clown fish\")\r\n                    this.animateClownFish();\r\n\r\n                //if(data[i].name.valueOf() === \"Puffer fish\")\r\n                //    this.animatePufferFish();\r\n\r\n                //starfish\r\n                if(data[i].name.valueOf() === \"Star fish\")\r\n                    this.animateStarFishes();\r\n\r\n                //squid\r\n                if(data[i].name.valueOf() === \"Squid\")\r\n                    this.animateSquid();\r\n\r\n                if(data[i].name.valueOf() === \"Gold fish\")\r\n                    this.animateGoldFish();\r\n\r\n                if(data[i].name.valueOf() === \"Octopus\")\r\n                    this.animateOctpus();\r\n\r\n                if(data[i].name.valueOf() === \"Angel fish\")\r\n                    this.animateAngelFish();\r\n\r\n                if(data[i].name.valueOf() === \"Crab\")\r\n                    this.animateCrab();\r\n\r\n                if(data[i].name.valueOf() === \"Carp fish\")\r\n                    this.animateGreenFish();\r\n\r\n                if(data[i].name.valueOf() === \"Electric fish\")\r\n                    this.animatePurpleFish();\r\n\r\n                if(data[i].name.valueOf() === \"Discus fish\")\r\n                    this.animateDiscusFish();\r\n\r\n                if(data[i].name.valueOf() === \"Betta fish\")\r\n                    this.animateBettaFish();               \r\n\r\n                if(data[i].name.valueOf() === \"Sea horse\")\r\n                    this.animateSeaHorse();\r\n\r\n                if(data[i].name.valueOf() === \"Butterfly fish\")\r\n                    this.animateButterflyFish();\r\n\r\n                if(data[i].name.valueOf() === \"Puffer fish\")\r\n                    this.animatePufferFish();\r\n\r\n                if(data[i].name.valueOf() === \"Tiger barb\")\r\n                    this.animateTigerbarb();\r\n\r\n                //if(data[i].name.valueOf() === \"Tiger barb\")\r\n                //    this.animateTigerbarb();\r\n\r\n              }\r\n          }\r\n\r\n          //set the progres bar\r\n          this.previoous_fish_point = 0;\r\n          this.next_fish_point = 0;\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points < data[i].points){\r\n                this.next_fish_point = data[i].points;\r\n                break;\r\n              }else{\r\n                this.previoous_fish_point = data[i].points;\r\n              }\r\n          }\r\n          \r\n\r\n    }  \r\n\r\n    animateClownFish(){\r\n        this.clownFish = this.add.sprite(-100, 253, 'clownfish');\r\n        this.clownFish.anchor.setTo(.5,.5);\r\n        this.clownFish.animations.add('swim');\r\n        this.clownFish.animations.play('swim', 30, true);\r\n        this.clownFish.scale.setTo(0.5, 0.5);\r\n        this.clownFish.name = \"clownFish\";\r\n        this.gobothways(this.clownFish);\r\n    }\r\n\r\n\r\n    animateSquid(){    \r\n        //squid\r\n        var squid = this.add.sprite(- 120, this.height-150, 'squid');\r\n        squid.animations.add('swim');\r\n        squid.animations.play('swim', 5, true);\r\n        squid.scale.setTo(0.25, 0.25);\r\n        this.gobothways(squid);\r\n    }\r\n\r\n    \r\n    animateButterflyFish(){\r\n        //angel\r\n        var butterflyFish = this.add.sprite(-100, this.height-300, 'butterflyfish');\r\n        butterflyFish.animations.add('swim');\r\n        butterflyFish.animations.play('swim', 10, true);\r\n        butterflyFish.scale.setTo(0.5, 0.5);\r\n        this.gobothways(butterflyFish);    \r\n    }\r\n\r\n    animateTigerbarb(){    \r\n        //\r\n        //if(this.totalPoints >= 50 && this.totalPoints < 75)\r\n        var tigerbarbfish = this.add.sprite(-100, this.height-120, 'tigerbarb');\r\n        tigerbarbfish.animations.add('swim');\r\n        tigerbarbfish.animations.play('swim', 10, true);\r\n        tigerbarbfish.scale.setTo(0.6, 0.6);\r\n        this.gobothways(tigerbarbfish); \r\n    }\r\n\r\n    animatePufferFish(){    \r\n        //\r\n        //if(this.totalPoints >= 50 && this.totalPoints < 75)\r\n        var pufferfish = this.add.sprite(-100, 60, 'puffer');\r\n        pufferfish.animations.add('swim');\r\n        pufferfish.animations.play('swim', 10, true);\r\n        pufferfish.scale.setTo(0.5, 0.5);\r\n        this.gobothways(pufferfish); \r\n    }\r\n\r\n    animateSquid(){\r\n        //squid\r\n        var squid = this.add.sprite(- 120, this.height-190, 'squid');\r\n        squid.animations.add('swim');\r\n        squid.animations.play('swim', 5, true);\r\n        squid.scale.setTo(0.19, 0.19);\r\n        this.gobothways(squid);\r\n\r\n    }\r\n\r\n\r\n    animateAngelFish(){\r\n\r\n        //angel\r\n        var angelfish = this.add.sprite(-100, this.height-260, 'angelfish');\r\n        angelfish.animations.add('swim');\r\n        angelfish.animations.play('swim', 10, true);\r\n        angelfish.scale.setTo(0.4, 0.4);\r\n        this.gobothways(angelfish);\r\n\r\n    }\r\n\r\n\r\n    animateDiscusFish(){\r\n\r\n        //\r\n        var discusfish = this.add.sprite(-100, this.height-150, 'discusfish');\r\n        discusfish.animations.add('swim');\r\n        discusfish.animations.play('swim', 15, true);\r\n        discusfish.scale.setTo(0.4, 0.4);\r\n        this.gobothways(discusfish);\r\n\r\n    }\r\n\r\n\r\n    animateBettaFish(){\r\n\r\n        //\r\n        var bettafish = this.add.sprite(this.CANVAS_WIDTH-150, this.height-130, 'bettafish');\r\n        bettafish.animations.add('swim');\r\n        bettafish.animations.play('swim', 5, true);\r\n        bettafish.scale.setTo(0.25, 0.25);\r\n\r\n\r\n    }\r\n\r\n\r\n    animateClownFish(){\r\n        //\r\n        this.clownFish = this.add.sprite(-100, 253, 'clownfish');\r\n        this.clownFish.anchor.setTo(.5,.5);\r\n        this.clownFish.animations.add('swim');\r\n        this.clownFish.animations.play('swim', 30, true);\r\n        this.clownFish.scale.setTo(0.35, 0.35);\r\n        this.clownFish.name = \"clownFish\";\r\n        this.gobothways(this.clownFish);\r\n\r\n    }\r\n\r\n\r\n    animateGoldFish(){\r\n        //goldfish\r\n        var goldfish = this.add.sprite(this.CANVAS_WIDTH+100, 193, 'goldfish');\r\n        goldfish.animations.add('swim');\r\n        goldfish.animations.play('swim', 10, true);\r\n        goldfish.scale.setTo(0.27, 0.27);\r\n        this.gobothways(goldfish);\r\n\r\n    }\r\n\r\n\r\n    animateGreenFish(){\r\n        var greenFish = this.add.sprite(this.CANVAS_WIDTH + 100, 153, 'greenfish');\r\n        greenFish.anchor.setTo(.5,.5);\r\n        greenFish.animations.add('swim');\r\n        greenFish.animations.play('swim', 30, true);\r\n        greenFish.scale.setTo(0.2, 0.2);\r\n        greenFish.name = \"greenfish\";\r\n        this.gobothways(greenFish);\r\n\r\n\r\n    }\r\n\r\n\r\n    animateSeaHorse(){\r\n\r\n        var seahorse = this.add.sprite(this.CANVAS_WIDTH-60, 150, 'seahorseyellow');\r\n        seahorse.animations.add('swim');\r\n        seahorse.animations.play('swim', 10, true);\r\n        //seahorse.anchor.setTo(0.5, 0.5);\r\n        seahorse.scale.setTo(0.08, 0.08);\r\n\r\n\r\n    }\r\n\r\n\r\n    animateOctpus(){\r\n        var octopus = this.add.sprite(40, 200, 'octopus');\r\n        octopus.animations.add('swim');\r\n        octopus.animations.play('swim', 30, true);\r\n        octopus.scale.setTo(0.2, 0.2);\r\n        this.add.tween(octopus).to({ y: 300 }, 2000, Phaser.Easing.Quadratic.InOut, true, 0, 1000, true);\r\n\r\n    }\r\n\r\n\r\n    animatePurpleFish(){\r\n\r\n        var purpleFish = this.add.sprite(-100, 103, 'seacreatures');\r\n        purpleFish.animations.add('swim', Phaser.Animation.generateFrameNames('purpleFish', 0, 20, '', 4), 30, true);\r\n        purpleFish.animations.play('swim');\r\n        purpleFish.anchor.setTo(.5,.5);\r\n        purpleFish.scale.setTo(0.5, 0.5);\r\n        purpleFish.name = \"purplefish\";\r\n        //this.add.tween(purpleFish).to({ x:  -100 }, 3500, Phaser.Easing.Quadratic.InOut, true, 0, 1000, false);\r\n        this.gobothways(purpleFish);\r\n\r\n\r\n    }\r\n\r\n\r\n    animateCrab(){\r\n        var crab = this.add.sprite(190, this.height-50, 'seacreatures');\r\n        crab.animations.add('swim', Phaser.Animation.generateFrameNames('crab1', 0, 25, '', 4), 30, true);\r\n        crab.animations.play('swim');\r\n        crab.scale.setTo(0.52, 0.52);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    animateStarFishes(){\r\n        //\r\n        var redstarfish = this.add.sprite(30, this.height-28+7, 'redstarfish');\r\n        redstarfish.animations.add('swim');\r\n        redstarfish.animations.play('swim', 2, true);\r\n        redstarfish.anchor.setTo(0.5,0.5);\r\n        redstarfish.angle -= 20;\r\n        redstarfish.scale.setTo(0.07, 0.07);\r\n\r\n        var bluestarfish = this.add.sprite(70, this.height-22+7, 'bluestarfish');\r\n        bluestarfish.animations.add('swim');\r\n        bluestarfish.animations.play('swim', 1, true);\r\n        bluestarfish.anchor.setTo(0.5,0.5);\r\n        bluestarfish.angle -= 0;\r\n        bluestarfish.scale.setTo(0.04, 0.04);\r\n\r\n\r\n        var greenstarfish = this.add.sprite(170, this.height-22+7, 'greenstarfish');\r\n        greenstarfish.animations.add('swim');\r\n        greenstarfish.animations.play('swim', 5, true);\r\n        greenstarfish.anchor.setTo(0.5,0.5);\r\n        greenstarfish.angle +=10;\r\n        greenstarfish.scale.setTo(0.04, 0.04);\r\n\r\n\r\n    }\r\n\r\n\r\n    gobothways(b){\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50));\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    stopFish(b) {\r\n        this.gobothways(b);\r\n    }\r\n\r\n    assignFishMovement(b) {\r\n        xposition = Math.floor(this.rnd.realInRange(-100, this.world.width+100));\r\n        yposition = Math.floor(this.rnd.realInRange(50, this.world.height-150));\r\n        bdelay = 0; \r\n        if(xposition < b.x){\r\n            b.scale.x = -1;\r\n        }else{\r\n            b.scale.x = 1;\r\n        }\r\n        b.animations.add('swim');\r\n        b.animations.play('swim', 30, true);\r\n        t = this.add.tween(b).to({x:xposition, y:yposition}, 3500, Phaser.Easing.Quadratic.InOut, true, bdelay);\r\n        t.onComplete.add(this.stopFish, this);\r\n    }\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n    }\r\n\r\n    yourGameResumedFunc(){\r\n        console.log(\"Game resumed\");\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n\r\n    logdata() {\r\n        console.log('show surveys');\r\n        this.componentObject.goToSurveyPage();\r\n    }\r\n\r\n    update(){\r\n    }\r\n\r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n\r\n\tsetTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n    }   \r\n    \r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n}","export class PreloaderL2 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\t//console.log(\"Preloader: preload called\"); \r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n\t\tthis.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\t\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\t\r\n\r\n\t\tvar max = 8;\r\n\t\tvar min = 1;\r\n\t\tvar rand_num = Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t\tconsole.log('assets/img/pirate-' + rand_num + '.png');\r\n\t\tthis.load.image('pirate', 'assets/img/pirate-' + rand_num + '.png');\r\n\r\n\t\tvar\tusername = window.localStorage['username'] || 'unknown';\r\n\r\n        this.isStudyParticipant = username.indexOf('-study-') !== -1; // !== -1;\r\n\t\tthis.loadFishBowl();\r\n\r\n\t\t//--- RedBanner.png\r\n\t\t//this.load.atlasJSONArray('banner', 'sprite/RedBanner.png', 'sprite/RedBanner.json');\r\n\t\tthis.load.image('banner', 'assets/img/RedBanner.png');\r\n\t\tthis.load.image('banner_fish', 'assets/img/banner_fish.png');\r\n\t\tthis.load.image('info', 'assets/img/info.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tconsole.log(\"Next fish: \" + next_fish);\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n        }, this);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\tconsole.log(\"update: \"+ \"FishBowlL2\");\r\n\t\tthis.state.start('FishBowlL2');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\tloadFishBowl(){\r\n\r\n\t\t//\r\n\t\tconsole.log(\"Inside loadFishBowl\");\r\n\t\tthis.load.image('titlescreen', 'assets/img/TitleBG4.png');    \t\r\n        this.load.image('journal', 'assets/img/fishjournal.png');\r\n\t\t\t   \r\n\t\t//\r\n        this.load.image('fish', 'assets/img/fish.png');\r\n\t\tthis.load.image('treasure', 'assets/img/treasure.png');\r\n\t\tthis.load.atlasJSONArray('clownfish', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\tthis.load.atlasJSONArray('squid', 'assets/game/sprite/squid.png', 'assets/game/sprite/squid.json');\r\n\t\tthis.load.atlasJSONArray('butterflyfish', 'assets/game/sprite/butterflyfish.png', 'assets/game/sprite/butterflyfish.json');\r\n\t\tthis.load.atlasJSONArray('tigerbarb', 'assets/game/sprite/tigerbarb.png', 'assets/game/sprite/tigerbarb.json');\r\n\t\tthis.load.atlasJSONArray('puffer', 'assets/game/sprite/pufferfish.png', 'assets/game/sprite/pufferfish.json');\r\n\t\tthis.load.atlasJSONArray('angelfish', 'assets/game/sprite/angelfish.png', 'assets/game/sprite/angelfish.json');\r\n\t\tthis.load.atlasJSONArray('greenfish', 'assets/game/sprite/swimrightgreenfish.png', 'assets/game/sprite/swimrightgreenfish.json');\r\n\t\t\r\n\t\t//\r\n\t\tthis.load.spritesheet('greenstarfish', 'assets/game/sprite/greenstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('redstarfish', 'assets/game/sprite/redstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('bluestarfish', 'assets/game/sprite/bluestarfish.png', 512, 512, 3);\r\n\r\n\t\t//\r\n\t\tthis.load.atlasJSONArray('goldfish', 'assets/game/sprite/goldfish.png', 'assets/game/sprite/goldfish.json');\r\n\t\tthis.load.atlasXML('octopus', 'assets/game/sprite/octopus.png', 'assets/game/sprite/octopus.xml');\r\n\t\tthis.load.atlasXML('seacreatures', 'assets/game/sprite/seacreatures.png', 'assets/game/sprite/seacreatures.xml');\r\n\r\n\t\t\r\n\t\tconsole.log(\"Inside loadFishBowl\");\r\n\t\tthis.load.image('titlescreen', 'assets/img/TitleBG4.png');    \t\r\n        this.load.image('journal', 'assets/img/fishjournal.png');\r\n               \r\n\r\n\t\tthis.load.atlasJSONArray('seahorseyellow', 'assets/game/sprite/seahorseyellow.png', 'assets/game/sprite/seahorseyellow.json');\r\n\t\tthis.load.atlasJSONArray('discusfish', 'assets/game/sprite/discusfish.png', 'assets/game/sprite/discusfish.json');\r\n\t\tthis.load.atlasJSONArray('bettafish', 'assets/game/sprite/betta.png', 'assets/game/sprite/betta.json');\r\n\r\n\t\tthis.load.spritesheet('greenstarfish', 'assets/game/sprite/greenstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('redstarfish', 'assets/game/sprite/redstarfish.png', 512, 512, 3);\r\n\t\tthis.load.spritesheet('bluestarfish', 'assets/game/sprite/bluestarfish.png', 512, 512, 3);\r\n\r\n\t\t//\r\n\t\tthis.load.image('smiley', 'assets/img/smiley.png');\r\n\r\n\t}\r\n}","export class BootGameOver extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n        this.input.maxPointers = 1;\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class GameOver extends Phaser.State {\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n    }\r\n    create() {\r\n        this.stage.backgroundColor = '#000000';\r\n        var s = this.add.sprite(this.world.centerX, this.world.centerY, 'GameOver');\r\n        s.anchor.setTo(.5,.5);\r\n    }\r\n\r\n    update(){\r\n\r\n    }\r\n\r\n    assignscope(scope) {\r\n        //this.ionic_scope = scope;\r\n    }\r\n\r\n}\r\n","export class PreloaderGameOver extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\t//\r\n\t\tthis.load.image('GameOver', 'assets/img/Fireworks.png');\r\n\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\t//this.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\t//console.log(\"update: \"+ this.pickedGame);\r\n\t\tthis.state.start('GameOver');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n}","export class BootRainforestL6 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class GameRainforestL6 extends Phaser.State {\n    //componentObject;\n    constructor(){\n        super();\n        this.componentObject;\n        this.thirstyplant;\n        this.triceratops;\n        this.lion;\n        this.pegions;\n        this.vulture;\n        this.sparrow;\n        this.duck1;\n        this.duck2;\n        this.chicken;\n        this.owl;\n        this.koala;\n        this.corn;\n        this.emitter;\n        this.rainingswitch;\n        this.surveyHistory = [];\n    }\n\n    //gets executed after preload\n    create(){\n        console.log(\"create called\");\n\n        this.CANVAS_WIDTH = window.innerWidth;\n\n        //reinforestBackgroundBottom1\n        var reinforestBackgroundBottom1 = this.add.image(0, this.game.height-320, 'reinforestBackgroundBottom1');\n        //reinforestBackgroundBottom1.scale.setTo(0.6, 0.6);\n        var aspect_ratio = reinforestBackgroundBottom1.width/reinforestBackgroundBottom1.height;\n        reinforestBackgroundBottom1.height = 250;\n        reinforestBackgroundBottom1.width = reinforestBackgroundBottom1.height*aspect_ratio;\n\n\n        //reinforestBackgroundBottom2\n        var reinforestBackgroundBottom2 = this.add.image(0, this.game.height-120, 'reinforestBackgroundBottom2');\n        //reinforestBackgroundBottom1.scale.setTo(0.6, 0.6);\n        aspect_ratio = reinforestBackgroundBottom2.width/reinforestBackgroundBottom2.height;\n        reinforestBackgroundBottom2.height = 120;\n        reinforestBackgroundBottom2.width = reinforestBackgroundBottom2.height*aspect_ratio;\n\n\n        var s = this.game.add.sprite(this.game.width,0,'reinforest1');\n        //s.rotation = 0.0;\n        //s.width = this.game.width;\n        //s.height = this.game.height;\n        //var s = this.game.add.sprite(0,0,'tundra1');\n        s.rotation = 0.0;\n        aspect_ratio = s.width/s.height;\n        s.height = this.game.height - 290;\n        s.width = s.height*aspect_ratio;\n        //console.log(\"s.width \" + s.width);\n        //console.log(\"s.height \" + s.height);\n        //console.log(\"this.game.height \" + this.game.height);\n        //console.log(\"this.game.width \" + this.game.width);\n        //s.anchor.setTo(1-(s.width/this.game.width)/2,0);\n        s.anchor.setTo(1,0);\n        \n\n        //\n        this.height = this.game.height;\n\n\n        //add monkey\n        this.animateMonkey();\n\n        //\n        var treasure = this.add.image(10, this.game.height - 135, 'treasure');\n        treasure.scale.setTo(0.07, 0.07);\n        treasure.inputEnabled = true;\n        treasure.events.onInputDown.add(this.showunlockables, this);\n\n        \n        this.animatePegions();\n        this.addAnimals();\n\n        //this.animateRain();\n\n        //--- \n        /*\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\n        fish_progress.scale.setTo(-0.3, 0.3);\n        fish_progress.anchor.setTo(.5,.5);\n        */\n\n\n        //add the rock to cover the carnivorous plant\n        var journal = this.add.image(-5, this.game.height - 195, 'rock2');\n        journal.scale.setTo(.3*0.8,.18*0.8);\n        \n\n        //\n        this.inputEnabled = false;\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\n        this.game.input.touch.preventDefault = false;\n\n\n        //\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\n        this.showProgressBars();\n        \n        \n\n        //\n        this.game.onPause.add(this.yourGamePausedFunc, this);\n        this.game.onResume.add(this.yourGameResumedFunc, this);\n\n\n\n    }\n\n\n    showProgressBars(){\n\n        var current_points = this.totalPoints;\n\n        //------ Left side\n\n        \n\n        //level info\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\n        //levels_progress.scale.setTo(.27, .30);\n\n        /*\n        //\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\n        levels_progress.scale.setTo(0.95, 1.2);\n\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\n        if(percent == 0)\n          percent = 0.05;\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\n        rect.width = Math.max(0, percent * progress_sprite.width);\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\n        progress_sprite.crop(rect);\n        //progress_sprite.anchor.setTo(0,0);\n        progress_sprite.scale.setTo(1,1.1);\n\n\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\n        level_up_icon.scale.setTo(.5, .5);\n        level_up_icon.anchor.setTo(.5, .5);\n\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\n        info_level_progress.animations.add('swim');\n        info_level_progress.animations.play('swim', 1, true);\n        info_level_progress.scale.setTo(0.3, 0.3);\n        info_level_progress.anchor.setTo(.5,.5);\n        info_level_progress.inputEnabled = true;\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \n\n        \n        //progress_sprite.anchor.setTo(1,0);\n        //progress_sprite.scale.setTo(0.8,0.8);\n        */\n\n        var SCALING_FACTOR = 0.8;\n\n        //streak_info\n        var streak_info = this.add.image(5, 5, 'streak_info');\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\n\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\n        info_level_streak.animations.add('swim');\n        info_level_streak.animations.play('swim', 1, true);\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\n        info_level_streak.anchor.setTo(.5,.5);\n        info_level_streak.inputEnabled = true;\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \n\n\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\n        for(var i=0; i < this.surveyHistory.length; i++){\n            if(this.surveyHistory[i] == 1)\n                colors[i] = 'green';\n            else\n                colors[i] = 'grey';\n        }   \n        colors = colors.reverse()\n        \n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\n        console.log(\"colors \" + colors);\n        //colors = ['green','green','green','green','grey','green','grey'];\n        var streak_tile;\n        for(var i=0; i < this.surveyHistory.length; i++){\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\n        }\n\n\n        //------ Right side\n        //var progressBars = this.add.group();\n\n        //points bar\n        vertical_position_offset = 13;\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\n        points_progress.anchor.setTo(1,0);\n        //progressBars.add(points_progress);\n\n        //point text\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\n        points_text.anchor.setTo(0.5,0);\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\n        //progressBars.add(points_text);\n\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\n        star_icon.anchor.setTo(.5, .5);\n        //progressBars.add(points_text);\n\n        //progressBars.scale.setTo(.8, .8);\n\n        /*\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\n        info_points.animations.add('swim');\n        info_points.animations.play('swim', 1, true);\n        info_points.scale.setTo(0.3, 0.3);\n        info_points.anchor.setTo(.5,.5);\n        info_points.inputEnabled = true;\n        //function(){doAlert(textString)\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \n        */\n\n        \n        //points to get to next fish.\n        vertical_position_offset = 35;\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\n        progress_bar_fish.anchor.setTo(1,0);\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\n        if(percent == 0)\n          percent = 0.05;\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\n        rect.width = Math.max(0, percent * progress_sprite.width);\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\n        progress_sprite.crop(rect);\n        progress_sprite.anchor.setTo(1,0);\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\n        fish_progress_icon.anchor.setTo(.5, .5);\n        \n\n        \n        //points to get to meme.\n        var vertical_position_offset = 57;\n\n        /*\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\n        progress_bar_memes.anchor.setTo(1,0);\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var start_number_of_memes = 0;\n        var total_number_of_memes = 31;\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\n        if(already_shown_memes == undefined)\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\n        else\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\n\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\n                  (total_number_of_memes-start_number_of_memes);\n        percent = percent*0.8 + 0.2;\n        rect.width = Math.max(0, percent * progress_sprite.width);\n        progress_sprite.crop(rect);\n        progress_sprite.anchor.setTo(1,0);\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\n        meme_icon.anchor.setTo(.5, .5);\n\n\n        //points to get to alt message.\n        var vertical_position_offset = 79;\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\n        progress_bar_altruism_message.anchor.setTo(1,0);\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var start_number_of_alt_messages = 0;\n        var total_number_of_alt_messages = 21;\n\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\n        if(already_shown_altruism_msgs == undefined)\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\n        else\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\n\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\n        //if(percent < 0.05)\n        percent = percent*0.8 + 0.2;\n        rect.width = Math.max(0, percent * progress_sprite.width);\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\n        progress_sprite.crop(rect);\n        progress_sprite.anchor.setTo(1,0);\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        \n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\n        alt_icon.anchor.setTo(.5, .5);\n        \n\n\n        //points to get to level up.\n        var vertical_position_offset = 101;\n        */\n\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\n        progress_bar_level_up.anchor.setTo(1,0);\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        // end of level is 1060, start is at 0\n        var start_point_for_level = 3020;\n        var end_point_for_level = 3800;\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\n        percent = percent*0.8 + 0.2;\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\n        rect.width = Math.max(0, percent * progress_sprite.width);\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\n        progress_sprite.crop(rect);\n        progress_sprite.anchor.setTo(1,0);\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\n\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\n        level_up_2.anchor.setTo(.5, .5);\n\n\n\n\n\n\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\n        //console.log(\"countdown.width \" + this.countdown.width);\n\n        \n    }\n\n    setSurveyHistory(survey_history){\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\n        //this.surveyHistory = survey_history;\n        for(var i=0; i<survey_history.length; i++)\n            this.surveyHistory.push(survey_history[i]);\n\n        //console.log(\"setSurveyHistory function finished\");\n    }\n\n    showInforBox(text){\n        //console.log('treasure box clicked');\n        this.componentObject.showInfoModal(text);\n    }\n\n    addAnimals(){\n\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\n\n\n        var data = phaserJSON;\n        var survey_string = \"\";\n        var current_points = this.totalPoints;\n\n\n        //drawing order, initialize to zero\n        var drawing_order = [\"Butterfly\", \"Jaguar\", \"Ostrich\", \"Squirrel\", \"Koala\", \"Venus Flytrap\", \"Lion\", \"Triceratops\", \"Macaw\", \"Duck\", \"Owl\", \"Sparrow\", \"Vulture\", \"Rain\"];\n        var drawing_order_enabled = {};\n        for(var j=0; j < drawing_order.length; j++)\n            drawing_order_enabled[drawing_order[j]] = 0;\n\n        //\n        for(var i = 0; i < data.length; i++) {\n            if(current_points >= data[i].points){\n                drawing_order_enabled[data[i].name.valueOf()] = 1;\n            }\n        }\n\n        for(var key in drawing_order_enabled) {\n\n            //means it is not included\n            if(drawing_order_enabled[key] == 0)\n                continue;\n\n\n            if(drawing_order_enabled[key] == 1){\n\n                //\n                if(key === \"Squirrel\")\n                    this.animateSquirrel();\n                \n                if(key === \"Jaguar\")\n                    this.animateJaguar();\n\n                if(key === \"Venus Flytrap\")\n                    this.animateCarnivorePlant();\n                \n                if(key === \"Lion\")\n                    this.animateLionMain();\n\n                if(key === \"Ostrich\")\n                    this.animateOstrich();\n\n                if(key === \"Triceratops\")\n                    this.animateTriceratopsMain();\n\n                //if(data[i].name.valueOf() === \"Corn\")\n                //    this.animateCornMain();    \n\n                if(key === \"Macaw\")\n                    this.animateMacaw();               \n\n                if(key === \"Duck\")\n                    this.animateGooseDuck(); \n\n                if(key === \"Owl\")\n                    this.animateOwl();\n\n                if(key === \"Sparrow\")\n                    this.animateSparrow();\n\n                if(key === \"Vulture\")\n                    this.animateVulture();\n\n                if(key === \"Koala\")\n                    this.animateKoalaMain();\n\n                if(key === \"Butterfly\")\n                    this.animateButterFly();\n\n                if(key === \"Rain\"){\n                    //this.animateRain();\n                }\n                    \n            }\n        }\n\n         //set the progres bar\n        this.previoous_fish_point = 0;\n        this.next_fish_point = 0;\n        for(var i = 0; i < data.length; i++) {\n            if(current_points < data[i].points){\n              this.next_fish_point = data[i].points;\n              break;\n            }else{\n              this.previoous_fish_point = data[i].points;\n            }\n        }\n\n        /*\n        //---\n        var timer = this.add.sprite(5, 40, 'timer', 1);\n\n        this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\n        var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\n        var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\n        //console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\n        rect.width = Math.max(0, percent * this.progress_sprite.width);\n\n        //console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\n        this.progress_sprite.crop(rect);\n        */\n    }\n\n    animateRain(){\n        //console.log(\"snow button loaded\");\n        this.rainingswitch = this.add.image(this.game.width - 100, 10, 'rain_start');\n        this.rainingswitch.scale.setTo(0.6, 0.6);\n        this.rainingswitch.inputEnabled = true;\n        this.rainingswitch.events.onInputDown.addOnce(this.startraining, this);\n    }\n\n    startraining(){\n        //console.log(\"start snowing\");\n\n        //var mid_emitter;\n        //var back_emitter;\n\n        this.rainingswitch.loadTexture(\"rain_end\",0);\n        \n        //this.back_emitter = this.game.add.emitter(this.game.world.centerX, -32, 600);\n        this.emitter = this.game.add.emitter(this.game.world.centerX, -32, 600);\n\n        this.emitter.width = this.game.world.width;\n        // emitter.angle = 30; // uncomment to set an angle for the rain.\n\n        this.emitter.makeParticles('rain');\n        this.emitter.minParticleScale = 0.1;\n        this.emitter.maxParticleScale = 0.5;\n        this.emitter.setYSpeed(300, 500);\n        this.emitter.setXSpeed(-5, 5);\n        this.emitter.minRotation = 0;\n        this.emitter.maxRotation = 0;\n        this.emitter.start(false, 1600, 5, 0);\n\n        this.rainingswitch.events.onInputDown.addOnce(this.stopraining, this);\n    }\n\n    stopraining(){\n\n        this.rainingswitch.loadTexture(\"rain_start\",0);\n        this.emitter.destroy();\n        this.rainingswitch.events.onInputDown.addOnce(this.startraining, this);\n    }\n\n    animateButterFly(){\n        var flowerBush = this.add.sprite(-10, this.game.height-293, 'flowerBush');\n        flowerBush.scale.setTo(.2, .2);\n        flowerBush.anchor.setTo(0,1);\n\n        var butterfly = this.game.add.sprite(60, this.game.height-373, 'butterfly');\n        butterfly.animations.add('swim');\n        butterfly.animations.play('swim', 3, true);\n        butterfly.scale.setTo(.6, .6);\n        //this.butterfly = butterfly;\n\n\n        butterfly = this.game.add.sprite(30, this.game.height-343, 'butterfly');\n        butterfly.animations.add('swim');\n        butterfly.animations.play('swim', 15, true);\n        butterfly.scale.setTo(.4, .4);\n        butterfly.rotation = -0.5;\n        //this.butterfly = butterfly;\n\n        butterfly = this.game.add.sprite(20, this.game.height-343, 'butterfly');\n        butterfly.animations.add('swim');\n        butterfly.animations.play('swim', 25, true);\n        butterfly.scale.setTo(.25, .25);\n        butterfly.rotation = 0.5;\n        this.butterfly = butterfly;\n    }\n\n    animateMonkey(){\n        //---\n        var treeBranch = this.add.sprite(-10, 125, 'treeBranch');\n        treeBranch.scale.setTo(.3, .3);\n        treeBranch.rotation = -0.1;\n\n        //---\n        /*\n        //console.log(\"adding redMonkey\");\n        var redMonkey = this.game.add.sprite(5, 145, 'redMonkey');\n        redMonkey.animations.add('swim');\n        //redMonkey.animations.play('swim', 5, true);\n        redMonkey.scale.setTo(.15, .15);\n        //redMonkey.inputEnabled = true;\n        this.redMonkey = redMonkey;\n\n        //---\n        console.log(\"adding brownMonkey\");\n        var brownMonkey = this.game.add.sprite(20, 145, 'brownMonkey');\n        brownMonkey.animations.add('swim');\n        //brownMonkey.animations.play('swim', 5, true);\n        brownMonkey.scale.setTo(.1, .1);\n        //brownMonkey.inputEnabled = true;\n        this.brownMonkey = brownMonkey;\n\n        //---\n        console.log(\"adding blackMonkey\");\n        var blackMonkey = this.game.add.sprite(30, 145, 'blackMonkey');\n        blackMonkey.animations.add('swim');\n        //blackMonkey.animations.play('swim', 5, true);\n        blackMonkey.scale.setTo(.15, .15);\n        //brownMonkey.inputEnabled = true;\n        this.blackMonkey = blackMonkey;\n        */\n\n    }\n\n    animateCarnivorePlant(){\n        //\n        //console.log(\"adding thristy plant\");\n        var thirstyplant = this.game.add.sprite(-30, this.game.height-310, 'thirstyplant');\n        thirstyplant.animations.add('swim');\n        thirstyplant.animations.play('swim', 15, true);\n        thirstyplant.scale.setTo(.72, .72);\n        thirstyplant.inputEnabled = true;\n        this.thirstyplant = thirstyplant;\n        thirstyplant.events.onInputDown.addOnce(this.changeToAttack, this);\n    }\n\n    \n    animateCornMain(){\n        //console.log(\"adding corn\");\n        var corn = this.game.add.sprite(5, this.game.height-345, 'corn_stand');\n        corn.animations.add('swim');\n        corn.animations.play('swim', 5, true);\n        corn.scale.setTo(.64, .64);\n        corn.inputEnabled = true;\n        this.corn = corn;\n        corn.events.onInputDown.addOnce(this.changeToAttackCorn, this);\n    }\n\n\n    animateKoalaMain(){\n        //\n        this.koala = this.add.sprite(this.game.width+30, this.game.height-320, 'koala');\n        this.animateKoala();\n    }\n    //\n    animateKoala(){\n        console.log(\"Idle koala\");\n        this.koala.loadTexture('koala', 0);\n        this.koala.animations.add('swim');\n        this.koala.animations.play('swim', 2, true);\n        this.koala.scale.setTo(-.24, .24);\n        //this.triceratops.inputEnabled = true;\n        //this.triceratops.events.onInputDown.addOnce(this.animateLionJump, this);\n        this.koala.name = \"koala\";\n    }\n\n    //\n    animateTriceratopsMain(){\n        this.triceratops = this.add.sprite(this.game.width+30, this.game.height-240, 'triceratops');\n        this.animateTriceratops();\n    }\n\n    //\n    animateTriceratops(){\n        //console.log(\"Idle triceratops\");\n        this.triceratops.loadTexture('triceratops', 0);\n        this.triceratops.animations.add('swim');\n        this.triceratops.animations.play('swim', 2, true);\n        this.triceratops.scale.setTo(-.32, .32);\n        this.triceratops.name = \"triceratops\";\n    }\n\n    animateLionMain(){//\n        //\n        this.lion = this.add.sprite(this.game.width-60, this.game.height-240, 'lion');\n        this.animateLion();\n    }\n\n    //\n    animateLion(){\n        console.log(\"Idle lion\");\n        this.lion.loadTexture('lion', 0);\n        this.lion.animations.add('swim');\n        this.lion.animations.play('swim', 3, true);\n        this.lion.scale.setTo(-0.8, 0.8);\n        this.lion.inputEnabled = true;\n        this.lion.events.onInputDown.addOnce(this.animateLionJump, this);\n        this.lion.name = \"lion\";\n        //this.pegions.body.velocity.x = -20;\n        //this.gobothways(this.lion);\n    }\n\n    //\n    animateLionJump(){\n        \n        //console.log(\"Jump lion jump\");\n\n        //this.thirstyplant.loadTexture('attackplant', 0);\n\n        //this.lion = this.add.sprite(this.game.width-30, this.game.height-250, 'lionjump');\n        this.lion.loadTexture('lionjump', 0);\n        this.lion.animations.add('swim');\n        this.lion.animations.play('swim', 5, true);\n        this.lion.scale.setTo(-0.8, 0.8);\n        //this.lion.inputEnabled = true;\n        //thirstyplant.events.onInputDown.add(this.changeToAttack, this);\n        this.lion.name = \"lion\";\n        //this.pegions.body.velocity.x = -20;\n        //this.gobothways(this.lion);\n\n        //\n        //this.lion.animations.currentAnim.onComplete.add(this.animateLion, this);\n        this.lion.events.onInputDown.addOnce(this.animateLion, this);\n    }\n\n    //\n    animatePegions(){\n        this.pegions = this.add.sprite(-500, 95, 'pegions');\n        this.pegions.anchor.setTo(.5,.5);\n        this.pegions.animations.add('swim2');\n        this.pegions.animations.play('swim2', 5, true);\n        this.pegions.scale.setTo(-0.7, 0.7);\n        this.pegions.name = \"pegions\";\n        //this.pegions.body.velocity.x = -20;\n        this.gobothways(this.pegions);\n    }\n\n    //\n    animateVulture(){\n        this.vulture = this.add.sprite(-40, 75, 'vulture_flying');\n        this.vulture.anchor.setTo(.5,.5);\n        this.vulture.animations.add('swim2');\n        this.vulture.animations.play('swim2', 5, true);\n        this.vulture.scale.setTo(0.12, 0.12);\n        this.vulture.name = \"vulture\";\n        this.gobothways(this.vulture);\n    }\n\n    //\n    animateSparrow(){\n        this.sparrow = this.add.sprite(this.game.width+750, 215, 'sparrow_flying');\n        this.sparrow.anchor.setTo(.5,.5);\n        this.sparrow.animations.add('swim2');\n        this.sparrow.animations.play('swim2', 15, true);\n        this.sparrow.scale.setTo(-0.15, 0.15);\n        this.sparrow.name = \"sparrow\";\n        this.gobothways(this.sparrow);\n    }\n\n    //\n    animateGooseDuck(){\n        this.duck1 = this.add.sprite(this.game.width+250, 135, 'goose_flying');\n        this.duck1.anchor.setTo(.5,.5);\n        this.duck1.animations.add('swim2');\n        this.duck1.animations.play('swim2', 15, true);\n        this.duck1.scale.setTo(-0.12, 0.12);\n        this.duck1.name = \"duck1\";\n        this.gobothways(this.duck1);\n\n        this.duck2 = this.add.sprite(this.game.width+300, 145, 'duck_flying');\n        this.duck2.anchor.setTo(.5,.5);\n        this.duck2.animations.add('swim2');\n        this.duck2.animations.play('swim2', 15, true);\n        this.duck2.scale.setTo(-0.11, 0.11);\n        this.duck2.name = \"duck2\";\n        this.gobothways(this.duck2);\n    }\n\n    //\n    animateMacaw(){\n        this.macaw = this.add.sprite(this.game.width+150, 235, 'macaw_flying');\n        this.macaw.anchor.setTo(.5,.5);\n        this.macaw.animations.add('swim2');\n        this.macaw.animations.play('swim2', 15, true);\n        this.macaw.scale.setTo(0.2, 0.2);\n        this.macaw.name = \"macaw\";\n        this.gobothways(this.macaw);\n    }\n\n    //\n    animateOwl(){\n        this.owl = this.add.sprite(this.game.width+550, 255, 'owl_flying');\n        this.owl.anchor.setTo(.5,.5);\n        this.owl.animations.add('swim2');\n        this.owl.animations.play('swim2', 15, true);\n        this.owl.scale.setTo(-0.1, 0.1);\n        this.owl.name = \"owl\";\n        this.gobothways(this.owl);\n    }\n\n\n    //\n    /*\n    animateSparrow(){\n        this.sparrow = this.add.sprite(this.game.width+250, 65, 'sparrow_flying');\n        this.sparrow.anchor.setTo(.5,.5);\n        this.sparrow.animations.add('swim');\n        this.sparrow.animations.play('swim', 5, true);\n        this.sparrow.scale.setTo(0.1, 0.);\n        this.sparrow.name = \"sparrow\";\n        this.gobothways(this.sparrow);\n    }\n    */\n\n\n    //if(this.totalPoints >= 0 && this.totalPoints < 25)\n    animateOstrich(){\n        this.clownFish = this.add.sprite(this.game.width+250, this.game.height-275, 'ostrich');\n        this.clownFish.anchor.setTo(.5,.5);\n        this.clownFish.animations.add('swim');\n        this.clownFish.animations.play('swim', 10, true);\n        this.clownFish.scale.setTo(0.4, 0.4);\n        this.clownFish.name = \"squirrel\";\n        this.gobothways(this.clownFish);\n\n\n        //this.isPrawnAdded = true;\n        //this.prawn = this.add.sprite(10, this.height-50, 'seacreatures', 'prawn0000');\n        //this.prawn.scale.setTo(0.5, 0.5);\n    }\n\n    //if(this.totalPoints >= 0 && this.totalPoints < 25)\n    animateSquirrel(){\n        this.ostrich = this.add.sprite(-50, this.game.height-250, 'squirrel');\n        this.ostrich.anchor.setTo(.5,.5);\n        this.ostrich.animations.add('swim2');\n        this.ostrich.animations.play('swim2', 25, true);\n        this.ostrich.scale.setTo(-0.56, 0.56);\n        this.ostrich.name = \"ostrich\";\n        this.gobothways(this.ostrich);\n\n\n        //this.isPrawnAdded = true;\n        //this.prawn = this.add.sprite(10, this.height-50, 'seacreatures', 'prawn0000');\n        //this.prawn.scale.setTo(0.5, 0.5);\n    }\n\n\n    animateJaguar(){\n        this.jaguar = this.add.sprite(this.game.width+50, this.game.height-310, 'jaguar');\n        this.jaguar.anchor.setTo(.5,.5);\n        this.jaguar.animations.add('swim2');\n        this.jaguar.animations.play('swim2', 10, true);\n        this.jaguar.scale.setTo(0.25, 0.25);\n        this.jaguar.name = \"jaguar\";\n        this.gobothways(this.jaguar);\n\n\n        //this.isPrawnAdded = true;\n        //this.prawn = this.add.sprite(10, this.height-50, 'seacreatures', 'prawn0000');\n        //this.prawn.scale.setTo(0.5, 0.5);\n    }\n\n\n\n\n    changeToAttack(){\n        console.log(\"changed to attack\");\n        this.thirstyplant.loadTexture('attackplant', 0);\n        this.thirstyplant.animations.add('swim');\n        this.thirstyplant.animations.play('swim', 15, true);\n        this.thirstyplant.events.onInputDown.addOnce(this.changeToThirsty, this);\n    }\n\n    changeToThirsty(){\n        //console.log(\"changed to thirsty\");\n        this.thirstyplant.loadTexture('thirstyplant', 0);\n        this.thirstyplant.animations.add('swim');\n        this.thirstyplant.animations.play('swim', 15, true);\n        this.thirstyplant.events.onInputDown.addOnce(this.changeToAttack, this);\n    }\n\n    changeToAttackCorn(){\n        //console.log(\"changed to attack\");\n        this.corn.loadTexture('corn_attach', 0);\n        this.corn.animations.add('swim');\n        this.corn.animations.play('swim', 5, true);\n        this.corn.events.onInputDown.addOnce(this.changeToAttackCornKiss, this);\n    }\n\n\n    changeToAttackCornKiss(){\n        //console.log(\"changed to thirsty\");\n        this.corn.loadTexture('corn_stand', 0);\n        this.corn.animations.add('swim');\n        this.corn.animations.play('swim', 5, true);\n        this.corn.events.onInputDown.addOnce(this.changeToAttackCorn, this);\n    }\n\n    gobothways(b){\n\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\n            change_amount = 3*change_amount;\n        var pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\n        while((pos_y > this.height) || (pos_y < 70)){\n            pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\n        }\n\n        var t, X, Y;\n        if(b.x > this.CANVAS_WIDTH){ \n            //console.log('right to left, ' + b.x);\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\n            b.scale.x = -1*b.scale.x;\n            X = -200+Math.floor(this.rnd.realInRange(0, 200));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\n            t= this.add.tween(b).to({ x: X, y: pos_y}, 7500, Phaser.Easing.Quadratic.InOut, true, 0);\n            t.onComplete.add(this.stopFish, this); \n        }\n\n        if(b.x < 0){\n            //console.log('left to right, ' + b.x);\n            b.scale.x = -1*b.scale.x;\n            X = this.CANVAS_WIDTH + 200 - Math.floor(this.rnd.realInRange(0, 200)); //+ Math.floor(this.rnd.realInRange(0, 2000))\n            t = this.add.tween(b).to({ x: X, y: pos_y }, 9500+ Math.floor(this.rnd.realInRange(0, 5000)), Phaser.Easing.Quadratic.InOut, true, 0);\n            t.onComplete.add(this.stopFish, this);\n        }\n        //*/\n    }\n\n    stopFish(b) {\n        //this.assignFishMovement(b);\n        //console.log('stopped');\n        this.gobothways(b);\n    }\n\n    buildWorld() {\n\n    }\n\n    showunlockables(){\n        //console.log('treasure box clicked');\n        this.componentObject.goToRewardsPage();\n    }\n\n\n    setTotalPoints(totalPoints){\n\t\tthis.totalPoints = totalPoints;\n    } \n\n    assignscope(componentObject){\n        this.componentObject = componentObject;\n    }\n\n\n    yourGamePausedFunc(){\n        console.log(\"Game paused\");\n        if(this.game.lockRender == false) \n            this.game.lockRender = true;\n    }\n\n    yourGameResumedFunc(){\n        console.log(\"Game resumed\");\n        if(this.game.lockRender == true) \n            this.game.lockRender = false;\n    }\n    \n\n    \n\n}","export class PreloaderRainforestL6 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\tconsole.log(\"Preload called\");\r\n\t\tthis.input.addPointer();\r\n\t\t\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\r\n\t\t\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\r\n\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n\t\t}, this);\r\n\r\n\r\n\r\n\r\n\t\tthis.game.load.image('rock2','assets/pics/rock2.png');\r\n\t\t\r\n\t\tthis.game.load.image('reinforest1','assets/pics/bg-rainforest-top-V2.png');\r\n\t\tthis.load.image('reinforestBackgroundBottom1', 'assets/pics/bg-rainforest-bottom-1.png'); \r\n\t\tthis.load.image('reinforestBackgroundBottom2', 'assets/pics/bg-rainforest-bottom-2.png'); \r\n\r\n\r\n\t\tthis.game.load.image('treasure', 'assets/img/treasure_chest_rainforest.png');\r\n        this.game.load.atlasJSONArray('attackplant', 'assets/game/sprite/attack_plant.png', 'assets/game/sprite/attack_plant.json');\r\n        this.game.load.atlasJSONArray('thirstyplant', 'assets/game/sprite/thirsty_plant.png', 'assets/game/sprite/thirsty_plant.json');\r\n        this.game.load.atlasJSONArray('squirrel', 'assets/game/sprite/squirrel_run-0.png', 'assets/game/sprite/squirrel_run.json');\r\n        this.game.load.atlasJSONArray('ostrich', 'assets/game/sprite/ostrich_sprite.png', 'assets/game/sprite/ostrich_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('jaguar', 'assets/game/sprite/Jaquar.png', 'assets/game/sprite/Jaquar.json');\r\n\t\t\r\n\t\tthis.game.load.atlasJSONArray('pegions', 'assets/game/sprite/5-pegions.png', 'assets/game/sprite/5-pegions.json');\r\n        this.game.load.atlasJSONArray('lion', 'assets/game/sprite/brave_lion_idle-0.png', 'assets/game/sprite/brave_lion_idle-0.json');\r\n        this.game.load.atlasJSONArray('triceratops', 'assets/game/sprite/triceratops_idle_sprit.png', 'assets/game/sprite/triceratops_idle_sprit.json');\r\n        this.game.load.atlasJSONArray('koala', 'assets/game/sprite/koala_sprite.png', 'assets/game/sprite/koala_sprite.json');\r\n        this.game.load.atlasJSONArray('lionjump', 'assets/game/sprite/brave_lion_jump-0.png', 'assets/game/sprite/brave_lion_jump-0.json');\r\n\r\n        //\r\n        this.game.load.atlasJSONArray('corn_stand', 'assets/game/sprite/cron_stand_sprite.png', 'assets/game/sprite/cron_stand_sprite.json');\r\n        this.game.load.atlasJSONArray('corn_attach', 'assets/game/sprite/cron_attack_sprite.png', 'assets/game/sprite/cron_attack_sprite.json');\r\n\r\n        //\r\n        this.game.load.atlasJSONArray('vulture_flying', 'assets/game/sprite/vulture_sprite.png', 'assets/game/sprite/vulture_sprite.json');\r\n        this.game.load.atlasJSONArray('sparrow_flying', 'assets/game/sprite/sparrow_sprite.png', 'assets/game/sprite/sparrow_sprite.json');\r\n        this.game.load.atlasJSONArray('goose_flying', 'assets/game/sprite/goose_sprite.png', 'assets/game/sprite/goose_sprite.json');\r\n        this.game.load.atlasJSONArray('owl_flying', 'assets/game/sprite/owl_sprite.png', 'assets/game/sprite/owl_sprite.json');\r\n        this.game.load.atlasJSONArray('duck_flying', 'assets/game/sprite/duck_sprite.png', 'assets/game/sprite/duck_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('macaw_flying', 'assets/game/sprite/Macaw.png', 'assets/game/sprite/Macaw.json');\r\n\t\t\r\n\t\t//monkeys\r\n\t\tthis.game.load.image('treeBranch','assets/img/branch-tree.png');\r\n\t\t//this.game.load.atlasJSONArray('redMonkey', 'assets/game/sprite/RedMonkey.png', 'assets/game/sprite/RedMonkey.json');\r\n        //this.game.load.atlasJSONArray('brownMonkey', 'assets/game/sprite/BrownMonkey.png', 'assets/game/sprite/BrownMonkey.json');\r\n        //this.game.load.atlasJSONArray('blackMonkey', 'assets/game/sprite/BlackMonkey.png', 'assets/game/sprite/BlackMonkey.json');\r\n\t\t\r\n\t\t//butter fly\r\n\t\tthis.game.load.image('flowerBush','assets/img/flower-bush.png');\r\n\t\tthis.game.load.atlasJSONArray('butterfly', 'assets/game/sprite/butterfly.png', 'assets/game/sprite/butterfly.json');\r\n        \r\n\t\tthis.game.load.spritesheet('rain', 'assets/game/sprite/rain.png', 17, 17)\r\n//\r\n\t\t//this.load.image('snowgswitch', 'assets/img/snowglobe.png');\r\n\t\tthis.load.image('rain_start', 'assets/img/start_rain.png');\r\n\t\tthis.load.image('rain_end', 'assets/img/stop_rain.png');\r\n\t\t//\r\n\r\n\t\t\r\n\r\n\t}\t\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tconsole.log(\"update: \"+ 'RainforestLevel6');\r\n\t\tthis.state.start('RainforestLevel6');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n}","export class BootL3 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class SeaLevelL3 extends Phaser.State {\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.surveyHistory = [];\r\n    }\r\n    \r\n    create() {\r\n        this.gameover = false;\r\n        this.totalClicks = 0;\r\n        //this.totalPoints = this.ionic_scope.total_points;\r\n        //this.music = this.add.audio('game_audio');\r\n        //this.music.play('', 0, 1.0, true);\r\n        \r\n        this.CANVAS_WIDTH = 382.0;\r\n        if(window.innerWidth > this.CANVAS_WIDTH)\r\n            this.CANVAS_WIDTH = window.innerWidth;\r\n\r\n        this.buildWorld();\r\n\r\n\r\n        this.inputEnabled = false;\r\n\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n    }\r\n    \r\n    buildWorld() {\r\n        //this.height = window.innerHeight-44;\r\n        this.height = this.game.height;\r\n        var undersea = this.add.image(0, 0, 'undersea');\r\n        undersea.scale.setTo(0.8, 0.8);\r\n\r\n        //coral\r\n        \r\n\r\n        undersea.x = -200;\r\n        undersea.y = 0;\r\n        undersea.height = this.game.height;\r\n        undersea.width = this.game.width*5;\r\n\r\n        //add water\r\n        //this.addWater();\r\n        \r\n        //\r\n        //this.add.sprite(5, 40, 'timer', 1);\r\n\r\n\r\n        //\r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n\r\n\r\n\r\n        //\r\n        var treasure = this.add.image(35, this.height-100, 'treasuresea');\r\n        treasure.scale.setTo(0.3, 0.3);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n        treasure.angle += 10;\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Fishes Fed: ' + this.totalClicks, 20);\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n\r\n        //\r\n        /*\r\n        var fishtank = this.add.image(5, 100, 'first_aq');\r\n        fishtank.scale.setTo(0.2, 0.2);\r\n        fishtank.inputEnabled = true;\r\n        fishtank.events.onInputDown.add(this.earlyaquarium, this);\r\n        */\r\n       \r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        //this.buildFish();\r\n        this.buildAquarium();\r\n\r\n        this.showProgressBars();\r\n\r\n        //\r\n        /*\r\n        var meme = this.add.image(window.innerWidth - 140, 1, 'meme');\r\n        meme.scale.setTo(0.3, 0.3);\r\n        meme.inputEnabled = true;\r\n        meme.events.onInputDown.add(this.showBubbles, this);\r\n        */\r\n\r\n        //\r\n        /*\r\n        var journal = this.add.image(this.CANVAS_WIDTH - 70, 1, 'fish_journal');\r\n        journal.scale.setTo(0.5, 0.5);\r\n        journal.inputEnabled = true;\r\n        journal.events.onInputDown.add(this.logdata, this);\r\n        */\r\n\r\n\r\n        //add bubbles\r\n        //this.showBubbles();\r\n\r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n        //this.game.onResume.add(yourGameResumedFunc, this);\r\n\r\n        //\r\n        /*\r\n        var banner_shown = window.localStorage['banner_shown_2'] || \"0\";// = 1;\r\n        if(banner_shown===\"0\")\r\n            this.showBanner();\r\n        */\r\n\r\n        this.isPaused = false;\r\n\r\n        //this.checkReinforcement();\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        var vertical_position_offset = 35;\r\n\r\n        \r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        vertical_position_offset = 57;\r\n\r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 1060;\r\n        var end_point_for_level = 2120;\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n\r\n    //show the reward\r\n    checkReinforcement(){\r\n        this.ionic_scope.$emit('show:checkReinforcement',this.ionic_scope);\r\n    }\r\n\r\n    showBanner(){\r\n        this.banner_object = this.add.group();\r\n        //--- banner\r\n        var banner = this.add.image(0, this.height-180, 'banner');\r\n        banner.scale.setTo(.6, .75);\r\n        banner.inputEnabled = true;\r\n        //banner.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner);\r\n        banner.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        var banner_fish = this.add.image(260, this.height-190, 'banner_fish');\r\n        banner_fish.scale.setTo(.55, .55);\r\n        banner_fish.inputEnabled = true;\r\n        //banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner_fish);\r\n        banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"18px Arial\", fill: \"#f1c40f\", align: \"left\", fontWeights: 'lighter' };\r\n        var text = this.add.text(10, this.height-165, \"New sea level is unlocked.\\nClick the fish bowl\\nto go to earlier level.\", style);\r\n        text.strokeThickness = 0;\r\n        text.inputEnabled = true;\r\n        //text.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text);\r\n        text.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"13px Arial\", fill: \"#f1c40f\", align: \"left\", fontStyle: 'italic', fontWeights: 'lighter'};\r\n        var text2 = this.add.text(215, this.height-105, \"Tap to hide\", style);\r\n        text2.strokeThickness = 0;\r\n        text2.inputEnabled = true;\r\n        //text2.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text2);\r\n        text2.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //make a left ot right animation.\r\n\r\n\r\n    }\r\n\r\n    hideBanner(elem){\r\n        console.log(\"clicked\");\r\n        this.banner_object.destroy(true);\r\n        window.localStorage['banner_shown_2'] = \"1\";\r\n        //deleted all the elements\r\n    }\r\n\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        //this.isPaused = true;\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n        //this.filter.destroy();\r\n        //this.sprite.destroy();\r\n    }\r\n\r\n    yourGameResumedFunc(){\r\n        console.log(\"Game resumed\");\r\n        //this.addWater();\r\n        //this.isPaused = false;\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n\r\n    changebadgecount(badge_count){\r\n        //console.log(\"Game resumed\");\r\n        this.badgecount.setText('' + badge_count);\r\n    }\r\n\r\n    addWater(){\r\n        //  From http://glslsandbox.com/e#16153.0\r\n        var fragmentSrc = [\r\n\r\n            \"precision mediump float;\",\r\n\r\n            \"uniform float     time;\",\r\n            \"uniform vec2      resolution;\",\r\n            \"uniform vec2      mouse;\",\r\n\r\n            \"#define MAX_ITER 2\",\r\n\r\n            \"void main( void )\",\r\n            \"{\",\r\n                \"vec2 v_texCoord = gl_FragCoord.xy / resolution;\",\r\n\r\n                \"vec2 p =  v_texCoord * 8.0 - vec2(1.0);\",\r\n                \"vec2 i = p;\",\r\n                \"float c = 1.0;\",\r\n                \"float inten = .2;\",\r\n\r\n                \"for (int n = 0; n < MAX_ITER; n++)\",\r\n                \"{\",\r\n                    \"float t = time * (1.0 - (3.0 / float(n+1)));\",\r\n\r\n                    \"i = p + vec2(cos(t - i.x) + sin(t + i.y),\",\r\n                    \"sin(t - i.y) + cos(t + i.x));\",\r\n\r\n                    \"c += 1.0/length(vec2(p.x / (sin(i.x+t)/inten),\",\r\n                    \"p.y / (cos(i.y+t)/inten)));\",\r\n                \"}\",\r\n\r\n                \"c /= float(MAX_ITER);\",\r\n                \"c = 1.5 - sqrt(c);\",\r\n\r\n                \"vec4 texColor = vec4(0.0, 0.005, 0.02, 0.1);\",\r\n\r\n                \"texColor.rgb *= (1.0 / (1.0 - (c + 0.05)));\",\r\n\r\n                \"gl_FragColor = texColor;\",\r\n            \"}\"\r\n        ];\r\n\r\n        this.filter = new Phaser.Filter(this.game, null, fragmentSrc);\r\n        this.filter.setResolution(this.game.height, this.game.width);\r\n\r\n        this.sprite = this.add.sprite();\r\n        this.sprite.width = this.game.width;\r\n        this.sprite.height = this.game.height;\r\n\r\n        this.sprite.filters = [ this.filter ];\r\n    }\r\n\r\n    update() {\r\n        //console.log(\"coming here\");\r\n        //if(this.isPaused == false)\r\n        //    this.filter.update(this.game.input.activePointer);\r\n    }\r\n\r\n    showmemes() {\r\n        //this.totalClicks = this.totalClicks + 1;\r\n        //this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n        this.ionic_scope.$emit('reward:meme', this.ionic_scope);\r\n        //console.log(\"Came here\");\r\n    }\r\n\r\n    logdata() {\r\n        //this.totalClicks = this.totalClicks + 1;\r\n        //this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n        //this.ionic_scope.$emit('survey:logdata', this.ionic_scope);\r\n        //console.log(\"Came here\");\r\n        this.componentObject.goToSurveyPage();\r\n    }\r\n\r\n    earlyaquarium() {\r\n        //this.totalClicks = this.totalClicks + 1;\r\n        //this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n        //this.ionic_scope.$emit('survey:logdata', this.ionic_scope);\r\n        //console.log(\"Came here\");\r\n\r\n        this.state.start('Gamelast');\r\n    }\r\n\r\n    //update the connected and disconnected things\r\n    updateconnectivity(state) {\r\n        //console.log(\"Is connected: \" +  state);\r\n        this.active_task_connected.visible = state;\r\n    }\r\n\r\n    assignscope(scope) {\r\n        this.ionic_scope = scope;\r\n    }\r\n\r\n    showBubbles2(){\r\n        //add.tween(purplediver).to({ x: this.world.centerX-20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n\r\n        var blackdiver = this.add.sprite(-100, 303, 'submarine_at');\r\n        blackdiver.anchor.setTo(.5,.5);\r\n        blackdiver.animations.add('swim');\r\n        blackdiver.animations.play('swim', 25, true);\r\n        blackdiver.scale.setTo(1.3, 1.3);\r\n        var t = this.add.tween(blackdiver).to({ x: this.world.centerX}, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(this.addBubbles2, this);\r\n        \r\n    }\r\n\r\n    addBubbles2(){    \r\n        var delay = 0;\r\n        for (var i = 0; i < 100; i++)\r\n        {\r\n            var sprite = this.add.sprite(-100 + (this.world.randomX), this.height+100, 'ball');\r\n            sprite.scale.set(this.rnd.realInRange(0.3, 0.6));\r\n            var speed = this.rnd.between(1000, 2000);\r\n            var tween = this.add.tween(sprite);\r\n            tween.to({y: -256}, speed, Phaser.Easing.Sinusoidal.In, true, delay, 0, false);\r\n            delay += 100;\r\n\r\n            if(i==0)\r\n                tween.onComplete.add(this.checkLastBubble2, this);\r\n\r\n            if(i>2)\r\n                delay += 100;\r\n                //this.checkLastBubble(sprite);\r\n        }\r\n    }\r\n\r\n    checkLastBubble2(b) {\r\n        /*\r\n        if(b.x > window.innerWidth){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            t= this.add.tween(b).to({ x: -100 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n        */\r\n\r\n        //\r\n        var graphics = this.add.graphics(0,50);\r\n        graphics.lineStyle(0);\r\n        graphics.beginFill(0x006622, 0.8);\r\n        graphics.drawRect(0, 0, this.game.width, this.game.height-100);\r\n        graphics.endFill();\r\n\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //you earned a reward\r\n        var pirate = this.add.image(this.game.width-145, 100, 'pirate');\r\n        //pirate.anchor.setTo(-0.3, 1.4);\r\n        pirate.scale.setTo(0.7, 0.7);\r\n\r\n        //\r\n        var text3 = this.add.text(10, 60, \"An extra gift\\ntoday\", { font: \"35px Arial Black\", fill: \"#b33e00\" });\r\n        text3.stroke = \"#FFE0B2\";\r\n        text3.strokeThickness = 4;\r\n\r\n        //\r\n        var text1 = this.add.text(10, 160, \"for completing\\nactive tasks\", { font: \"24px Arial Black\", fill: \"#b33e00\" });\r\n        text1.stroke = \"#FFE0B2\";\r\n        text1.strokeThickness = 2;\r\n        //  Apply the shadow to the Stroke only\r\n        text1.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n\r\n        //\r\n        var text2 = this.add.text(10, this.game.height-130, \"Click on the gift\\nto open\", { font: \"24px Arial Black\", fill: \"#FFE0B2\" });\r\n        text2.stroke = \"#FFE0B2\";\r\n        text2.strokeThickness = 0;\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //\r\n        var sprite = this.add.sprite(this.world.centerX, this.world.centerY, 'gift');\r\n        sprite.anchor.setTo(0.9, 0.2);\r\n        sprite.scale.setTo(0.35,0.35);\r\n        sprite.alpha = 0;\r\n        this.add.tween(sprite).to( { alpha: 1 }, 300, Phaser.Easing.Linear.None, true, 0, 0, false);\r\n        sprite.inputEnabled = true;\r\n        sprite.events.onInputDown.add(this.showReward, this);\r\n        \r\n\r\n        //\r\n        console.log(\"don't know \" + b.y);\r\n    }\r\n\r\n    showBubbles(){\r\n        //add.tween(purplediver).to({ x: this.world.centerX-20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n\r\n        var blackdiver = this.add.sprite(this.CANVAS_WIDTH+100, 303, 'submarine');\r\n        blackdiver.anchor.setTo(.5,.5);\r\n        blackdiver.animations.add('swim');\r\n        blackdiver.animations.play('swim', 30, true);\r\n        blackdiver.scale.setTo(-1.3, 1.3);\r\n        var t = this.add.tween(blackdiver).to({ x: this.world.centerX+20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(this.addBubbles, this);\r\n    }\r\n\r\n    addBubbles(){    \r\n        var delay = 0;\r\n        for (var i = 0; i < 100; i++)\r\n        {\r\n            var sprite = this.add.sprite(-100 + (this.world.randomX), this.height+100, 'ball');\r\n            sprite.scale.set(this.rnd.realInRange(0.3, 0.6));\r\n            var speed = this.rnd.between(1000, 2000);\r\n            var tween = this.add.tween(sprite);\r\n            tween.to({y: -256}, speed, Phaser.Easing.Sinusoidal.In, true, delay, 0, false);\r\n            delay += 100;\r\n\r\n            if(i==0)\r\n                tween.onComplete.add(this.checkLastBubble, this);\r\n\r\n            if(i>2)\r\n                delay += 100;\r\n                //this.checkLastBubble(sprite);\r\n        }\r\n    }\r\n\r\n    checkLastBubble(b) {\r\n        /*\r\n        if(b.x > window.innerWidth){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            t= this.add.tween(b).to({ x: -100 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n        */\r\n\r\n        //\r\n        var graphics = this.add.graphics(0,50);\r\n        graphics.lineStyle(0);\r\n        graphics.beginFill(0x0288D1, 0.8);\r\n        graphics.drawRect(0, 0, this.game.width, this.game.height-100);\r\n        graphics.endFill();\r\n\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //you earned a reward\r\n        var pirate = this.add.image(this.game.width-145, 100, 'pirate');\r\n        //pirate.anchor.setTo(-0.3, 1.4);\r\n        pirate.scale.setTo(0.7, 0.7);\r\n\r\n        //\r\n        var text3 = this.add.text(10, 60, \"An extra gift\\ntoday\", { font: \"35px Arial Black\", fill: \"#b33e00\" });\r\n        text3.stroke = \"#FFE0B2\";\r\n        text3.strokeThickness = 4;\r\n\r\n        //\r\n        var text1 = this.add.text(10, 160, \"for filling out\\nthe survey\", { font: \"24px Arial Black\", fill: \"#b33e00\" });\r\n        text1.stroke = \"#FFE0B2\";\r\n        text1.strokeThickness = 2;\r\n        //  Apply the shadow to the Stroke only\r\n        text1.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n\r\n        //\r\n        var text2 = this.add.text(10, this.game.height-130, \"Click on the gift\\nto open\", { font: \"24px Arial Black\", fill: \"#FFE0B2\" });\r\n        text2.stroke = \"#FFE0B2\";\r\n        text2.strokeThickness = 0;\r\n\r\n        \r\n        \r\n\r\n        //\r\n        var sprite = this.add.sprite(this.world.centerX, this.world.centerY, 'gift');\r\n        sprite.anchor.setTo(0.9, 0.2);\r\n        sprite.scale.setTo(0.35,0.35);\r\n        sprite.alpha = 0;\r\n        this.add.tween(sprite).to( { alpha: 1 }, 300, Phaser.Easing.Linear.None, true, 0, 0, false);\r\n        sprite.inputEnabled = true;\r\n        sprite.events.onInputDown.add(this.showReward, this);\r\n        \r\n\r\n        //\r\n        console.log(\"don't know \" + b.y);\r\n    }\r\n\r\n    //show the reward\r\n    showReward(){\r\n        this.ionic_scope.$emit('show:reinforcement',this.ionic_scope);\r\n    }\r\n\r\n\r\n    buildAquarium() {\r\n\r\n        ////////////////////////////////////////////////////////////\r\n        //upper aquarium\r\n        ////////////////////////////////////////////////////////////\r\n\r\n        /*\r\n        this.sharkfish = this.add.sprite(window.innerWidth + 100, 70, 'sharkswim');\r\n        this.sharkfish.anchor.setTo(.5,.5);\r\n        this.sharkfish.animations.add('swim');\r\n        this.sharkfish.animations.play('swim',10, true);\r\n        this.sharkfish.scale.setTo(0.3, 0.22);\r\n        this.sharkfish.name = \"sharkswim\";\r\n        this.gobothways(this.sharkfish);\r\n\r\n        //swordfish\r\n        this.swordfish = this.add.sprite(-150, 120, 'swordfish');\r\n        this.swordfish.anchor.setTo(.5,.5);\r\n        this.swordfish.animations.add('swim');\r\n        this.swordfish.animations.play('swim',30, true);\r\n        this.swordfish.scale.setTo(0.3, 0.3);\r\n        this.swordfish.name = \"swordfishswim\";\r\n        this.gobothways(this.swordfish);\r\n\r\n        this.dolphin = this.add.sprite(-150, 180, 'dolphin');\r\n        this.dolphin.anchor.setTo(.5,.5);\r\n        this.dolphin.animations.add('swim');\r\n        this.dolphin.animations.play('swim',10, true);\r\n        this.dolphin.scale.setTo(0.6, 0.6);\r\n        this.dolphin.name = \"dolphinswim\";\r\n        this.dolphin.angle -= 3;\r\n        this.gobothways(this.dolphin);\r\n        */\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n\r\n        ////////////////////////////////////////////////////////////\r\n        //upper aquarium\r\n        ////////////////////////////////////////////////////////////\r\n        var data = phaserJSON;\r\n        var survey_string = \"\";\r\n        var current_points = this.totalPoints;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points >= data[i].points){\r\n\r\n                //nemo\r\n                if(data[i].name.valueOf() === \"Blue tang\")\r\n                    this.addDori();\r\n\r\n\r\n                //starfish\r\n                if(data[i].name.valueOf() === \"Jelly fish\")\r\n                    this.addJellyFish();\r\n\r\n                //squid\r\n                if(data[i].name.valueOf() === \"Green Crab\")\r\n                    this.addCrab();\r\n\r\n\r\n                if(data[i].name.valueOf() === \"Achovies\")\r\n                    this.addAnchovies();\r\n\r\n                if(data[i].name.valueOf() === \"Bubbles\")\r\n                    this.addYellowTang();\r\n\r\n                if(data[i].name.valueOf() === \"Salmon\")\r\n                    this.addSalmon();\r\n\r\n                if(data[i].name.valueOf() === \"Deep undersea fish\")\r\n                    this.addAngryFish();\r\n\r\n\r\n\r\n                //if(data[i].name.valueOf() === \"Tiger barb\")\r\n                //    this.animateTigerbarb();\r\n            }\r\n        }\r\n\r\n        this.addCoral();\r\n\r\n        //set the progres bar\r\n        this.previoous_fish_point = 0;\r\n        this.next_fish_point = 0;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points < data[i].points){\r\n              this.next_fish_point = data[i].points;\r\n              break;\r\n            }else{\r\n              this.previoous_fish_point = data[i].points;\r\n            }\r\n        }\r\n\r\n        /*\r\n          //console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point);\r\n          this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n          var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n          var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n          console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n          rect.width = Math.max(0, percent * this.progress_sprite.width);\r\n\r\n          console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\r\n          this.progress_sprite.crop(rect);\r\n        */\r\n\r\n    }\r\n\r\n\r\n    addAFish(added_point){\r\n\r\n          var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n          //console.log(JSON.stringify(phaserJSON));\r\n\r\n\r\n          var data = phaserJSON;\r\n          var survey_string = \"\";\r\n          var current_points = this.totalPoints;\r\n          var old_points = current_points - added_point;\r\n          console.log(\"\" + current_points + \", \" + old_points);\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points >= data[i].points && \r\n                    old_points < data[i].points){\r\n\r\n                //nemo\r\n                if(data[i].name.valueOf() === \"Blue tang\")\r\n                    this.addDori();\r\n\r\n\r\n                //starfish\r\n                if(data[i].name.valueOf() === \"Jelly fish\")\r\n                    this.addJellyFish();\r\n\r\n                //squid\r\n                if(data[i].name.valueOf() === \"Green Crab\")\r\n                    this.addCrab();\r\n\r\n\r\n                if(data[i].name.valueOf() === \"Achovies\")\r\n                    this.addAnchovies();\r\n\r\n                if(data[i].name.valueOf() === \"Bubbles\")\r\n                    this.addYellowTang();\r\n\r\n                if(data[i].name.valueOf() === \"Salmon\")\r\n                    this.addSalmon();\r\n\r\n                if(data[i].name.valueOf() === \"Angry fish\")\r\n                    this.addAngryFish();\r\n\r\n\r\n                //if(data[i].name.valueOf() === \"Tiger barb\")\r\n                //    this.animateTigerbarb();\r\n\r\n              }\r\n          }\r\n\r\n          //set the progres bar\r\n          var previoous_fish_point = 0;\r\n          var next_fish_point = 0;\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points < data[i].points){\r\n                next_fish_point = data[i].points;\r\n                break;\r\n              }else{\r\n                previoous_fish_point = data[i].points;\r\n              }\r\n          }\r\n          //console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point);\r\n          var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n          var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n          console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n          this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n          rect.width = 1 * percent * this.progress_sprite.width;\r\n          this.progress_sprite.crop(rect);\r\n\r\n    }\r\n\r\n    addDori() {        \r\n        ////////////////////////////////////////////////////////////\r\n        // mid aquarium\r\n        ////////////////////////////////////////////////////////////\r\n        /*\r\n        if(this.totalPoints >= 1360){//means bubbles are available\r\n            var dori = this.add.sprite(90, 100, 'dori');\r\n            dori.animations.add('swim');\r\n            dori.animations.play('swim', 10, true);\r\n            dori.angle -= 10;\r\n            dori.scale.setTo(0.5, 0.5);\r\n\r\n            var nemo = this.add.sprite(75, 110, 'nemo');\r\n            nemo.animations.add('swim');\r\n            nemo.animations.play('swim', 7, true);\r\n            nemo.angle += 10;\r\n            nemo.scale.setTo(-0.5, 0.5);\r\n        }else\r\n        */\r\n        {\r\n            this.clownFish = this.add.sprite(-100, 283, 'clownfish');\r\n            this.clownFish.anchor.setTo(.5,.5);\r\n            this.clownFish.animations.add('swim');\r\n            this.clownFish.animations.play('swim', 10, true);\r\n            this.clownFish.scale.setTo(0.5, 0.5);\r\n            this.clownFish.name = \"clownFish\";\r\n            this.gobothways(this.clownFish);\r\n\r\n            this.clownFish = this.add.sprite(-100, 218, 'dori');\r\n            this.clownFish.anchor.setTo(.1,.1);\r\n            this.clownFish.animations.add('swim');\r\n            this.clownFish.animations.play('swim', 10, true);\r\n            this.clownFish.scale.setTo(0.5, 0.5);\r\n            this.clownFish.name = \"clownFish\";\r\n            this.gobothways(this.clownFish);\r\n        }\r\n\r\n    }\r\n\r\n    addYellowTang() {  \r\n        var yellowtang = this.add.sprite(this.CANVAS_WIDTH + 70, 120, 'yellowtang');\r\n        yellowtang.animations.add('swim');\r\n        yellowtang.animations.play('swim', 10, true);\r\n        yellowtang.scale.setTo(0.45, 0.45);\r\n        //yellowtang.angle -= 10;\r\n        yellowtang.anchor.setTo(.5,.5);\r\n        this.gobothways(yellowtang);\r\n    }\r\n\r\n\r\n    addJellyFish() {  \r\n\r\n        //\r\n        var jellyfish = this.add.sprite(this.CANVAS_WIDTH - 80, 100, 'jellyfish');\r\n        jellyfish.animations.add('swim');\r\n        jellyfish.animations.play('swim', 15, true);\r\n        jellyfish.scale.setTo(0.25, 0.25);\r\n        this.add.tween(jellyfish).to({ y: 300 }, 2000, Phaser.Easing.Quadratic.InOut, true, 0, 1000, true);\r\n\r\n    }\r\n\r\n\r\n    addSalmon() { \r\n        var salmon = this.add.sprite(-250, 370, 'salmon');\r\n        salmon.animations.add('swim');\r\n        salmon.animations.play('swim', 10, true);\r\n        salmon.scale.setTo(0.4, 0.4);\r\n        salmon.anchor.setTo(.5,.5);\r\n        this.gobothways(salmon);\r\n\r\n\r\n        ////////////////////////////////////////////////////////////\r\n        // bottom aquarium\r\n        ////////////////////////////////////////////////////////////\r\n\r\n        //\r\n        /*\r\n        var whale = this.add.sprite(window.innerWidth+150, this.height-100, 'whale');\r\n        whale.animations.add('swim');\r\n        whale.animations.play('swim', 12, true);\r\n        whale.scale.setTo(1.8, 1.8);\r\n        whale.anchor.setTo(.5,.5);\r\n        whale.angle += 5;\r\n        whale.name = \"whaleswim\";\r\n        this.gobothways(whale);\r\n        */\r\n\r\n    }\r\n\r\n\r\n    addCrab() { \r\n        var redcrab = this.add.sprite(this.CANVAS_WIDTH-30, this.height-105, 'redcrab');\r\n        redcrab.animations.add('swim');\r\n        redcrab.animations.play('swim', 15, true);\r\n        redcrab.scale.setTo(-0.3, 0.3);\r\n\r\n        //\r\n        var greencrab = this.add.sprite(this.CANVAS_WIDTH-240, this.height-85, 'greencrab');\r\n        greencrab.animations.add('swim');\r\n        greencrab.animations.play('swim', 15, true);\r\n        greencrab.scale.setTo(0.3, 0.3);\r\n\r\n        //angryfish\r\n        //var angryfish = this.add.sprite(220, this.height-205, 'angryfish');\r\n        //angryfish.animations.add('swim');\r\n        //angryfish.animations.play('swim', 15, true);\r\n        //angryfish.scale.setTo(0.35, 0.35);\r\n    }\r\n\r\n\r\n\r\n        //angryfish\r\n        //var angryfish = this.add.sprite(220, this.height-205, 'angryfish');\r\n        //angryfish.animations.add('swim');\r\n        //angryfish.animations.play('swim', 15, true);\r\n        //angryfish.scale.setTo(0.35, 0.35);\r\n\r\n    addAngryFish() { \r\n        this.angryfish = this.add.sprite(-100, this.height-150, 'angryfish');\r\n        this.angryfish.anchor.setTo(1.2,.5);\r\n        this.angryfish.animations.add('swim');\r\n        this.angryfish.animations.play('swim',20, true);\r\n        this.angryfish.scale.setTo(0.4, 0.4);\r\n        this.angryfish.name = \"angryfishswim\";\r\n        this.gobothways(this.angryfish);\r\n\r\n\r\n    }\r\n\r\n    addAnchovies() { \r\n        //\r\n        this.blueanchovy = this.add.sprite(-100, this.height-250, 'blueanchovy');\r\n        this.blueanchovy.anchor.setTo(.9,.9);\r\n        this.blueanchovy.animations.add('swim');\r\n        this.blueanchovy.animations.play('swim',4, true);\r\n        this.blueanchovy.scale.setTo(0.18, 0.18);\r\n        this.blueanchovy.name = \"blueanchovyswim\";\r\n        this.gobothways(this.blueanchovy);\r\n\r\n        this.greenanchovy = this.add.sprite(-100, this.height-235, 'greenanchovy');\r\n        this.greenanchovy.anchor.setTo(.5,.5);\r\n        this.greenanchovy.animations.add('swim');\r\n        this.greenanchovy.animations.play('swim',8, true);\r\n        this.greenanchovy.scale.setTo(0.13, 0.13);\r\n        this.greenanchovy.name = \"greenanchovyswim\";\r\n        this.gobothways(this.greenanchovy);\r\n\r\n        this.pinkanchovy = this.add.sprite(-100, this.height-270, 'pinkanchovy');\r\n        this.pinkanchovy.anchor.setTo(.2,.2);\r\n        this.pinkanchovy.animations.add('swim');\r\n        this.pinkanchovy.animations.play('swim',2, true);\r\n        this.pinkanchovy.scale.setTo(0.21, 0.21);\r\n        this.pinkanchovy.name = \"pinkanchovyswim\";\r\n        this.gobothways(this.pinkanchovy);\r\n\r\n    }\r\n    \r\n\r\n    addCoral() { \r\n        //\r\n        var coral = this.add.image(0, this.height-90, 'coral');\r\n        coral.scale.setTo(0.7, 0.7);\r\n   \r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    gobothways(b){\r\n        //console.log('start again ' + b.name);\r\n\r\n        //if()\r\n        /*\r\n        if(b.x > window.innerWidth){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            t= this.add.tween(b).to({ x: -100 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            t = this.add.tween(b).to({ x: window.innerWidth + 100 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n        */\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 50));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n\r\n        var t;\r\n        //if()\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t= this.add.tween(b).to({ x: -200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t= this.add.tween(b).to({ x: -100+Math.floor(this.rnd.realInRange(0, 50)), y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 4000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t = this.add.tween(b).to({ x: window.innerWidth + 200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t = this.add.tween(b).to({ x: this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50)), y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 4000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n\r\n        //if()\r\n        /*\r\n        if(b.x > window.innerWidth){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t= this.add.tween(b).to({ x: -200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t= this.add.tween(b).to({ x: -100 }, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t = this.add.tween(b).to({ x: window.innerWidth + 200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t = this.add.tween(b).to({ x: window.innerWidth + 100 }, 7500 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }*/\r\n    } \r\n    \r\n    buildFish() {\r\n        \r\n        //assign number of fish\r\n        numfish = 5;\r\n        //assign type and age of fish\r\n        var fishType = [\"green4\", \"horse4\", \"purple4\", \"pink4\", \"magenta4\"]\r\n        this.fishGroup = this.add.group();\r\n        this.fishGroup.enableBody = true;\r\n        for(i = 0; i < numfish; i++){\r\n            var b = this.fishGroup.create(this.rnd.integerInRange(0, this.world.width), this.rnd.integerInRange(this.world.height-300, this.world.height-200), fishType[i]);\r\n            b.scale.setTo(0.4, 0.8);\r\n            b.anchor.setTo(0.5, 0.5);\r\n            b.body.moves = false;\r\n            b.inputEnabled = true;\r\n            b.events.onInputDown.add(this.addTally, this);\r\n            this.assignFishMovement(b);\r\n        }\r\n\r\n    }\r\n    \r\n    assignFishMovement(b) {\r\n        xposition = Math.floor(this.rnd.realInRange(50, this.world.width-50));\r\n        yposition = Math.floor(this.rnd.realInRange(100, this.world.height-200));\r\n        bdelay = this.rnd.integerInRange(2000, 6000);\r\n        if(xposition < b.x){\r\n            b.scale.x = -1;\r\n        }else{\r\n            b.scale.x = 1;\r\n        }\r\n        t = this.add.tween(b).to({x:xposition, y:yposition}, 3500, Phaser.Easing.Quadratic.InOut, true, bdelay);\r\n        t.onComplete.add(this.stopFish, this);\r\n    }\r\n    \r\n    stopFish(b) {\r\n        //this.assignFishMovement(b);\r\n        this.gobothways(b);\r\n    }\r\n    \r\n    addTally() {\r\n        this.totalClicks = this.totalClicks + 1;\r\n        this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n    }\r\n\r\n    updatescore (added_points) {\r\n        console.log(\"Update score called inside game, \" + this.ionic_scope.total_points);\r\n        this.totalPoints = this.ionic_scope.total_points;\r\n        this.addAFish(added_points);\r\n        this.countdown.setText('Points: ' + this.totalPoints);\r\n    }\r\n\r\n    setTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n    }\r\n    \r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n}","export class PreloaderL3 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\t//console.log(\"Preloader: preload called\"); \r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\tvar max = 8;\r\n\t\tvar min = 1;\r\n\t\tvar rand_num = Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t\tconsole.log('assets/img/pirate-' + rand_num + '.png');\r\n\t\tthis.load.image('pirate', 'assets/img/pirate-' + rand_num + '.png');\r\n\r\n\t\tvar\tusername = window.localStorage['username'] || 'unknown';\r\n\r\n        this.isStudyParticipant = username.indexOf('-study-') !== -1; // !== -1;\r\n\t\tthis.loadSea();\r\n\r\n\t\t//--- RedBanner.png\r\n\t\tthis.load.image('banner', 'assets/img/RedBanner.png');\r\n\t\tthis.load.image('banner_fish', 'assets/img/banner_fish.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tconsole.log(\"Next fish: \" + next_fish);\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n        }, this);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\tconsole.log(\"update: \"+ \"SeaLevelL3\");\r\n\t\tthis.state.start('SeaLevelL3');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\tloadSea(){\r\n        //second aquarium\r\n        //-- fish_journal\r\n\t\tconsole.log(\"Inside loadSea\");\r\n        this.load.image('fish_journal', 'assets/img/fish_journal.png');\r\n\r\n         //--- sea\r\n\t\tthis.load.image('undersea', 'assets/img/underwaterbr.jpg');    \t\r\n        this.load.image('treasuresea', 'assets/img/treasuresea.png');\r\n\t\tthis.load.image('coral', 'assets/img/seabed.png');\r\n\t\tthis.load.atlasJSONArray('clownfish', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\tthis.load.atlasJSONArray('dori', 'assets/game/sprite/dory2.png', 'assets/game/sprite/dory2.json');\r\n\t\tthis.load.atlasJSONArray('jellyfish', 'assets/game/sprite/jellyfish.png', 'assets/game/sprite/jellyfish.json');\r\n\t\tthis.load.atlasJSONArray('redcrab', 'assets/game/sprite/redcrab.png', 'assets/game/sprite/redcrab.json');\r\n\t\tthis.load.atlasJSONArray('greencrab', 'assets/game/sprite/greencrab.png', 'assets/game/sprite/greencrab.json');\r\n\t\tthis.load.atlasJSONArray('angryfish', 'assets/game/sprite/angryfish.png', 'assets/game/sprite/angryfish.json');\r\n\t\tthis.load.atlasJSONArray('salmon', 'assets/game/sprite/salmon.png', 'assets/game/sprite/salmon.json');\r\n\t\tthis.load.atlasJSONArray('yellowtang', 'assets/game/sprite/yellowtang.png', 'assets/game/sprite/yellowtang.json');\r\n\t\tthis.load.spritesheet('blueanchovy', 'assets/game/sprite/blueanchovy.png', 512, 125, 4);\r\n\t\tthis.load.spritesheet('greenanchovy', 'assets/game/sprite/greenanchovy.png', 512, 125, 4);\r\n\t\tthis.load.spritesheet('pinkanchovy', 'assets/game/sprite/pinkanchovy.png', 512, 125, 4);\r\n\r\n\t\t//this.load.atlasJSONArray('sharkswim', 'assets/game/sprite/sharkswimming.png', 'assets/game/sprite/sharkswimming.json');\r\n        //this.load.atlasJSONArray('nemo', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\t//this.load.atlasJSONArray('swordfish', 'assets/game/sprite/swordfish.png', 'assets/game/sprite/swordfish.json');\r\n\t\t//this.load.atlasJSONArray('dolphin', 'assets/game/sprite/dolphin.png', 'assets/game/sprite/dolphin.json');\r\n\t\t//this.load.atlasJSONArray('kitefish', 'assets/game/sprite/kitefish.png', 'assets/game/sprite/kitefish.json');\r\n\t\t//this.load.atlasJSONArray('whale', 'assets/game/sprite/whale.png', 'assets/game/sprite/whale.json');\r\n\r\n\t\t\r\n\t\t//\r\n\t\t//this.load.image('gotosea', 'assets/img/gotosea.png');\r\n\r\n\t\t//first_aq\r\n\t\t//this.load.image('first_aq', 'assets/img/first_aq.png');\r\n\r\n\t\t\r\n\r\n\t\t//submarine\r\n\t\t//this.load.atlasJSONArray('submarine', 'assets/game/sprite/submarine.png', 'assets/game/sprite/submarine.json');\r\n\t\t//this.load.atlasJSONArray('submarine_at', 'assets/game/sprite/submarine_at.png', 'assets/game/sprite/submarine_at.json');\r\n\r\n\t\t//this.preloadBar.destroy();\r\n\r\n\t}\r\n}","export class BootL4 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#095e98';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class SeaLevelL4 extends Phaser.State {\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.surveyHistory = [];\r\n    }\r\n        \r\n    create(){\r\n        this.gameover = false;\r\n        this.totalClicks = 0;\r\n\r\n        this.CANVAS_WIDTH = 382.0;\r\n        if(window.innerWidth > this.CANVAS_WIDTH)\r\n            this.CANVAS_WIDTH = window.innerWidth;\r\n\r\n        this.buildWorld();\r\n\r\n\r\n        this.inputEnabled = false;\r\n\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n    }\r\n    \r\n    buildWorld() {\r\n        console.log(\"Inside Level1 buildWorld()\");\r\n        this.height = this.game.height;\r\n        var undersea = this.add.image(0, 0, 'undersea');\r\n        undersea.scale.setTo(0.8, 0.8);\r\n\r\n        //coral\r\n        undersea.x = -200;\r\n        undersea.y = 0;\r\n        undersea.height = this.game.height;\r\n        undersea.width = this.game.width*5;\r\n\r\n        //\r\n        //this.add.sprite(5, 40, 'timer', 1);\r\n\r\n\r\n        //\r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n        \r\n\r\n        var treasure = this.add.image(35, this.height-80, 'treasuresea');\r\n        treasure.scale.setTo(0.3, 0.3);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n        treasure.angle += 10;\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n\r\n        //\r\n        /*\r\n        var fishtank = this.add.image(5, 100, 'first_aq');\r\n        fishtank.scale.setTo(0.2, 0.2);\r\n        fishtank.inputEnabled = true;\r\n        fishtank.events.onInputDown.add(this.earlyaquarium, this);\r\n        */\r\n\r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        //this.buildFish();\r\n        this.buildAquarium();\r\n\r\n        this.showProgressBars();\r\n\r\n        //\r\n        /*\r\n        var journal = this.add.image(this.CANVAS_WIDTH - 70, 1, 'fish_journal');\r\n        journal.scale.setTo(0.5, 0.5);\r\n        journal.inputEnabled = true;\r\n        journal.events.onInputDown.add(this.logdata, this);\r\n        */\r\n\r\n        \r\n\r\n        //\r\n        /*\r\n        var meme = this.add.image(window.innerWidth - 140, 1, 'meme');\r\n        meme.scale.setTo(0.3, 0.3);\r\n        meme.inputEnabled = true;\r\n        meme.events.onInputDown.add(this.showBubbles, this);\r\n        */\r\n        \r\n\r\n        //text.anchor.set(0.5);\r\n\r\n        //banner.inputEnabled = true;\r\n        //banner.events.onInputDown.add(this.showBubbles, this);\r\n\r\n        setTimeout(function () {\r\n            //checkReinforcement();  \r\n\r\n        }, 500);\r\n\r\n\r\n        //\r\n        // var banner_shown = window.localStorage['banner_shown'] || \"0\";// = 1;\r\n        // if(banner_shown===\"0\")\r\n        //     this.showBanner();\r\n        // this.showBanner();\r\n\r\n        //\r\n        /*\r\n        var banner_shown = window.localStorage['banner_shown_2'] || \"0\";// = 1;\r\n        if(banner_shown===\"0\")\r\n            this.showBanner();\r\n        */\r\n       \r\n        // \r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n\r\n        //this.checkReinforcement();\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        vertical_position_offset = 35;\r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        var vertical_position_offset = 57;\r\n\r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 1060;\r\n        var end_point_for_level = 2120;\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        //this.isPaused = true;\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n        //this.filter.destroy();\r\n        //this.sprite.destroy();\r\n    }\r\n\r\n    yourGameResumedFunc() {\r\n        console.log(\"Game resumed\");\r\n        //this.addWater();\r\n        //this.isPaused = false;\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n\r\n    changebadgecount(badge_count){\r\n        console.log(\"Game resumed\");\r\n        this.badgecount.setText('' + badge_count);\r\n    } \r\n\r\n    earlyaquarium() {\r\n        //this.totalClicks = this.totalClicks + 1;\r\n        //this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n        //this.ionic_scope.$emit('survey:logdata', this.ionic_scope);\r\n        //console.log(\"Came here\");\r\n\r\n        this.state.start('Gamelast');\r\n    }\r\n\r\n    //show the reward\r\n    checkReinforcement(){\r\n        this.ionic_scope.$emit('show:checkReinforcement',this.ionic_scope);\r\n    }\r\n\r\n    showBanner(){\r\n        this.banner_object = this.add.group();\r\n        //--- banner\r\n        var banner = this.add.image(0, this.height-180, 'banner');\r\n        banner.scale.setTo(.6, .75);\r\n        banner.inputEnabled = true;\r\n        //banner.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner);\r\n        banner.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        var banner_fish = this.add.image(260, this.height-190, 'banner_fish');\r\n        banner_fish.scale.setTo(.55, .55);\r\n        banner_fish.inputEnabled = true;\r\n        //banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(banner_fish);\r\n        banner_fish.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"18px Arial\", fill: \"#f1c40f\", align: \"left\", fontWeights: 'lighter' };\r\n        var text = this.add.text(10, this.height-165, \"New sea level is unlocked.\\nClick the fish bowl\\nto go to earlier level.\", style);\r\n        text.strokeThickness = 0;\r\n        text.inputEnabled = true;\r\n        //text.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text);\r\n        text.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //\r\n        var style = { font: \"13px Arial\", fill: \"#f1c40f\", align: \"left\", fontStyle: 'italic', fontWeights: 'lighter'};\r\n        var text2 = this.add.text(215, this.height-105, \"Tap to hide\", style);\r\n        text2.strokeThickness = 0;\r\n        text2.inputEnabled = true;\r\n        //text2.events.onInputDown.add(this.hideBanner, this);\r\n        this.banner_object.add(text2);\r\n        text2.events.onInputDown.add(this.hideBanner, this);\r\n\r\n        //make a left ot right animation.\r\n\r\n\r\n    }\r\n\r\n    hideBanner(elem){\r\n        console.log(\"clicked\");\r\n        this.banner_object.destroy(true);\r\n        window.localStorage['banner_shown_2'] = \"1\";\r\n        //deleted all the elements\r\n    }\r\n\r\n\r\n    logdata() {\r\n        //this.totalClicks = this.totalClicks + 1;\r\n        //this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n        //this.ionic_scope.$emit('survey:logdata', this.ionic_scope);\r\n        //console.log(\"Came here\");\r\n        this.componentObject.goToSurveyPage();\r\n    }\r\n\r\n    //update the connected and disconnected things\r\n    updateconnectivity(state) {\r\n        //console.log(\"Is connected: \" +  state);\r\n        this.active_task_connected.visible = state;\r\n    }\r\n\r\n\r\n\r\n    showBubbles2(){\r\n        //add.tween(purplediver).to({ x: this.world.centerX-20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n\r\n        var blackdiver = this.add.sprite(-100, 303, 'submarine_at');\r\n        blackdiver.anchor.setTo(.5,.5);\r\n        blackdiver.animations.add('swim');\r\n        blackdiver.animations.play('swim', 25, true);\r\n        blackdiver.scale.setTo(1.3, 1.3);\r\n        var t = this.add.tween(blackdiver).to({ x: this.world.centerX}, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(this.addBubbles2, this);\r\n        \r\n    }\r\n\r\n    addBubbles2(){    \r\n        var delay = 0;\r\n        for (var i = 0; i < 100; i++)\r\n        {\r\n            var sprite = this.add.sprite(-100 + (this.world.randomX), this.height+100, 'ball');\r\n            sprite.scale.set(this.rnd.realInRange(0.3, 0.6));\r\n            var speed = this.rnd.between(1000, 2000);\r\n            var tween = this.add.tween(sprite);\r\n            tween.to({y: -256}, speed, Phaser.Easing.Sinusoidal.In, true, delay, 0, false);\r\n            delay += 100;\r\n\r\n            if(i==0)\r\n                tween.onComplete.add(this.checkLastBubble2, this);\r\n\r\n            if(i>2)\r\n                delay += 100;\r\n                //this.checkLastBubble(sprite);\r\n        }\r\n    }\r\n\r\n    checkLastBubble2(b) {\r\n        /*\r\n        if(b.x > window.innerWidth){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            t= this.add.tween(b).to({ x: -100 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n        */\r\n\r\n        //\r\n        var graphics = this.add.graphics(0,50);\r\n        graphics.lineStyle(0);\r\n        graphics.beginFill(0x006622, 0.8);\r\n        graphics.drawRect(0, 0, this.game.width, this.game.height-100);\r\n        graphics.endFill();\r\n\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //you earned a reward\r\n        var pirate = this.add.image(this.game.width-145, 100, 'pirate');\r\n        //pirate.anchor.setTo(-0.3, 1.4);\r\n        pirate.scale.setTo(0.7, 0.7);\r\n\r\n        //\r\n        var text3 = this.add.text(10, 60, \"An extra gift\\ntoday\", { font: \"35px Arial Black\", fill: \"#b33e00\" });\r\n        text3.stroke = \"#FFE0B2\";\r\n        text3.strokeThickness = 4;\r\n\r\n        //\r\n        var text1 = this.add.text(10, 160, \"for completing\\nactive tasks\", { font: \"24px Arial Black\", fill: \"#b33e00\" });\r\n        text1.stroke = \"#FFE0B2\";\r\n        text1.strokeThickness = 2;\r\n        //  Apply the shadow to the Stroke only\r\n        text1.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n\r\n        //\r\n        var text2 = this.add.text(10, this.game.height-130, \"Click on the gift\\nto open\", { font: \"24px Arial Black\", fill: \"#FFE0B2\" });\r\n        text2.stroke = \"#FFE0B2\";\r\n        text2.strokeThickness = 0;\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //\r\n        var sprite = this.add.sprite(this.world.centerX, this.world.centerY, 'gift');\r\n        sprite.anchor.setTo(0.9, 0.2);\r\n        sprite.scale.setTo(0.35,0.35);\r\n        sprite.alpha = 0;\r\n        this.add.tween(sprite).to( { alpha: 1 }, 300, Phaser.Easing.Linear.None, true, 0, 0, false);\r\n        sprite.inputEnabled = true;\r\n        sprite.events.onInputDown.add(this.showReward, this);\r\n        \r\n\r\n        //\r\n        //console.log(\"don't know \" + b.y);\r\n    }\r\n\r\n\r\n    showBubbles(){\r\n        //add.tween(purplediver).to({ x: this.world.centerX-20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n\r\n        var blackdiver = this.add.sprite(this.CANVAS_WIDTH+100, 303, 'submarine');\r\n        blackdiver.anchor.setTo(.5,.5);\r\n        blackdiver.animations.add('swim');\r\n        blackdiver.animations.play('swim', 30, true);\r\n        blackdiver.scale.setTo(-1.3, 1.3);\r\n        var t = this.add.tween(blackdiver).to({ x: this.world.centerX+20 }, 800 + Math.floor(this.rnd.realInRange(0, 2000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(this.addBubbles, this);\r\n    }\r\n\r\n\r\n\r\n    addBubbles(){    \r\n        var delay = 0;\r\n        for (var i = 0; i < 100; i++)\r\n        {\r\n            var sprite = this.add.sprite(-100 + (this.world.randomX), this.height+100, 'ball');\r\n            sprite.scale.set(this.rnd.realInRange(0.3, 0.6));\r\n            var speed = this.rnd.between(1000, 2000);\r\n            var tween = this.add.tween(sprite);\r\n            tween.to({y: -256}, speed, Phaser.Easing.Sinusoidal.In, true, delay, 0, false);\r\n            delay += 100;\r\n\r\n            if(i==0)\r\n                tween.onComplete.add(this.checkLastBubble, this);\r\n\r\n            if(i>2)\r\n                delay += 100;\r\n                //this.checkLastBubble(sprite);\r\n        }\r\n    }\r\n\r\n    checkLastBubble(b) {\r\n\r\n        //\r\n        var graphics = this.add.graphics(0,50);\r\n        graphics.lineStyle(0);\r\n        graphics.beginFill(0x0288D1, 0.8);\r\n        graphics.drawRect(0, 0, this.game.width, this.game.height-100);\r\n        graphics.endFill();\r\n\r\n        //  Apply the shadow to the Stroke only\r\n        //text2.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n        //you earned a reward\r\n        var pirate = this.add.image(this.game.width-145, 100, 'pirate');\r\n        //pirate.anchor.setTo(-0.3, 1.4);\r\n        pirate.scale.setTo(0.7, 0.7);\r\n\r\n        //\r\n        var text3 = this.add.text(10, 60, \"An extra gift\\ntoday\", { font: \"35px Arial Black\", fill: \"#b33e00\" });\r\n        text3.stroke = \"#FFE0B2\";\r\n        text3.strokeThickness = 4;\r\n\r\n        //\r\n        var text1 = this.add.text(10, 160, \"for filling out\\nthe survey\", { font: \"24px Arial Black\", fill: \"#b33e00\" });\r\n        text1.stroke = \"#FFE0B2\";\r\n        text1.strokeThickness = 2;\r\n        //  Apply the shadow to the Stroke only\r\n        text1.setShadow(2, 2, \"#E65100\", 2, true, false);\r\n\r\n\r\n        //\r\n        var text2 = this.add.text(10, this.game.height-130, \"Click on the gift\\nto open\", { font: \"24px Arial Black\", fill: \"#FFE0B2\" });\r\n        text2.stroke = \"#FFE0B2\";\r\n        text2.strokeThickness = 0;\r\n\r\n        \r\n        \r\n\r\n        //\r\n        var sprite = this.add.sprite(this.world.centerX, this.world.centerY, 'gift');\r\n        sprite.anchor.setTo(0.9, 0.2);\r\n        sprite.scale.setTo(0.35,0.35);\r\n        sprite.alpha = 0;\r\n        this.add.tween(sprite).to( { alpha: 1 }, 300, Phaser.Easing.Linear.None, true, 0, 0, false);\r\n        sprite.inputEnabled = true;\r\n        sprite.events.onInputDown.add(this.showReward, this);\r\n        \r\n\r\n        //\r\n        console.log(\"don't know \" + b.y);\r\n    }\r\n\r\n    //show the reward\r\n    showReward(){\r\n        this.ionic_scope.$emit('show:reinforcement',this.ionic_scope);\r\n    }\r\n\r\n\r\n    buildAquarium() {\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n\r\n        ////////////////////////////////////////////////////////////\r\n        //upper aquarium\r\n        ////////////////////////////////////////////////////////////\r\n        var data = phaserJSON;\r\n        var survey_string = \"\";\r\n        var current_points = this.totalPoints;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points >= data[i].points){\r\n\r\n                //nemo\r\n                if(data[i].name.valueOf() === \"Blue tang\")\r\n                    this.addDori();\r\n\r\n                //starfish\r\n                if(data[i].name.valueOf() === \"Jelly fish\")\r\n                    this.addJellyFish();\r\n\r\n                //squid\r\n                if(data[i].name.valueOf() === \"Green Crab\")\r\n                    this.addCrab();\r\n\r\n\r\n                if(data[i].name.valueOf() === \"Achovies\")\r\n                    this.addAnchovies();\r\n\r\n                if(data[i].name.valueOf() === \"Bubbles\")\r\n                    this.addYellowTang();\r\n\r\n                if(data[i].name.valueOf() === \"Salmon\")\r\n                    this.addSalmon();\r\n\r\n                if(data[i].name.valueOf() === \"Deep undersea fish\")\r\n                    this.addAngryFish();\r\n\r\n                if(data[i].name.valueOf() === \"Sword fish\")\r\n                    this.addSwordFish();\r\n\r\n                if(data[i].name.valueOf() === \"Shark\")\r\n                    this.addShark();\r\n\r\n                if(data[i].name.valueOf() === \"Dophin\")\r\n                    this.addDolphin();\r\n\r\n                if(data[i].name.valueOf() === \"Whale\")\r\n                    this.addWhale();\r\n\r\n                if(data[i].name.valueOf() === \"Stingray fish\")\r\n                    this.addKiteFish();\r\n\r\n\r\n                //if(data[i].name.valueOf() === \"Tiger barb\")\r\n                //    this.animateTigerbarb();\r\n            }\r\n        }\r\n\r\n        this.addCoral();\r\n\r\n        //set the progres bar\r\n          this.previoous_fish_point = 0;\r\n          this.next_fish_point = 0;\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points < data[i].points){\r\n                this.next_fish_point = data[i].points;\r\n                break;\r\n              }else{\r\n                this.previoous_fish_point = data[i].points;\r\n              }\r\n          }\r\n\r\n          /*\r\n          //console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point);\r\n          this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n          var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n          var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n          console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n          rect.width = Math.max(0, percent * this.progress_sprite.width);\r\n\r\n          console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\r\n          this.progress_sprite.crop(rect);\r\n          */\r\n    }\r\n\r\n    addAFish(added_point){\r\n\r\n          var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n          //console.log(JSON.stringify(phaserJSON));\r\n\r\n\r\n          var data = phaserJSON;\r\n          var survey_string = \"\";\r\n          var current_points = this.totalPoints;\r\n          var old_points = current_points - added_point;\r\n          console.log(\"\" + current_points + \", \" + old_points);\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points >= data[i].points && \r\n                    old_points < data[i].points){\r\n\r\n                //nemo\r\n                if(data[i].name.valueOf() === \"Blue tang\")\r\n                    this.addDori();\r\n\r\n\r\n                //starfish\r\n                if(data[i].name.valueOf() === \"Jelly fish\")\r\n                    this.addJellyFish();\r\n\r\n                //squid\r\n                if(data[i].name.valueOf() === \"Green Crab\")\r\n                    this.addCrab();\r\n\r\n\r\n                if(data[i].name.valueOf() === \"Achovies\")\r\n                    this.addAnchovies();\r\n\r\n                if(data[i].name.valueOf() === \"Bubbles\")\r\n                    this.addYellowTang();\r\n\r\n                if(data[i].name.valueOf() === \"Salmon\")\r\n                    this.addSalmon();\r\n\r\n                if(data[i].name.valueOf() === \"Angry fish\")\r\n                    this.addAngryFish();\r\n\r\n                if(data[i].name.valueOf() === \"Sword fish\")\r\n                    this.addSwordFish();\r\n\r\n                if(data[i].name.valueOf() === \"Shark\")\r\n                    this.addShark();\r\n\r\n                if(data[i].name.valueOf() === \"Dophin\")\r\n                    this.addDolphin();\r\n\r\n                if(data[i].name.valueOf() === \"Whale\")\r\n                    this.addWhale();\r\n\r\n                if(data[i].name.valueOf() === \"Stingray fish\")\r\n                    this.addKiteFish();\r\n\r\n                //if(data[i].name.valueOf() === \"Tiger barb\")\r\n                //    this.animateTigerbarb();\r\n\r\n              }\r\n          }\r\n\r\n           //set the progres bar\r\n          var previoous_fish_point = 0;\r\n          var next_fish_point = 0;\r\n          for(var i = 0; i < data.length; i++) {\r\n              if(current_points < data[i].points){\r\n                next_fish_point = data[i].points;\r\n                break;\r\n              }else{\r\n                previoous_fish_point = data[i].points;\r\n              }\r\n          }\r\n          //console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point);\r\n          var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n          var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n          console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n          this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n          rect.width = 1 * percent * this.progress_sprite.width;\r\n          this.progress_sprite.crop(rect);\r\n\r\n    }\r\n\r\n    \r\n    addShark() {    \r\n        this.sharkfish = this.add.sprite(this.CANVAS_WIDTH + 100, 130, 'sharkswim');\r\n        this.sharkfish.anchor.setTo(.5,.5);\r\n        this.sharkfish.animations.add('swim');\r\n        this.sharkfish.animations.play('swim',10, true);\r\n        this.sharkfish.scale.setTo(0.3, 0.22);\r\n        this.sharkfish.name = \"sharkswim\";\r\n        this.gobothways(this.sharkfish);\r\n    }\r\n\r\n\r\n    addSwordFish() {   \r\n        //swordfish\r\n        this.swordfish = this.add.sprite(-150, 70, 'swordfish');\r\n        this.swordfish.anchor.setTo(-.5,.6);\r\n        this.swordfish.animations.add('swim');\r\n        this.swordfish.animations.play('swim',30, true);\r\n        this.swordfish.scale.setTo(0.3, 0.3);\r\n        this.swordfish.name = \"swordfishswim\";\r\n        this.gobothways(this.swordfish);\r\n    }\r\n\r\n\r\n    addDolphin() {   \r\n        this.dolphin = this.add.sprite(-150, 70, 'dolphin');\r\n        this.dolphin.anchor.setTo(.9,.6);\r\n        this.dolphin.animations.add('swim');\r\n        this.dolphin.animations.play('swim',10, true);\r\n        this.dolphin.scale.setTo(0.6, 0.6);\r\n        this.dolphin.name = \"dolphinswim\";\r\n        this.dolphin.angle -= 3;\r\n        this.gobothways(this.dolphin);\r\n    }\r\n\r\n    addDori() {    \r\n        ////////////////////////////////////////////////////////////\r\n        // mid aquarium\r\n        ////////////////////////////////////////////////////////////\r\n        /*\r\n        var dori = this.add.sprite(100, this.height/3 + 20, 'dori');\r\n        dori.animations.add('swim');\r\n        dori.animations.play('swim', 10, true);\r\n        dori.scale.setTo(0.3, 0.3);\r\n        dori.angle -= 10;\r\n        dori.anchor.setTo(.5,.5);\r\n\r\n        var nemo = this.add.sprite(35, this.height/3 + 20, 'nemo');\r\n        nemo.animations.add('swim');\r\n        nemo.animations.play('swim', 7, true);\r\n        nemo.scale.setTo(-0.3, 0.3);\r\n        nemo.angle += 10;\r\n        nemo.anchor.setTo(.5,.5);\r\n        */\r\n\r\n        this.clownFish = this.add.sprite(-100, this.height/3 + 20, 'clownfish');\r\n        this.clownFish.anchor.setTo(.5,.5);\r\n        this.clownFish.animations.add('swim');\r\n        this.clownFish.animations.play('swim', 10, true);\r\n        this.clownFish.scale.setTo(0.3, 0.3);\r\n        this.clownFish.name = \"clownFish\";\r\n        this.gobothways(this.clownFish);\r\n\r\n        this.clownFish = this.add.sprite(-100, this.height/3 + 20, 'dori');\r\n        this.clownFish.anchor.setTo(.1,.1);\r\n        this.clownFish.animations.add('swim');\r\n        this.clownFish.animations.play('swim', 10, true);\r\n        this.clownFish.scale.setTo(0.3, 0.3);\r\n        this.clownFish.name = \"clownFish\";\r\n        this.gobothways(this.clownFish);\r\n\r\n    }\r\n\r\n    addYellowTang() {  \r\n        var yellowtang = this.add.sprite(this.CANVAS_WIDTH+100, this.height/3 + 55, 'yellowtang');\r\n        yellowtang.animations.add('swim');\r\n        yellowtang.animations.play('swim', 10, true);\r\n        yellowtang.scale.setTo(0.22, 0.22);\r\n        //yellowtang.angle -= 10;\r\n        yellowtang.anchor.setTo(.5,.5);\r\n        this.gobothways(yellowtang);\r\n    }\r\n\r\n\r\n    addJellyFish() {  \r\n        //\r\n        var jellyfish = this.add.sprite(this.CANVAS_WIDTH - 80, this.height/3 + 0, 'jellyfish');\r\n        jellyfish.animations.add('swim');\r\n        jellyfish.animations.play('swim', 15, true);\r\n        jellyfish.scale.setTo(0.12, 0.12);\r\n        this.add.tween(jellyfish).to({ y: 300 }, 2000, Phaser.Easing.Quadratic.InOut, true, 0, 1000, true);\r\n    }\r\n\r\n\r\n    addSalmon() { \r\n\r\n        var yellowtang = this.add.sprite(-150, this.height/3 + 70, 'salmon');\r\n        yellowtang.animations.add('swim');\r\n        yellowtang.animations.play('swim', 10, true);\r\n        yellowtang.scale.setTo(0.2, 0.2);\r\n        //yellowtang.angle -= 10;\r\n        yellowtang.anchor.setTo(.5,.5);\r\n        this.gobothways(yellowtang);\r\n    }\r\n\r\n        ////////////////////////////////////////////////////////////\r\n        // bottom aquarium\r\n        ////////////////////////////////////////////////////////////\r\n\r\n\r\n    addWhale() { \r\n        var whale = this.add.sprite(this.CANVAS_WIDTH+150, this.height-120, 'whale');\r\n        whale.animations.add('swim');\r\n        whale.animations.play('swim', 12, true);\r\n        whale.scale.setTo(1.5, 1.5);\r\n        whale.anchor.setTo(.5,.5);\r\n        whale.angle += 5;\r\n        whale.name = \"whaleswim\";\r\n        this.gobothways(whale);\r\n    }\r\n\r\n\r\n    addCrab() { \r\n        var redcrab = this.add.sprite(225, this.height-65, 'redcrab');\r\n        redcrab.animations.add('swim');\r\n        redcrab.animations.play('swim', 15, true);\r\n        redcrab.scale.setTo(-0.2, 0.2);\r\n\r\n\r\n        //\r\n        var greencrab = this.add.sprite(90, this.height-55, 'greencrab');\r\n        greencrab.animations.add('swim');\r\n        greencrab.animations.play('swim', 15, true);\r\n        greencrab.scale.setTo(0.2, 0.2);\r\n    }\r\n    \r\n\r\n    addKiteFish() { \r\n        var kitefish = this.add.sprite(this.CANVAS_WIDTH-120, this.height-85, 'kitefish');\r\n        kitefish.animations.add('swim');\r\n        kitefish.animations.play('swim', 15, true);\r\n        kitefish.scale.setTo(0.5, 0.5);\r\n    }\r\n\r\n\r\n    addAngryFish() { \r\n        this.angryfish = this.add.sprite(-100, this.height-250, 'angryfish');\r\n        this.angryfish.anchor.setTo(2.2,-0.1);\r\n        this.angryfish.animations.add('swim');\r\n        this.angryfish.animations.play('swim',20, true);\r\n        this.angryfish.scale.setTo(0.25, 0.25);\r\n        this.angryfish.name = \"angryfishswim\";\r\n        this.gobothways(this.angryfish);\r\n    }\r\n\r\n    addAnchovies() { \r\n        //\r\n        this.blueanchovy = this.add.sprite(-100, this.height-250, 'blueanchovy');\r\n        this.blueanchovy.anchor.setTo(.9,.9);\r\n        this.blueanchovy.animations.add('swim');\r\n        this.blueanchovy.animations.play('swim',4, true);\r\n        this.blueanchovy.scale.setTo(0.1, 0.1);\r\n        this.blueanchovy.name = \"blueanchovyswim\";\r\n        this.gobothways(this.blueanchovy);\r\n\r\n        this.greenanchovy = this.add.sprite(-100, this.height-235, 'greenanchovy');\r\n        this.greenanchovy.anchor.setTo(.5,.5);\r\n        this.greenanchovy.animations.add('swim');\r\n        this.greenanchovy.animations.play('swim',8, true);\r\n        this.greenanchovy.scale.setTo(0.1, 0.1);\r\n        this.greenanchovy.name = \"greenanchovyswim\";\r\n        this.gobothways(this.greenanchovy);\r\n\r\n        this.pinkanchovy = this.add.sprite(-100, this.height-270, 'pinkanchovy');\r\n        this.pinkanchovy.anchor.setTo(.2,.2);\r\n        this.pinkanchovy.animations.add('swim');\r\n        this.pinkanchovy.animations.play('swim',2, true);\r\n        this.pinkanchovy.scale.setTo(0.12, 0.12);\r\n        this.pinkanchovy.name = \"pinkanchovyswim\";\r\n        this.gobothways(this.pinkanchovy);\r\n    }\r\n    \r\n\r\n    addCoral() { \r\n        //\r\n        var coral = this.add.image(0, this.height-60, 'coral');\r\n        coral.scale.setTo(0.5, 0.5);\r\n        \r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    gobothways(b){\r\n\r\n        //console.log('start again ' + b.name);\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 50));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n\r\n        var t;\r\n        //if()\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t= this.add.tween(b).to({ x: -200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t= this.add.tween(b).to({ x: -100+Math.floor(this.rnd.realInRange(0, 50)), y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 4000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            //t = this.add.tween(b).to({ x: window.innerWidth + 200 }, 10500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t = this.add.tween(b).to({ x: this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50)), y: pos_y }, 7500 + Math.floor(this.rnd.realInRange(0, 4000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n    }     \r\n    \r\n    buildFish() {\r\n        \r\n        //assign number of fish\r\n        numfish = 5;\r\n        //assign type and age of fish\r\n        var fishType = [\"green4\", \"horse4\", \"purple4\", \"pink4\", \"magenta4\"]\r\n        this.fishGroup = this.add.group();\r\n        this.fishGroup.enableBody = true;\r\n        for(i = 0; i < numfish; i++){\r\n            var b = this.fishGroup.create(this.rnd.integerInRange(0, this.world.width), this.rnd.integerInRange(this.world.height-300, this.world.height-200), fishType[i]);\r\n            b.scale.setTo(0.4, 0.8);\r\n            b.anchor.setTo(0.5, 0.5);\r\n            b.body.moves = false;\r\n            b.inputEnabled = true;\r\n            b.events.onInputDown.add(this.addTally, this);\r\n            this.assignFishMovement(b);\r\n        }\r\n\r\n    }\r\n    \r\n    assignFishMovement(b) {\r\n        xposition = Math.floor(this.rnd.realInRange(50, this.world.width-50));\r\n        yposition = Math.floor(this.rnd.realInRange(100, this.world.height-200));\r\n        bdelay = this.rnd.integerInRange(2000, 6000);\r\n        if(xposition < b.x){\r\n            b.scale.x = -1;\r\n        }else{\r\n            b.scale.x = 1;\r\n        }\r\n        t = this.add.tween(b).to({x:xposition, y:yposition}, 3500, Phaser.Easing.Quadratic.InOut, true, bdelay);\r\n        t.onComplete.add(this.stopFish, this);\r\n    }\r\n    \r\n    stopFish(b) {\r\n        //this.assignFishMovement(b);\r\n        this.gobothways(b);\r\n    }\r\n    \r\n    addTally() {\r\n        this.totalClicks = this.totalClicks + 1;\r\n        this.countdown.setText('Fishes Fed: ' + this.totalClicks);\r\n    }\r\n\r\n    updatescore(added_points) {\r\n        console.log(\"Update score called inside game, \" + this.ionic_scope.total_points);\r\n        //this.totalPoints = this.ionic_scope.total_points;\r\n        this.addAFish(added_points);\r\n        this.countdown.setText('Points: ' + this.totalPoints);\r\n    }\r\n\r\n\tsetTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n    }    \r\n    \r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n}","export class PreloaderL4 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\t//console.log(\"Preloader: preload called\"); \r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\tvar max = 8;\r\n\t\tvar min = 1;\r\n\t\tvar rand_num = Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t\tconsole.log('assets/img/pirate-' + rand_num + '.png');\r\n\t\tthis.load.image('pirate', 'assets/img/pirate-' + rand_num + '.png');\r\n\r\n\t\tvar\tusername = window.localStorage['username'] || 'unknown';\r\n\r\n        this.isStudyParticipant = username.indexOf('-study-') !== -1; // !== -1;\r\n\t\tthis.loadSea();\r\n\r\n\t\t//--- RedBanner.png\r\n\t\tthis.load.image('banner', 'assets/img/RedBanner.png');\r\n\t\tthis.load.image('banner_fish', 'assets/img/banner_fish.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tconsole.log(\"Next fish: \" + next_fish);\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n        }, this);\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\tconsole.log(\"update: \"+ \"SeaLevelL4\");\r\n\t\tthis.state.start('SeaLevelL4');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\tloadSea(){\r\n        //second aquarium\r\n        //-- fish_journal\r\n\t\tconsole.log(\"Inside loadSea\");\r\n        this.load.image('fish_journal', 'assets/img/fish_journal.png');\r\n\r\n         //--- sea\r\n\t\tthis.load.image('undersea', 'assets/img/underwaterbr.jpg');    \t\r\n        this.load.image('treasuresea', 'assets/img/treasuresea.png');\r\n\t\tthis.load.image('coral', 'assets/img/seabed.png');\r\n\t\tthis.load.atlasJSONArray('clownfish', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\tthis.load.atlasJSONArray('dori', 'assets/game/sprite/dory2.png', 'assets/game/sprite/dory2.json');\r\n\t\tthis.load.atlasJSONArray('jellyfish', 'assets/game/sprite/jellyfish.png', 'assets/game/sprite/jellyfish.json');\r\n\t\tthis.load.atlasJSONArray('redcrab', 'assets/game/sprite/redcrab.png', 'assets/game/sprite/redcrab.json');\r\n\t\tthis.load.atlasJSONArray('greencrab', 'assets/game/sprite/greencrab.png', 'assets/game/sprite/greencrab.json');\r\n\t\tthis.load.atlasJSONArray('angryfish', 'assets/game/sprite/angryfish.png', 'assets/game/sprite/angryfish.json');\r\n\t\tthis.load.atlasJSONArray('salmon', 'assets/game/sprite/salmon.png', 'assets/game/sprite/salmon.json');\r\n\t\tthis.load.atlasJSONArray('yellowtang', 'assets/game/sprite/yellowtang.png', 'assets/game/sprite/yellowtang.json');\r\n\t\tthis.load.spritesheet('blueanchovy', 'assets/game/sprite/blueanchovy.png', 512, 125, 4);\r\n\t\tthis.load.spritesheet('greenanchovy', 'assets/game/sprite/greenanchovy.png', 512, 125, 4);\r\n\t\tthis.load.spritesheet('pinkanchovy', 'assets/game/sprite/pinkanchovy.png', 512, 125, 4);\r\n\r\n\t\tthis.load.atlasJSONArray('sharkswim', 'assets/game/sprite/sharkswimming.png', 'assets/game/sprite/sharkswimming.json');\r\n        this.load.atlasJSONArray('nemo', 'assets/game/sprite/clownfish.png', 'assets/game/sprite/clownfish.json');\r\n\t\tthis.load.atlasJSONArray('swordfish', 'assets/game/sprite/swordfish.png', 'assets/game/sprite/swordfish.json');\r\n\t\tthis.load.atlasJSONArray('dolphin', 'assets/game/sprite/dolphin.png', 'assets/game/sprite/dolphin.json');\r\n\t\tthis.load.atlasJSONArray('kitefish', 'assets/game/sprite/kitefish.png', 'assets/game/sprite/kitefish.json');\r\n\t\tthis.load.atlasJSONArray('whale', 'assets/game/sprite/whale.png', 'assets/game/sprite/whale.json');\r\n\r\n\t\t\r\n\t\t//\r\n\t\t//this.load.image('gotosea', 'assets/img/gotosea.png');\r\n\r\n\t\t//first_aq\r\n\t\t//this.load.image('first_aq', 'assets/img/first_aq.png');\r\n\r\n\t\t\r\n\r\n\t\t//submarine\r\n\t\t//this.load.atlasJSONArray('submarine', 'assets/game/sprite/submarine.png', 'assets/game/sprite/submarine.json');\r\n\t\t//this.load.atlasJSONArray('submarine_at', 'assets/game/sprite/submarine_at.png', 'assets/game/sprite/submarine_at.json');\r\n\r\n\t\t//this.preloadBar.destroy();\r\n\r\n\t}\r\n}","export class BootTundraL5 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\t//-- https://github.com/photonstorm/phaser-ce/issues/32\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#ffffff';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class GameTundraL5 extends Phaser.State {\r\n\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.snowgswitch;\r\n        this.back_emitter;\r\n        this.mid_emitter;\r\n        this.yeti;\r\n        this.surveyHistory = [];\r\n    }\r\n\r\n    //\r\n    create() {\r\n\r\n        console.log(\"create called\");\r\n        \r\n        var s = this.game.add.sprite(0,0,'tundra1');\r\n        s.rotation = 0.0;\r\n        var aspect_ratio = s.width/s.height;\r\n        s.height = this.game.height - 310;\r\n        s.width = s.height*aspect_ratio;\r\n\r\n        //--- this is the bottom screen, blue water thing.\r\n        var titlescreen = this.add.image(0, this.game.height-60, 'titlescreen');\r\n        titlescreen.scale.setTo(0.6, 0.6);\r\n\r\n\r\n        this.CANVAS_WIDTH = window.innerWidth;\r\n        \r\n        //\r\n        this.height = this.game.height;\r\n\r\n        //---\r\n        //this.CANVAS_WIDTH = 382.0;\r\n        //if(window.innerWidth > this.CANVAS_WIDTH)\r\n        //    this.CANVAS_WIDTH = window.innerWidth;\r\n\r\n        //---\r\n        //var timer = this.add.sprite(5, 40, 'timer', 1);\r\n\r\n        //--- \r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n \r\n        //--- \r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        //\r\n        /*\r\n        this.snowgswitch = this.add.image(5, 70, 'snowgswitch');\r\n        this.snowgswitch.scale.setTo(0.15, 0.15);\r\n        this.snowgswitch.inputEnabled = true;\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n        */\r\n        \r\n\r\n        //\r\n        this.inputEnabled = false;\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n\r\n\r\n        //this.animateDuck();\r\n        //this.animateSnowOwl();\r\n        \r\n        //\r\n        var treasure = this.add.image(this.game.width/2, this.height-85, 'treasure_tundra');\r\n        treasure.scale.setTo(-0.5, 0.5);\r\n        treasure.anchor.setTo(.5,.5);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n        \r\n\r\n        //\r\n        this.addAnimals();\r\n\r\n        this.showProgressBars();\r\n\r\n        //\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n\r\n        //\r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        var vertical_position_offset = 35;\r\n\r\n        \r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        vertical_position_offset = 57;\r\n\r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 2120;\r\n        var end_point_for_level = 3020;\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n    \r\n\r\n\r\n    startsnowing(){\r\n        console.log(\"start snowing\");\r\n\r\n        //var mid_emitter;\r\n        //var back_emitter;\r\n\r\n        this.snowgswitch.loadTexture(\"snow_end\",0);\r\n        \r\n        this.back_emitter = this.game.add.emitter(this.game.world.centerX, -32, 600);\r\n        this.back_emitter.makeParticles('snowflakes', [0, 1, 2, 3, 4, 5]);\r\n        this.back_emitter.maxParticleScale = 0.6;\r\n        this.back_emitter.minParticleScale = 0.2;\r\n        this.back_emitter.setYSpeed(20, 100);\r\n        this.back_emitter.gravity = 0;\r\n        this.back_emitter.width = this.game.world.width * 1.5;\r\n        this.back_emitter.minRotation = 0;\r\n        this.back_emitter.maxRotation = 40;\r\n\r\n        this.mid_emitter = this.game.add.emitter(this.game.world.centerX, -32, 250);\r\n        this.mid_emitter.makeParticles('snowflakes', [0, 1, 2, 3, 4, 5]);\r\n        this.mid_emitter.maxParticleScale = 1.2;\r\n        this.mid_emitter.minParticleScale = 0.8;\r\n        this.mid_emitter.setYSpeed(50, 150);\r\n        this.mid_emitter.gravity = 0;\r\n        this.mid_emitter.width = this.game.world.width * 1.5;\r\n        this.mid_emitter.minRotation = 0;\r\n        this.mid_emitter.maxRotation = 40;\r\n\r\n        this.back_emitter.start(false, 14000, 20);\r\n        this.mid_emitter.start(false, 12000, 40);\r\n\r\n        this.snowgswitch.events.onInputDown.addOnce(this.stopsnowing, this);\r\n    }\r\n\r\n    stopsnowing(){\r\n\r\n        this.snowgswitch.loadTexture(\"snow_start\",0);\r\n        this.back_emitter.destroy();\r\n        this.mid_emitter.destroy();\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n    }\r\n\r\n\r\n\r\n\r\n    addAnimals(){\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n\r\n\r\n        var data = phaserJSON;\r\n        var survey_string = \"\";\r\n        var current_points = this.totalPoints;\r\n\r\n\r\n        //drawing order, initialize to zero\r\n        var drawing_order = [\"Brown Bear\", \"Grey Wolf\", \"Hare\", \"Reindeer\", \"Yeti\", \"Grey Husky\", \"Penguin\", \"Pingu, the Penguin\", \"Mountain goat\", \"Seal\", \"Ducks\", \"Snow\", \"Snow Bunting\", \"Snowy Owl\", \"Blue Jay\"];\r\n        var drawing_order_enabled = {};\r\n        for(var j=0; j < drawing_order.length; j++)\r\n            drawing_order_enabled[drawing_order[j]] = 0;\r\n\r\n\r\n        //\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points >= data[i].points){\r\n                drawing_order_enabled[data[i].name.valueOf()] = 1;\r\n            }\r\n        }\r\n        \r\n\r\n        for(var key in drawing_order_enabled) {\r\n\r\n            //means it is not included\r\n            if(drawing_order_enabled[key] == 0)\r\n                continue;\r\n\r\n\r\n            if(drawing_order_enabled[key] == 1){\r\n\r\n                //nemo\r\n                if(key === \"Penguin\")\r\n                    this.animatePenguin();\r\n\r\n                if(key === \"Seal\")\r\n                    this.animateSealion();\r\n\r\n                if(key === \"Grey Wolf\")\r\n                    this.animateWolf();\r\n\r\n                if(key === \"Brown Bear\")\r\n                    this.animateBear(); \r\n\r\n                if(key === \"Snow Bunting\")\r\n                    this.animateBirds();\r\n\r\n                if(key === \"Hare\")\r\n                    this.animateHare();\r\n\r\n                if(key === \"Pingu, the Penguin\")\r\n                    this.animatePingu();    \r\n\r\n                //if(data[i].name.valueOf() === \"Coyote\")\r\n                //    this.animateCoyote();                \r\n\r\n                //if(data[i].name.valueOf() === \"White Husky\")\r\n                //    this.animateWhiteHusky();  \r\n\r\n\r\n                if(key === \"Snow\")\r\n                   this.animateSnow();  \r\n\r\n\r\n                if(key === \"Grey Husky\")\r\n                    this.animateBrwonHusky();  \r\n\r\n                if(key === \"Yeti\")\r\n                    this.animateYeti();  \r\n\r\n                 \r\n\r\n                if(key === \"Reindeer\")\r\n                    this.animateReindeer();\r\n                \r\n                \r\n\r\n                if(key === \"Snowy Owl\")\r\n                    this.animateSnowOwl();\r\n\r\n\r\n                if(key === \"Ducks\")\r\n                    this.animateDuck();\r\n\r\n                if(key === \"Mountain goat\")\r\n                    this.animateMountainGoat();\r\n\r\n                if(key === \"Blue Jay\")\r\n                    this.animateBlueJay();\r\n\r\n               /* \r\n               if(data[i].name.valueOf() === \"Rabbit\")\r\n               this.animateRabbit();  \r\n               */\r\n\r\n            }\r\n        }\r\n        \r\n\r\n         //set the progres bar\r\n        this.previoous_fish_point = 0;\r\n        this.next_fish_point = 0;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points < data[i].points){\r\n                this.next_fish_point = data[i].points;\r\n              break;\r\n            }else{\r\n                this.previoous_fish_point = data[i].points;\r\n            }\r\n        }\r\n\r\n        /*\r\n        this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n        var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n        console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * this.progress_sprite.width);\r\n\r\n        console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\r\n        this.progress_sprite.crop(rect);\r\n        */\r\n    }\r\n\r\n    animateSnow(){\r\n        //console.log(\"snow button loaded\");\r\n        this.snowgswitch = this.add.image(5, 70, 'snow_start');\r\n        this.snowgswitch.scale.setTo(0.6, 0.6);\r\n        this.snowgswitch.inputEnabled = true;\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n    }\r\n\r\n   \r\n\r\n    //-- Add Penguin\r\n    animatePenguin(){\r\n\r\n        console.log(\"Device pixel ratio is: \" + window.devicePixelRatio)\r\n\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        starting_pos_x = -15;\r\n        starting_pos_y = this.game.height - 145;\r\n        ending_pos_x = 45;\r\n        ending_pos_y = this.game.height - 105;\r\n        scale_x = 0.3;\r\n        scale_y = 0.3;\r\n\r\n        this.penguins = this.add.sprite(starting_pos_x, starting_pos_y, 'penguin');\r\n        this.penguins.anchor.setTo(.5,.5);\r\n        this.penguins.animations.add('swim2');\r\n        this.penguins.animations.play('swim2', 5, true);\r\n        this.penguins.scale.setTo(scale_x, scale_y);\r\n        this.penguins.name = \"pegions\";\r\n        var t = this.add.tween(this.penguins).to({ x: ending_pos_x, y: ending_pos_y}, 1000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.penguins.animations.stop(null, true);}, this);\r\n    }\r\n    \r\n    //-- Add sea lion\r\n    animateSealion(){\r\n\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        \r\n        \r\n        //---- sea lion silver\r\n        starting_pos_x = this.game.width+15;\r\n        starting_pos_y = this.game.height - 105;\r\n        ending_pos_x = this.game.width-75;\r\n        ending_pos_y = this.game.height - 105;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_silver');\r\n        this.sealion.anchor.setTo(.5,.5);\r\n        this.sealion.animations.add('swim2');\r\n        this.sealion.animations.play('swim2', 5, true);\r\n        this.sealion.scale.setTo(scale_x, scale_y);\r\n        this.sealion.name = \"sea_lion_silver\";\r\n        var t = this.add.tween(this.sealion).to({ x: ending_pos_x, y: ending_pos_y}, 3000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion.animations.stop(null, true);}, this);\r\n\r\n\r\n        //---- sea lion brown\r\n        starting_pos_x = this.game.width+25;\r\n        starting_pos_y = this.game.height - 135;\r\n        ending_pos_x = this.game.width-45;\r\n        ending_pos_y = this.game.height - 135;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion_brown = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_brown');\r\n        this.sealion_brown.anchor.setTo(.5,.5);\r\n        this.sealion_brown.animations.add('swim2');\r\n        this.sealion_brown.animations.play('swim2', 5, true);\r\n        this.sealion_brown.scale.setTo(scale_x, scale_y);\r\n        this.sealion_brown.name = \"sea_lion_brown\";\r\n        var t = this.add.tween(this.sealion_brown).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_brown.animations.stop(null, true);}, this);\r\n\r\n        //---- sea lion pink\r\n        starting_pos_x = this.game.width+125;\r\n        starting_pos_y = this.game.height - 85;\r\n        ending_pos_x = this.game.width-25;\r\n        ending_pos_y = this.game.height - 85;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.sealion_pink = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_pink');\r\n        this.sealion_pink.anchor.setTo(.5,.5);\r\n        this.sealion_pink.animations.add('swim2');\r\n        this.sealion_pink.animations.play('swim2', 5, true);\r\n        this.sealion_pink.scale.setTo(scale_x, scale_y);\r\n        this.sealion_pink.name = \"sea_lion_pink\";\r\n        var t = this.add.tween(this.sealion_pink).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_pink.animations.stop(null, true);}, this);\r\n\r\n    }\r\n\r\n    //\r\n    animateDuck(){\r\n        this.duck = this.add.sprite(this.game.width+15, this.game.height-20, 'duck');\r\n        this.duck.anchor.setTo(.5,.5);\r\n        this.duck.animations.add('swim2');\r\n        this.duck.animations.play('swim2', 3, true);\r\n        this.duck.scale.setTo(1, 1);\r\n        this.duck.name = \"duck\";\r\n        this.gobothways(this.duck);\r\n\r\n        this.duck2 = this.add.sprite(this.game.width+55, this.game.height-20, 'duck');\r\n        this.duck2.anchor.setTo(.5,.5);\r\n        this.duck2.animations.add('swim2');\r\n        this.duck2.animations.play('swim2', 3, true);\r\n        this.duck2.scale.setTo(1, 1);\r\n        this.duck2.name = \"duck2\";\r\n        this.gobothways(this.duck2);\r\n    }\r\n\r\n    animateBearCub(){\r\n        //console.log(\"snow button loaded\");\r\n        this.polarBearCub = this.add.sprite(this.game.width+15, this.game.height - 290, 'polar_bear_cub');\r\n        this.polarBearCub.anchor.setTo(.5,.5);\r\n        this.polarBearCub.animations.add('swim2');\r\n        this.polarBearCub.animations.play('swim2', 3, true);\r\n        this.polarBearCub.scale.setTo(-0.8, 0.8);\r\n        this.polarBearCub.name = \"polarBearCub\";\r\n        this.gobothways(this.polarBearCub);\r\n    }\r\n\r\n\r\n\r\n\r\n    //\r\n    animateSnowOwl(){\r\n        //\r\n        this.black_tundra_owl = this.add.sprite(this.game.width-130, 195, 'black_tundra_owl');\r\n        this.black_tundra_owl.anchor.setTo(.5,.5);\r\n        this.black_tundra_owl.animations.add('swim2');\r\n        this.black_tundra_owl.animations.play('swim2', 5, true);\r\n        this.black_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.black_tundra_owl.name = \"black_tundra_owl\";\r\n        this.gobothways(this.black_tundra_owl);\r\n\r\n\r\n        this.brown_tundra_owl = this.add.sprite(this.game.width-100, 200, 'brown_tundra_owl');\r\n        this.brown_tundra_owl.anchor.setTo(.5,.5);\r\n        this.brown_tundra_owl.animations.add('swim2');\r\n        this.brown_tundra_owl.animations.play('swim2', 5, true);\r\n        this.brown_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.brown_tundra_owl.name = \"brown_tundra_owl\";\r\n        this.gobothways(this.brown_tundra_owl);\r\n\r\n\r\n        this.grey_tundra_owl = this.add.sprite(this.game.width-160, 205, 'grey_tundra_owl');\r\n        this.grey_tundra_owl.anchor.setTo(.5,.5);\r\n        this.grey_tundra_owl.animations.add('swim2');\r\n        this.grey_tundra_owl.animations.play('swim2', 5, true);\r\n        this.grey_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.grey_tundra_owl.name = \"grey_tundra_owl\";\r\n        this.gobothways(this.grey_tundra_owl);\r\n\r\n        /*\r\n        this.light_brown_tundra_owl = this.add.sprite(this.game.width-170, 180, 'light_brown_tundra_owl');\r\n        this.light_brown_tundra_owl.anchor.setTo(.5,.5);\r\n        this.light_brown_tundra_owl.animations.add('swim2');\r\n        this.light_brown_tundra_owl.animations.play('swim2', 5, true);\r\n        this.light_brown_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.light_brown_tundra_owl.name = \"light_brown_tundra_owl\";\r\n        this.gobothways(this.light_brown_tundra_owl);\r\n        */\r\n\r\n        this.white_tundra_owl = this.add.sprite(this.game.width-200, 185, 'white_tundra_owl');\r\n        this.white_tundra_owl.anchor.setTo(.5,.5);\r\n        this.white_tundra_owl.animations.add('swim2');\r\n        this.white_tundra_owl.animations.play('swim2', 5, true);\r\n        this.white_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.white_tundra_owl.name = \"white_tundra_owl\";\r\n        this.gobothways(this.white_tundra_owl);\r\n\r\n    }\r\n\r\n    //\r\n    animateMountainGoat(){\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        \r\n        \r\n        //---- sea lion silver\r\n        starting_pos_x = this.game.width/2-60;\r\n        starting_pos_y = this.game.height - 185 + 40;\r\n        ending_pos_x = this.game.width/2-30;\r\n        ending_pos_y = this.game.height - 185 + 40;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.black_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'black_mountain_goat');\r\n        this.black_mountain_goat.anchor.setTo(.5,.5);\r\n        this.black_mountain_goat.animations.add('swim2');\r\n        this.black_mountain_goat.animations.play('swim2', 3, true);\r\n        this.black_mountain_goat.scale.setTo(scale_x, scale_y);\r\n        this.black_mountain_goat.name = \"black_mountain_goat\";\r\n        var t = this.add.tween(this.black_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 9000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.black_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n\r\n        starting_pos_x = this.game.width-10;\r\n        starting_pos_y = this.game.height - 205 + 40;\r\n        ending_pos_x = this.game.width/2+50;\r\n        ending_pos_y = this.game.height - 205 + 40;\r\n        scale_x = -1.5;\r\n        scale_y = 1.5;\r\n\r\n        this.white_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'white_mountain_goat');\r\n        this.white_mountain_goat.anchor.setTo(.5,.5);\r\n        this.white_mountain_goat.animations.add('swim2');\r\n        this.white_mountain_goat.animations.play('swim2', 3, true);\r\n        this.white_mountain_goat.scale.setTo(scale_x, scale_y);\r\n        this.white_mountain_goat.name = \"white_mountain_goat\";\r\n        t = this.add.tween(this.white_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 15000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.white_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n\r\n        starting_pos_x = this.game.width-10;\r\n        starting_pos_y = this.game.height - 175 + 40;\r\n        ending_pos_x = this.game.width/2+30;\r\n        ending_pos_y = this.game.height - 175 + 40;\r\n        scale_x = -1.2;\r\n        scale_y = 1.2;\r\n\r\n        this.brown_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'brown_mountain_goat');\r\n        this.brown_mountain_goat.anchor.setTo(.5,.5);\r\n        this.brown_mountain_goat.animations.add('swim2');\r\n        this.brown_mountain_goat.animations.play('swim2', 3, true);\r\n        this.brown_mountain_goat.scale.setTo(scale_x, scale_y);\r\n        this.brown_mountain_goat.name = \"brown_mountain_goat\";\r\n        t = this.add.tween(this.brown_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 9000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.brown_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n        /*\r\n        //---- sea lion brown\r\n        starting_pos_x = this.game.width+25;\r\n        starting_pos_y = this.game.height - 135;\r\n        ending_pos_x = this.game.width-45;\r\n        ending_pos_y = this.game.height - 135;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion_brown = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_brown');\r\n        this.sealion_brown.anchor.setTo(.5,.5);\r\n        this.sealion_brown.animations.add('swim2');\r\n        this.sealion_brown.animations.play('swim2', 5, true);\r\n        this.sealion_brown.scale.setTo(scale_x, scale_y);\r\n        this.sealion_brown.name = \"sea_lion_brown\";\r\n        var t = this.add.tween(this.sealion_brown).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_brown.animations.stop(null, true);}, this);\r\n\r\n        //---- sea lion pink\r\n        starting_pos_x = this.game.width+125;\r\n        starting_pos_y = this.game.height - 85;\r\n        ending_pos_x = this.game.width-25;\r\n        ending_pos_y = this.game.height - 85;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.sealion_pink = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_pink');\r\n        this.sealion_pink.anchor.setTo(.5,.5);\r\n        this.sealion_pink.animations.add('swim2');\r\n        this.sealion_pink.animations.play('swim2', 5, true);\r\n        this.sealion_pink.scale.setTo(scale_x, scale_y);\r\n        this.sealion_pink.name = \"sea_lion_pink\";\r\n        var t = this.add.tween(this.sealion_pink).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_pink.animations.stop(null, true);}, this);\r\n        */\r\n    }\r\n\r\n    //--- add wolf animation.\r\n    animateWolf(){\r\n\r\n        var starting_pos_x, starting_pos_y, scale_x, scale_y;\r\n\r\n        //---- wolf walk\r\n        starting_pos_x = this.game.width-100;\r\n        starting_pos_y = this.game.height-335;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.wolf = this.add.sprite(starting_pos_x, starting_pos_y, 'wolf_walk');\r\n        //this.wolf = this.add.sprite(this.game.width+100, this.game.height-295, 'wolf_walk');\r\n        this.wolf.anchor.setTo(.5,.5);\r\n        this.wolf.animations.add('swim');\r\n        this.wolf.animations.play('swim', 3, true);\r\n        this.wolf.scale.setTo(scale_x, scale_y);\r\n        this.wolf.name = \"wolf\";\r\n        this.wolf.startingDirection = \"leftToRight\";\r\n        this.wolf.spriteFacesDirection = \"right\";\r\n        this.gobothways(this.wolf);\r\n    }\r\n\r\n    animateBear(){\r\n        this.brown_bear = this.add.sprite(-200, this.game.height-325, 'brown_bear');\r\n        this.brown_bear.anchor.setTo(.5,.5);\r\n        this.brown_bear.animations.add('swim');\r\n        this.brown_bear.animations.play('swim', 6, true);\r\n        this.brown_bear.scale.setTo(-.15, .15);\r\n        this.brown_bear.name = \"brown_bear\";\r\n        this.gobothways(this.brown_bear);\r\n\r\n        this.animateBearCub();\r\n    }\r\n\r\n    \r\n\r\n    //\r\n    animateBrwonHusky(){\r\n\r\n        this.white_husky = this.add.sprite(65, this.game.height - 215, 'white_husky');\r\n        this.white_husky.anchor.setTo(.5,.5);\r\n        this.white_husky.animations.add('swim2');\r\n        this.white_husky.animations.play('swim2',15, true);\r\n        this.white_husky.scale.setTo(0.35, 0.35);\r\n        this.white_husky.name = \"white_husky\";\r\n\r\n\r\n        this.white_husky = this.add.sprite(65, this.game.height - 185, 'grey_husky');\r\n        this.white_husky.anchor.setTo(.5,.5);\r\n        this.white_husky.animations.add('swim2');\r\n        this.white_husky.animations.play('swim2',15, true);\r\n        this.white_husky.scale.setTo(0.35, 0.35);\r\n        this.white_husky.name = \"grey_husky\";\r\n    }\r\n\r\n    //\r\n    animatePingu(){\r\n        this.pingu = this.add.sprite(105, this.game.height - 105, 'pingu');\r\n        this.pingu.anchor.setTo(.5,.5);\r\n        this.pingu.animations.add('swim2');\r\n        this.pingu.animations.play('swim2',4, true);\r\n        this.pingu.scale.setTo(0.35, 0.35);\r\n        this.pingu.name = \"pingu\";\r\n    }\r\n\r\n    \r\n\r\n    animateRabbit(){\r\n        this.rabbit = this.add.sprite(this.game.width+215, this.game.height-125, 'rabbit');\r\n        this.rabbit.anchor.setTo(.5,.5);\r\n        this.rabbit.animations.add('swim2');\r\n        this.rabbit.animations.play('swim2', 20, true);\r\n        this.rabbit.scale.setTo(-0.4, 0.4);\r\n        this.rabbit.name = \"rabbit\";\r\n        this.gobothways(this.rabbit);\r\n    }\r\n\r\n\r\n\r\n\r\n    //\r\n    animateHare(){\r\n        this.hare = this.add.sprite(this.game.width-115, this.game.height - 285, 'hare');\r\n        this.hare.anchor.setTo(.5,.5);\r\n        this.hare.animations.add('swim2');\r\n        this.hare.animations.play('swim2', 5, true);\r\n        this.hare.scale.setTo(0.4, 0.4);\r\n        this.hare.name = \"hare\";\r\n        this.hare.startingDirection = \"rightToLeft\";\r\n        this.hare.spriteFacesDirection = \"right\";\r\n        this.gobothways(this.hare);\r\n    }\r\n\r\n\r\n    //\r\n    animateReindeer(){\r\n        //this.reindeer = this.add.sprite(-115, this.game.height - 145, 'reindeer');\r\n        this.reindeer = this.add.sprite(-75, this.game.height - 265, 'reindeer');\r\n        this.reindeer.anchor.setTo(.5,.5);\r\n        this.reindeer.animations.add('swim2');\r\n        this.reindeer.animations.play('swim2', 5, true);\r\n        this.reindeer.scale.setTo(-0.12, 0.12);\r\n        this.reindeer.name = \"reindeer\";\r\n        this.gobothways(this.reindeer);\r\n    }\r\n\r\n\r\n    //\r\n    animateCoyote(){\r\n        this.coyote = this.add.sprite(-115, this.game.height - 225, 'coyote');\r\n        this.coyote.anchor.setTo(.5,.5);\r\n        this.coyote.animations.add('swim2');\r\n        this.coyote.animations.play('swim2', 5, true);\r\n        this.coyote.scale.setTo(-1, 1);\r\n        this.coyote.name = \"coyote\";\r\n        this.gobothways(this.coyote);\r\n    }\r\n\r\n\r\n    //\r\n    animateBirds(){\r\n        this.birds = this.add.sprite(-50, 95, 'bird_fly');\r\n        this.birds.anchor.setTo(.5,.5);\r\n        this.birds.animations.add('swim2');\r\n        this.birds.animations.play('swim2', 5, true);\r\n        this.birds.scale.setTo(-0.3, 0.3);\r\n        this.birds.name = \"birds\";\r\n        //this.pegions.body.velocity.x = -20;\r\n        this.gobothways(this.birds);\r\n    }\r\n\r\n    \r\n    //\r\n    animateBlueJay(){\r\n        this.blue_jay = this.add.sprite(this.game.width-50, 135, 'blue_jay');\r\n        this.blue_jay.anchor.setTo(.5,.5);\r\n        this.blue_jay.animations.add('swim2');\r\n        this.blue_jay.animations.play('swim2', 10, true);\r\n        this.blue_jay.scale.setTo(0.6, 0.6);\r\n        this.blue_jay.name = \"blue_jay\";\r\n        //this.pegions.body.velocity.x = -20;\r\n        this.gobothways(this.blue_jay);\r\n    }   \r\n\r\n    //\r\n    animateYeti(){\r\n        this.yeti = this.add.sprite(this.game.width-15, this.game.height - 205, 'yeti_walk');\r\n        this.yeti.anchor.setTo(.5,.5);\r\n        this.yeti.animations.add('swim2');\r\n        this.yeti.animations.play('swim2', 5, true);\r\n        this.yeti.scale.setTo(-0.5, 0.5);\r\n        this.yeti.name = \"yeti\";\r\n        var t = this.add.tween(this.yeti).to({ x: this.game.width-45, y: this.game.height - 205}, 2000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){\r\n            this.yeti.animations.stop(null, true);\r\n            this.yeti.loadTexture('yeti_standing', 0);\r\n            this.yeti.inputEnabled = true;\r\n            this.yeti.events.onInputDown.addOnce(this.changeYetiLaugh, this);\r\n        }, this);\r\n    }\r\n\r\n    changeYetiLaugh(){\r\n        console.log(\"changed to laugh\");\r\n        this.yeti.loadTexture('yeti_laugh', 0);\r\n        this.yeti.animations.add('swim');\r\n        this.yeti.animations.play('swim', 5, true);\r\n        this.yeti.events.onInputDown.addOnce(this.changeToStanding, this);\r\n    }\r\n\r\n    changeToStanding(){\r\n        console.log(\"changed to standing\");\r\n        this.yeti.loadTexture('yeti_standing', 0);\r\n        this.yeti.events.onInputDown.addOnce(this.changeYetiLaugh, this);\r\n    }\r\n\r\n\r\n    gobothways(b){\r\n\r\n        //console.log('reached: ' + \"gobothways\" + \" \" + b.name);\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        \r\n        var pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.game.height) || (pos_y < 70)){\r\n            pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.game.width){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, 17500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.game.width + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, 17500+Math.floor(this.rnd.realInRange(0, 5000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n        //*/ \r\n\r\n\r\n        if((b.x >= 0) && (b.x <= this.game.width)){   \r\n            if(b.startingDirection == \"leftToRight\"){\r\n                if(b.spriteFacesDirection == \"left\"){\r\n                    //going \"leftToRight\", animalSprite is \"right facing\"\r\n                    b.scale.x = -1*b.scale.x;\r\n                }\r\n\r\n                var speedMultiplier = (this.game.width + 100 - b.x)/(this.game.width + 100 + 100);\r\n                X = this.game.width + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n                t = this.add.tween(b).to({ x: X, y: pos_y }, speedMultiplier*(17500+Math.floor(this.rnd.realInRange(0, 5000))), Phaser.Easing.Quadratic.InOut, true, 0);\r\n                t.onComplete.add(this.stopFish, this);\r\n            }else{\r\n                //going rightToLeft\r\n                if(b.spriteFacesDirection == \"right\"){ \r\n                    b.scale.x = -1*b.scale.x;\r\n                }\r\n                var speedMultiplier = (b.x + 100)/(this.game.width + 100 + 100);\r\n                X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n                t= this.add.tween(b).to({ x: X, y: pos_y}, speedMultiplier*17500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n                t.onComplete.add(this.stopFish, this); \r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    stopFish(b) {\r\n        this.gobothways(b);\r\n    }\r\n\r\n    gobothways2(b,duration){\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, duration, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, duration, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n        //*/\r\n\r\n       \r\n    }\r\n\r\n    \r\n\r\n    setTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n    }  \r\n    \r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n    }\r\n\r\n    yourGameResumedFunc(){\r\n        console.log(\"Game resumed\");\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n}\r\n","export class PreloaderTundraL5 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\tconsole.log(\"Preload called\");\r\n\t\tthis.input.addPointer();\r\n\t\t\r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n\t\t}, this);\r\n\r\n\t\t\r\n\r\n\t\t//this.game.load.image('tundra1','assets/pics/bg-tundra.png');\r\n\t\tthis.game.load.image('tundra1','assets/pics/bg-top-tundra.png');\r\n\t\tthis.load.image('titlescreen', 'assets/pics/bg-bottom-tundra.png'); \r\n        \r\n\t\tthis.game.load.atlasJSONArray('penguin', 'assets/game/sprite/penguin_sprite.png', 'assets/game/sprite/penguin_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_silver', 'assets/game/sprite/sea_lion_silver_sprite.png', 'assets/game/sprite/sea_lion_silver_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_brown', 'assets/game/sprite/sea_lion_brown_sprite.png', 'assets/game/sprite/sea_lion_brown_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_pink', 'assets/game/sprite/PinkSeal.png', 'assets/game/sprite/PinkSeal.json');\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('wolf_walk', 'assets/game/sprite/wolf_walk_sprite.png', 'assets/game/sprite/wolf_walk_sprite.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('bird_fly', 'assets/game/sprite/bird_tundra_sprite.png', 'assets/game/sprite/bird_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('blue_jay', 'assets/game/sprite/BlueJay.png', 'assets/game/sprite/BlueJay.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('hare', 'assets/game/sprite/hare_tundra_sprite.png', 'assets/game/sprite/hare_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('pingu', 'assets/game/sprite/pingu_tundra_sprite.png', 'assets/game/sprite/pingu_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('coyote', 'assets/game/sprite/coyote_tundra_sprite.png', 'assets/game/sprite/coyote_tundra_sprite.json');\r\n\t\t\r\n\t\t\r\n    \r\n        //\r\n        this.game.load.atlasJSONArray('grey_husky', 'assets/game/sprite/husky_grey_tundra_sprite.png', 'assets/game/sprite/husky_grey_tundra_sprite.json');\r\n        this.game.load.atlasJSONArray('white_husky', 'assets/game/sprite/husky_white_tundra_sprite.png', 'assets/game/sprite/husky_white_tundra_sprite.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('yeti_walk', 'assets/game/sprite/yeti_walk_sprite.png', 'assets/game/sprite/yeti_walk_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('yeti_laugh', 'assets/game/sprite/yeti_laugh_sprite.png', 'assets/game/sprite/yeti_laugh_sprite.json');\r\n\t\t\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('brown_bear', 'assets/game/sprite/brown_bear.png', 'assets/game/sprite/brown_bear.json');\r\n\t\tthis.game.load.atlasJSONArray('rabbit', 'assets/game/sprite/rabbit.png', 'assets/game/sprite/rabbit.json');\r\n\t\tthis.game.load.atlasJSONArray('reindeer', 'assets/game/sprite/reindeer.png', 'assets/game/sprite/reindeer.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('duck', 'assets/game/sprite/Duck.png', 'assets/game/sprite/Duck.json');\r\n\t\tthis.game.load.atlasJSONArray('polar_bear_cub', 'assets/game/sprite/PolarBear.png', 'assets/game/sprite/PolarBear.json');\r\n\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('black_tundra_owl', 'assets/game/sprite/black_tundra_owl.png', 'assets/game/sprite/black_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('brown_tundra_owl', 'assets/game/sprite/brown_tundra_owl.png', 'assets/game/sprite/brown_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('grey_tundra_owl', 'assets/game/sprite/grey_tundra_owl.png', 'assets/game/sprite/grey_tundra_owl.json');\r\n\t\t//this.game.load.atlasJSONArray('light_brown_tundra_owl', 'assets/game/sprite/light_brown_tundra_owl.png', 'assets/game/sprite/light_brown_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('white_tundra_owl', 'assets/game/sprite/white_tundra_owl.png', 'assets/game/sprite/white_tundra_owl.json');\r\n\r\n\r\n\t\t//mountain goat\r\n\t\tthis.game.load.atlasJSONArray('black_mountain_goat', 'assets/game/sprite/black_mountain_goat.png', 'assets/game/sprite/black_mountain_goat.json');\r\n\t\tthis.game.load.atlasJSONArray('brown_mountain_goat', 'assets/game/sprite/brown_mountain_goat.png', 'assets/game/sprite/brown_mountain_goat.json');\r\n\t\tthis.game.load.atlasJSONArray('white_mountain_goat', 'assets/game/sprite/white_mountain_goat.png', 'assets/game/sprite/white_mountain_goat.json');\r\n\r\n\r\n\t\t//\r\n\t\tthis.load.image('treasure_tundra', 'assets/img/tundra_treasure_chest.png');\r\n\r\n\t\t//\r\n\t\tthis.load.image('yeti_standing', 'assets/game/sprite/yeti_standing.png');\r\n\r\n\t\t//\r\n\t\t//this.load.image('snowgswitch', 'assets/img/snowglobe.png');\r\n\t\tthis.load.image('snow_start', 'assets/img/start_snow.png');\r\n\t\tthis.load.image('snow_end', 'assets/img/stop_snow.png');\r\n\r\n\t\t//\r\n\t\tthis.game.load.spritesheet('snowflakes', 'assets/game/sprite/snowflakes.png', 17, 17);\r\n\t\t//snowflakes.png\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tconsole.log(\"update: \"+ 'TundraLevel1');\r\n\t\tthis.state.start('TundraLevel1');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\t\r\n}","export class BootTundraL51 extends Phaser.State {\r\n    preload() {\r\n        this.load.image('preloaderBar', 'assets/img/loader_bar.png');\r\n    }\r\n    \r\n    create() {\r\n\t\tthis.input.maxPointers = 1;\r\n\t\t//-- https://github.com/photonstorm/phaser-ce/issues/32\r\n\t\tif(this.game.device.touch){\r\n\t\t\tthis.input.mouse.stop();\r\n\t\t}\r\n\t\tthis.stage.disableVisibilityChange = false;\r\n\t\t//this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\tthis.scale.minWidth = 270;\r\n\t\tthis.scale.minHeight = 400;\r\n\t\tthis.scale.pageAlignHorizontally = true;\r\n\t\tthis.scale.pageAlignVertically = true;\r\n\t\tthis.stage.forcePortrait = true;\r\n\t\t//this.scale.setScreenSize(true);\r\n\r\n\t\tthis.input.addPointer();\r\n\r\n\t\t//Change color here \r\n\t\t//-- http://www.w3schools.com/colors/colors_picker.asp\r\n\t\tthis.stage.backgroundColor = '#ffffff';\r\n        \r\n\t\tthis.state.start('Preloader');\r\n\t\tconsole.log(\"Boot completed\");\r\n\t\r\n    }\r\n}","export class GameTundraL51 extends Phaser.State {\r\n\r\n    //componentObject;\r\n    constructor(){\r\n        super();\r\n        this.componentObject;\r\n        this.snowgswitch;\r\n        this.back_emitter;\r\n        this.mid_emitter;\r\n        this.yeti;\r\n        this.scaleFactor=0.8;\r\n        this.surveyHistory = [];\r\n    }\r\n\r\n    //\r\n    create() {\r\n\r\n        console.log(\"create called\");\r\n        \r\n        var s = this.game.add.sprite(0,0,'tundra1');\r\n        s.rotation = 0.0;\r\n        var aspect_ratio = s.width/s.height;\r\n        s.height = this.game.height - 310;\r\n        s.width = s.height*aspect_ratio;\r\n\r\n        //--- this is the bottom screen, blue water thing.\r\n        var titlescreen = this.add.image(0, this.game.height-60, 'titlescreen');\r\n        titlescreen.scale.setTo(0.6, 0.6);\r\n\r\n        this.CANVAS_WIDTH = window.innerWidth;\r\n\r\n        //\r\n        this.height = this.game.height;\r\n\r\n        //---\r\n        //this.CANVAS_WIDTH = 382.0;\r\n        //if(window.innerWidth > this.CANVAS_WIDTH)\r\n        //    this.CANVAS_WIDTH = window.innerWidth;\r\n\r\n        //---\r\n        //var timer = this.add.sprite(5, 40, 'timer', 1);\r\n\r\n        //--- \r\n        /*\r\n        var fish_progress = this.add.image(175,50, 'clownfish_grey');\r\n        fish_progress.scale.setTo(-0.3, 0.3);\r\n        fish_progress.anchor.setTo(.5,.5);\r\n        */\r\n \r\n        //--- \r\n        /*\r\n        var pouch = this.add.image(15,80, 'diamond');\r\n        pouch.scale.setTo(0.4, 0.4);\r\n        pouch.anchor.setTo(.5,.5);\r\n        this.badgecount = this.add.bitmapText(30, 73, 'eightbitwonder', \"\" + 2, 12);\r\n        */\r\n\r\n        //\r\n        /*\r\n        this.snowgswitch = this.add.image(5, 70, 'snowgswitch');\r\n        this.snowgswitch.scale.setTo(0.15, 0.15);\r\n        this.snowgswitch.inputEnabled = true;\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n        */\r\n        \r\n\r\n        //\r\n        this.inputEnabled = false;\r\n        Phaser.Canvas.setTouchAction(this.game.canvas, \"auto\");\r\n        this.game.input.touch.preventDefault = false;\r\n\r\n\r\n        //this.animateDuck();\r\n        //this.animateSnowOwl();\r\n        \r\n        \r\n\r\n        //\r\n        var treasure = this.add.image(this.game.width/2, this.height-85, 'treasure_tundra');\r\n        treasure.scale.setTo(-0.5*this.scaleFactor, 0.5*this.scaleFactor);\r\n        treasure.anchor.setTo(.5,.5);\r\n        treasure.inputEnabled = true;\r\n        treasure.events.onInputDown.add(this.showunlockables, this);\r\n\r\n        //\r\n        this.addAnimals();\r\n\r\n        //\r\n        this.showProgressBars();\r\n\r\n        //\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n\r\n        //\r\n        this.game.onPause.add(this.yourGamePausedFunc, this);\r\n        this.game.onResume.add(this.yourGameResumedFunc, this);\r\n\r\n    }\r\n\r\n    showProgressBars(){\r\n\r\n        var current_points = this.totalPoints;\r\n\r\n        //------ Left side\r\n\r\n        \r\n\r\n        //level info\r\n        //var levels_progress = this.add.image(5, 55, 'levels_progress');\r\n        //levels_progress.scale.setTo(.27, .30);\r\n\r\n        /*\r\n        //\r\n        var levels_progress = this.add.sprite(10, 58, 'level_up_progress', 0);\r\n        levels_progress.scale.setTo(0.95, 1.2);\r\n\r\n        //var progress_sprite = this.game.add.sprite(88, 59, 'level_up_progress', 1);\r\n        var progress_sprite = this.game.add.sprite(10, 59, 'level_up_progress', 1);\r\n        var rect = new Phaser.Rectangle(50, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        //progress_sprite.anchor.setTo(0,0);\r\n        progress_sprite.scale.setTo(1,1.1);\r\n\r\n\r\n        var level_up_icon = this.add.image(18, 68, 'level_up_icon');\r\n        level_up_icon.scale.setTo(.5, .5);\r\n        level_up_icon.anchor.setTo(.5, .5);\r\n\r\n        var info_level_progress = this.add.sprite(2 + levels_progress.width + 18, 74, 'info_sprite');\r\n        info_level_progress.animations.add('swim');\r\n        info_level_progress.animations.play('swim', 1, true);\r\n        info_level_progress.scale.setTo(0.3, 0.3);\r\n        info_level_progress.anchor.setTo(.5,.5);\r\n        info_level_progress.inputEnabled = true;\r\n        info_level_progress.events.onInputDown.add(function(){this.showInforBox(\"Info level progress bar clicked\")}, this); \r\n\r\n        \r\n        //progress_sprite.anchor.setTo(1,0);\r\n        //progress_sprite.scale.setTo(0.8,0.8);\r\n        */\r\n\r\n        var SCALING_FACTOR = 0.8;\r\n\r\n        //streak_info\r\n        var streak_info = this.add.image(5, 5, 'streak_info');\r\n        streak_info.scale.setTo(.30*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n\r\n        var info_level_streak = this.add.sprite(2 + streak_info.width + 12, 20, 'info_sprite');\r\n        info_level_streak.animations.add('swim');\r\n        info_level_streak.animations.play('swim', 1, true);\r\n        info_level_streak.scale.setTo(0.3*SCALING_FACTOR, 0.3*SCALING_FACTOR);\r\n        info_level_streak.anchor.setTo(.5,.5);\r\n        info_level_streak.inputEnabled = true;\r\n        info_level_streak.events.onInputDown.add(function(){this.showInforBox(\"Streak progress bar clicked\")}, this); \r\n\r\n\r\n        var colors = []; //['grey','grey','grey','grey','grey','grey','grey'];\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            if(this.surveyHistory[i] == 1)\r\n                colors[i] = 'green';\r\n            else\r\n                colors[i] = 'grey';\r\n        }   \r\n        colors = colors.reverse()\r\n        \r\n        //console.log(\"this.surveyHistory \" + this.surveyHistory);\r\n        console.log(\"colors \" + colors);\r\n        //colors = ['green','green','green','green','grey','green','grey'];\r\n        var streak_tile;\r\n        for(var i=0; i < this.surveyHistory.length; i++){\r\n            streak_tile = this.add.image(32 + i*12, 10, 'streak_' + colors[i]);\r\n            streak_tile.scale.setTo(.15*4*SCALING_FACTOR, .27*4*SCALING_FACTOR);\r\n        }\r\n\r\n\r\n        //------ Right side\r\n        //var progressBars = this.add.group();\r\n\r\n        //points bar\r\n        vertical_position_offset = 13;\r\n        var points_progress = this.add.image(this.CANVAS_WIDTH, 2, 'points_progress_2');\r\n        points_progress.scale.setTo(.36*SCALING_FACTOR, .30*SCALING_FACTOR);\r\n        points_progress.anchor.setTo(1,0);\r\n        //progressBars.add(points_progress);\r\n\r\n        //point text\r\n        var points_text = this.add.text(this.CANVAS_WIDTH - 60, 8, \"\" + this.totalPoints, {font:\"20px dumbo_regular\", fill:\"#4c3d01\"});\r\n        points_text.anchor.setTo(0.5,0);\r\n        points_text.scale.setTo(SCALING_FACTOR, SCALING_FACTOR);\r\n        //progressBars.add(points_text);\r\n\r\n        var star_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+4, 'star_point');\r\n        star_icon.scale.setTo(.52*SCALING_FACTOR, .52*SCALING_FACTOR);\r\n        star_icon.anchor.setTo(.5, .5);\r\n        //progressBars.add(points_text);\r\n\r\n        //progressBars.scale.setTo(.8, .8);\r\n\r\n        /*\r\n        var info_points = this.add.sprite(2 + points_progress.width + 13, 32, 'info_sprite');\r\n        info_points.animations.add('swim');\r\n        info_points.animations.play('swim', 1, true);\r\n        info_points.scale.setTo(0.3, 0.3);\r\n        info_points.anchor.setTo(.5,.5);\r\n        info_points.inputEnabled = true;\r\n        //function(){doAlert(textString)\r\n        info_points.events.onInputDown.add(function(){this.showInforBox(\"Info pregess bar cliccked 2\")}, this); \r\n        */\r\n\r\n        \r\n        //points to get to next fish.\r\n        vertical_position_offset = 35;\r\n        var progress_bar_fish =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 1);\r\n        progress_bar_fish.anchor.setTo(1,0);\r\n        progress_bar_fish.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_grey', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        var percent = (current_points-this.previoous_fish_point)/(this.next_fish_point-this.previoous_fish_point);\r\n        if(percent == 0)\r\n          percent = 0.05;\r\n        console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var fish_progress_icon = this.add.image(this.CANVAS_WIDTH-16, vertical_position_offset+8, 'next_fish_icon');\r\n        fish_progress_icon.scale.setTo(.2*0.8*SCALING_FACTOR, .2*0.8*SCALING_FACTOR);\r\n        fish_progress_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n        \r\n        //points to get to meme.\r\n        var vertical_position_offset = 57;\r\n\r\n        /*\r\n        var progress_bar_memes =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 1);\r\n        progress_bar_memes.anchor.setTo(1,0);\r\n        progress_bar_memes.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_memes = 0;\r\n        var total_number_of_memes = 31;\r\n        var already_shown_memes = window.localStorage[\"already_shown_memes3\"];\r\n        if(already_shown_memes == undefined)\r\n            already_shown_memes = [{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes3\"]);\r\n        var currently_number_of_unlocked_memes = already_shown_memes.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_yellow', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_memes-start_number_of_memes)/\r\n                  (total_number_of_memes-start_number_of_memes);\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var meme_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+10, 'meme_icon');\r\n        meme_icon.scale.setTo(.52*0.8*SCALING_FACTOR, .52*0.8*SCALING_FACTOR);\r\n        meme_icon.anchor.setTo(.5, .5);\r\n\r\n\r\n        //points to get to alt message.\r\n        var vertical_position_offset = 79;\r\n        var progress_bar_altruism_message =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 1);\r\n        progress_bar_altruism_message.anchor.setTo(1,0);\r\n        progress_bar_altruism_message.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var start_number_of_alt_messages = 0;\r\n        var total_number_of_alt_messages = 21;\r\n\r\n        var already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg3\"];\r\n        if(already_shown_altruism_msgs == undefined)\r\n            already_shown_altruism_msgs = [{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": \"blah\"}]\r\n        else\r\n            already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg3\"]);\r\n        var currently_number_of_unlocked_alt_messages = already_shown_altruism_msgs.length;\r\n\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (currently_number_of_unlocked_alt_messages-start_number_of_alt_messages)/\r\n                        (total_number_of_alt_messages-start_number_of_alt_messages);\r\n        //if(percent < 0.05)\r\n        percent = percent*0.8 + 0.2;\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        console.log(\"Alt Width, \" + rect.width  + \",\" + percent);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        \r\n        var alt_icon = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'alt_icon');\r\n        alt_icon.scale.setTo(.12*0.8*SCALING_FACTOR, .12*0.8*SCALING_FACTOR);\r\n        alt_icon.anchor.setTo(.5, .5);\r\n        \r\n\r\n\r\n        //points to get to level up.\r\n        var vertical_position_offset = 101;\r\n        */\r\n\r\n        var progress_bar_level_up =  this.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 1);\r\n        progress_bar_level_up.anchor.setTo(1,0);\r\n        progress_bar_level_up.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        // end of level is 1060, start is at 0\r\n        var start_point_for_level = 2120;\r\n        var end_point_for_level = 3020;\r\n        progress_sprite = this.game.add.sprite(this.CANVAS_WIDTH-15, vertical_position_offset+5, 'timer_pumpkin', 0);\r\n        rect = new Phaser.Rectangle(0, 0, 0, progress_sprite.height);\r\n        percent = (current_points-start_point_for_level)/(end_point_for_level-start_point_for_level);\r\n        percent = percent*0.8 + 0.2;\r\n        //console.log(\"\" + current_points + \",\" + this.previoous_fish_point + \",\" + this.next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * progress_sprite.width);\r\n        //console.log(\"Width, \" + rect.width  + \",\" + progress_sprite.width);\r\n        progress_sprite.crop(rect);\r\n        progress_sprite.anchor.setTo(1,0);\r\n        progress_sprite.scale.setTo(0.8*SCALING_FACTOR,0.5*SCALING_FACTOR);\r\n\r\n        var level_up_2 = this.add.image(this.CANVAS_WIDTH-18, vertical_position_offset+12, 'level_up_2');\r\n        level_up_2.scale.setTo(.12*0.9*SCALING_FACTOR, .12*0.9*SCALING_FACTOR);\r\n        level_up_2.anchor.setTo(.5, .5);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //this.countdown = this.add.bitmapText(10, 10, 'eightbitwonder', 'Points: ' + this.totalPoints, 20);\r\n        //console.log(\"countdown.width \" + this.countdown.width);\r\n\r\n        \r\n    }\r\n\r\n    setSurveyHistory(survey_history){\r\n        console.log(\"survey_history \" + survey_history + \", length: \" + survey_history.length);\r\n        //this.surveyHistory = survey_history;\r\n        for(var i=0; i<survey_history.length; i++)\r\n            this.surveyHistory.push(survey_history[i]);\r\n\r\n        //console.log(\"setSurveyHistory function finished\");\r\n    }\r\n\r\n    showInforBox(text){\r\n        //console.log('treasure box clicked');\r\n        this.componentObject.showInfoModal(text);\r\n    }\r\n\r\n    startsnowing(){\r\n        console.log(\"start snowing\");\r\n\r\n        //var mid_emitter;\r\n        //var back_emitter;\r\n\r\n        this.snowgswitch.loadTexture(\"snow_end\",0);\r\n        \r\n        this.back_emitter = this.game.add.emitter(this.game.world.centerX, -32, 600);\r\n        this.back_emitter.makeParticles('snowflakes', [0, 1, 2, 3, 4, 5]);\r\n        this.back_emitter.maxParticleScale = 0.6;\r\n        this.back_emitter.minParticleScale = 0.2;\r\n        this.back_emitter.setYSpeed(20, 100);\r\n        this.back_emitter.gravity = 0;\r\n        this.back_emitter.width = this.game.world.width * 1.5;\r\n        this.back_emitter.minRotation = 0;\r\n        this.back_emitter.maxRotation = 40;\r\n\r\n        this.mid_emitter = this.game.add.emitter(this.game.world.centerX, -32, 250);\r\n        this.mid_emitter.makeParticles('snowflakes', [0, 1, 2, 3, 4, 5]);\r\n        this.mid_emitter.maxParticleScale = 1.2;\r\n        this.mid_emitter.minParticleScale = 0.8;\r\n        this.mid_emitter.setYSpeed(50, 150);\r\n        this.mid_emitter.gravity = 0;\r\n        this.mid_emitter.width = this.game.world.width * 1.5;\r\n        this.mid_emitter.minRotation = 0;\r\n        this.mid_emitter.maxRotation = 40;\r\n\r\n        this.back_emitter.start(false, 14000, 20);\r\n        this.mid_emitter.start(false, 12000, 40);\r\n\r\n        this.snowgswitch.events.onInputDown.addOnce(this.stopsnowing, this);\r\n    }\r\n\r\n    stopsnowing(){\r\n\r\n        this.snowgswitch.loadTexture(\"snow_start\",0);\r\n        this.back_emitter.destroy();\r\n        this.mid_emitter.destroy();\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n    }\r\n\r\n\r\n\r\n\r\n    addAnimals(){\r\n\r\n        var phaserJSON = this.game.cache.getJSON('fishpoints');\r\n\r\n\r\n        var data = phaserJSON;\r\n        var survey_string = \"\";\r\n        var current_points = this.totalPoints;\r\n\r\n\r\n        //drawing order, initialize to zero\r\n        var drawing_order = [\"Brown Bear\", \"Grey Wolf\", \"Hare\", \"Reindeer\", \"Yeti\", \"Grey Husky\", \"Penguin\", \"Pingu, the Penguin\", \"Mountain goat\", \"Seal\", \"Ducks\", \"Snow\", \"Snow Bunting\", \"Snowy Owl\", \"Blue Jay\"];\r\n        var drawing_order_enabled = {};\r\n        for(var j=0; j < drawing_order.length; j++)\r\n            drawing_order_enabled[drawing_order[j]] = 0;\r\n\r\n\r\n        //\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points >= data[i].points){\r\n                drawing_order_enabled[data[i].name.valueOf()] = 1;\r\n            }\r\n        }\r\n        \r\n\r\n        for(var key in drawing_order_enabled) {\r\n\r\n            //means it is not included\r\n            if(drawing_order_enabled[key] == 0)\r\n                continue;\r\n\r\n\r\n            if(drawing_order_enabled[key] == 1){\r\n\r\n                //nemo\r\n                if(key === \"Penguin\")\r\n                    this.animatePenguin();\r\n\r\n                if(key === \"Seal\")\r\n                    this.animateSealion();\r\n\r\n                if(key === \"Grey Wolf\")\r\n                    this.animateWolf();\r\n\r\n                if(key === \"Brown Bear\")\r\n                    this.animateBear(); \r\n\r\n                if(key === \"Snow Bunting\")\r\n                    this.animateBirds();\r\n\r\n                if(key === \"Hare\")\r\n                    this.animateHare();\r\n\r\n                if(key === \"Pingu, the Penguin\")\r\n                    this.animatePingu();    \r\n\r\n                //if(data[i].name.valueOf() === \"Coyote\")\r\n                //    this.animateCoyote();                \r\n\r\n                //if(data[i].name.valueOf() === \"White Husky\")\r\n                //    this.animateWhiteHusky();  \r\n\r\n\r\n                if(key === \"Snow\")\r\n                   this.animateSnow();  \r\n\r\n\r\n                if(key === \"Grey Husky\")\r\n                    this.animateBrwonHusky();  \r\n\r\n                if(key === \"Yeti\")\r\n                    this.animateYeti();  \r\n\r\n                 \r\n\r\n                if(key === \"Reindeer\")\r\n                    this.animateReindeer();\r\n                \r\n                \r\n\r\n                if(key === \"Snowy Owl\")\r\n                    this.animateSnowOwl();\r\n\r\n\r\n                if(key === \"Ducks\")\r\n                    this.animateDuck();\r\n\r\n                if(key === \"Mountain goat\")\r\n                    this.animateMountainGoat();\r\n\r\n                if(key === \"Blue Jay\")\r\n                    this.animateBlueJay();\r\n\r\n               /* \r\n               if(data[i].name.valueOf() === \"Rabbit\")\r\n               this.animateRabbit();  \r\n               */\r\n\r\n            }\r\n        }\r\n        \r\n\r\n         //set the progres bar\r\n        this.previoous_fish_point = 0;\r\n        this.next_fish_point = 0;\r\n        for(var i = 0; i < data.length; i++) {\r\n            if(current_points < data[i].points){\r\n                this.next_fish_point = data[i].points;\r\n              break;\r\n            }else{\r\n                this.previoous_fish_point = data[i].points;\r\n            }\r\n        }\r\n\r\n        /*\r\n        this.progress_sprite = this.game.add.sprite(5, 40, 'timer', 0);\r\n        var rect = new Phaser.Rectangle(0, 0, 0, this.progress_sprite.height);\r\n        var percent = (current_points-previoous_fish_point)/(next_fish_point-previoous_fish_point);\r\n        console.log(\"\" + current_points + \",\" + previoous_fish_point + \",\" + next_fish_point + \",\" + percent);\r\n        rect.width = Math.max(0, percent * this.progress_sprite.width);\r\n\r\n        console.log(\"Width, \" + rect.width  + \",\" + this.progress_sprite.width);\r\n        this.progress_sprite.crop(rect);\r\n        */\r\n    }\r\n\r\n    animateSnow(){\r\n        //console.log(\"snow button loaded\");\r\n        this.snowgswitch = this.add.image(5, 70, 'snow_start');\r\n        this.snowgswitch.scale.setTo(0.6, 0.6);\r\n        this.snowgswitch.inputEnabled = true;\r\n        this.snowgswitch.events.onInputDown.addOnce(this.startsnowing, this);\r\n    }\r\n\r\n   \r\n\r\n    //-- Add Penguin\r\n    animatePenguin(){\r\n\r\n        console.log(\"Device pixel ratio is: \" + window.devicePixelRatio)\r\n\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        starting_pos_x = -15;\r\n        starting_pos_y = this.game.height - 145;\r\n        ending_pos_x = 45;\r\n        ending_pos_y = this.game.height - 105;\r\n        scale_x = 0.25;\r\n        scale_y = 0.25;\r\n\r\n        this.penguins = this.add.sprite(starting_pos_x, starting_pos_y, 'penguin');\r\n        this.penguins.anchor.setTo(.5,.5);\r\n        this.penguins.animations.add('swim2');\r\n        this.penguins.animations.play('swim2', 5, true);\r\n        this.penguins.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.penguins.name = \"pegions\";\r\n        var t = this.add.tween(this.penguins).to({ x: ending_pos_x, y: ending_pos_y}, 1000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.penguins.animations.stop(null, true);}, this);\r\n    }\r\n    \r\n    //-- Add sea lion\r\n    animateSealion(){\r\n\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        \r\n        \r\n        //---- sea lion silver\r\n        starting_pos_x = this.game.width+15;\r\n        starting_pos_y = this.game.height - 105;\r\n        ending_pos_x = this.game.width-65;\r\n        ending_pos_y = this.game.height - 105;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_silver');\r\n        this.sealion.anchor.setTo(.5,.5);\r\n        this.sealion.animations.add('swim2');\r\n        this.sealion.animations.play('swim2', 5, true);\r\n        this.sealion.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.sealion.name = \"sea_lion_silver\";\r\n        var t = this.add.tween(this.sealion).to({ x: ending_pos_x, y: ending_pos_y}, 3000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion.animations.stop(null, true);}, this);\r\n\r\n\r\n        //---- sea lion brown\r\n        starting_pos_x = this.game.width+25;\r\n        starting_pos_y = this.game.height - 125;\r\n        ending_pos_x = this.game.width-45;\r\n        ending_pos_y = this.game.height - 125;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion_brown = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_brown');\r\n        this.sealion_brown.anchor.setTo(.5,.5);\r\n        this.sealion_brown.animations.add('swim2');\r\n        this.sealion_brown.animations.play('swim2', 5, true);\r\n        this.sealion_brown.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.sealion_brown.name = \"sea_lion_brown\";\r\n        var t = this.add.tween(this.sealion_brown).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_brown.animations.stop(null, true);}, this);\r\n\r\n        //---- sea lion pink\r\n        starting_pos_x = this.game.width+125;\r\n        starting_pos_y = this.game.height - 85;\r\n        ending_pos_x = this.game.width-25;\r\n        ending_pos_y = this.game.height - 85;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.sealion_pink = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_pink');\r\n        this.sealion_pink.anchor.setTo(.5,.5);\r\n        this.sealion_pink.animations.add('swim2');\r\n        this.sealion_pink.animations.play('swim2', 5, true);\r\n        this.sealion_pink.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.sealion_pink.name = \"sea_lion_pink\";\r\n        var t = this.add.tween(this.sealion_pink).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_pink.animations.stop(null, true);}, this);\r\n\r\n    }\r\n\r\n    //\r\n    animateDuck(){\r\n        this.duck = this.add.sprite(this.game.width+15, this.game.height-20, 'duck');\r\n        this.duck.anchor.setTo(.5,.5);\r\n        this.duck.animations.add('swim2');\r\n        this.duck.animations.play('swim2', 3, true);\r\n        this.duck.scale.setTo(1, 1);\r\n        this.duck.name = \"duck\";\r\n        this.gobothways(this.duck);\r\n\r\n        this.duck2 = this.add.sprite(this.game.width+55, this.game.height-20, 'duck');\r\n        this.duck2.anchor.setTo(.5,.5);\r\n        this.duck2.animations.add('swim2');\r\n        this.duck2.animations.play('swim2', 3, true);\r\n        this.duck2.scale.setTo(1, 1);\r\n        this.duck2.name = \"duck2\";\r\n        this.gobothways(this.duck2);\r\n    }\r\n\r\n    animateBearCub(){\r\n        //console.log(\"snow button loaded\");\r\n        this.polarBearCub = this.add.sprite(this.game.width+15, this.game.height - 290, 'polar_bear_cub');\r\n        this.polarBearCub.anchor.setTo(.5,.5);\r\n        this.polarBearCub.animations.add('swim2');\r\n        this.polarBearCub.animations.play('swim2', 3, true);\r\n        this.polarBearCub.scale.setTo(-0.8, 0.8);\r\n        this.polarBearCub.name = \"polarBearCub\";\r\n        this.gobothways(this.polarBearCub);\r\n    }\r\n\r\n\r\n\r\n\r\n    //\r\n    animateSnowOwl(){\r\n        //\r\n        this.black_tundra_owl = this.add.sprite(this.game.width-130, 195, 'black_tundra_owl');\r\n        this.black_tundra_owl.anchor.setTo(.5,.5);\r\n        this.black_tundra_owl.animations.add('swim2');\r\n        this.black_tundra_owl.animations.play('swim2', 5, true);\r\n        this.black_tundra_owl.scale.setTo(0.9*this.scaleFactor, 0.9*this.scaleFactor);\r\n        this.black_tundra_owl.name = \"black_tundra_owl\";\r\n        this.gobothways(this.black_tundra_owl);\r\n\r\n\r\n        this.brown_tundra_owl = this.add.sprite(this.game.width-100, 200, 'brown_tundra_owl');\r\n        this.brown_tundra_owl.anchor.setTo(.5,.5);\r\n        this.brown_tundra_owl.animations.add('swim2');\r\n        this.brown_tundra_owl.animations.play('swim2', 5, true);\r\n        this.brown_tundra_owl.scale.setTo(0.9*this.scaleFactor, 0.9*this.scaleFactor);\r\n        this.brown_tundra_owl.name = \"brown_tundra_owl\";\r\n        this.gobothways(this.brown_tundra_owl);\r\n\r\n\r\n        this.grey_tundra_owl = this.add.sprite(this.game.width-160, 205, 'grey_tundra_owl');\r\n        this.grey_tundra_owl.anchor.setTo(.5,.5);\r\n        this.grey_tundra_owl.animations.add('swim2');\r\n        this.grey_tundra_owl.animations.play('swim2', 5, true);\r\n        this.grey_tundra_owl.scale.setTo(0.9*this.scaleFactor, 0.9*this.scaleFactor);\r\n        this.grey_tundra_owl.name = \"grey_tundra_owl\";\r\n        this.gobothways(this.grey_tundra_owl);\r\n\r\n        /*\r\n        this.light_brown_tundra_owl = this.add.sprite(this.game.width-170, 180, 'light_brown_tundra_owl');\r\n        this.light_brown_tundra_owl.anchor.setTo(.5,.5);\r\n        this.light_brown_tundra_owl.animations.add('swim2');\r\n        this.light_brown_tundra_owl.animations.play('swim2', 5, true);\r\n        this.light_brown_tundra_owl.scale.setTo(0.9, 0.9);\r\n        this.light_brown_tundra_owl.name = \"light_brown_tundra_owl\";\r\n        this.gobothways(this.light_brown_tundra_owl);\r\n        */\r\n\r\n        this.white_tundra_owl = this.add.sprite(this.game.width-200, 185, 'white_tundra_owl');\r\n        this.white_tundra_owl.anchor.setTo(.5,.5);\r\n        this.white_tundra_owl.animations.add('swim2');\r\n        this.white_tundra_owl.animations.play('swim2', 5, true);\r\n        this.white_tundra_owl.scale.setTo(0.9*this.scaleFactor, 0.9*this.scaleFactor);\r\n        this.white_tundra_owl.name = \"white_tundra_owl\";\r\n        this.gobothways(this.white_tundra_owl);\r\n\r\n    }\r\n\r\n    //\r\n    animateMountainGoat(){\r\n        var starting_pos_x, starting_pos_y, ending_pos_x, ending_pos_y, scale_x, scale_y;\r\n        \r\n        \r\n        //---- sea lion silver\r\n        starting_pos_x = this.game.width/2-60;\r\n        starting_pos_y = this.game.height - 185 + 30;\r\n        ending_pos_x = this.game.width/2-15;\r\n        ending_pos_y = this.game.height - 185 + 30;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.black_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'black_mountain_goat');\r\n        this.black_mountain_goat.anchor.setTo(.5,.5);\r\n        this.black_mountain_goat.animations.add('swim2');\r\n        this.black_mountain_goat.animations.play('swim2', 3, true);\r\n        this.black_mountain_goat.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.black_mountain_goat.name = \"black_mountain_goat\";\r\n        var t = this.add.tween(this.black_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 9000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.black_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n\r\n        starting_pos_x = this.game.width-10;\r\n        starting_pos_y = this.game.height - 205 + 40;\r\n        ending_pos_x = this.game.width/2+50;\r\n        ending_pos_y = this.game.height - 205 + 40;\r\n        scale_x = -1.5;\r\n        scale_y = 1.5;\r\n\r\n        this.white_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'white_mountain_goat');\r\n        this.white_mountain_goat.anchor.setTo(.5,.5);\r\n        this.white_mountain_goat.animations.add('swim2');\r\n        this.white_mountain_goat.animations.play('swim2', 3, true);\r\n        this.white_mountain_goat.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.white_mountain_goat.name = \"white_mountain_goat\";\r\n        t = this.add.tween(this.white_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 15000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.white_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n\r\n        starting_pos_x = this.game.width-10;\r\n        starting_pos_y = this.game.height - 175 + 40;\r\n        ending_pos_x = this.game.width/2+30;\r\n        ending_pos_y = this.game.height - 175 + 40;\r\n        scale_x = -1.2;\r\n        scale_y = 1.2;\r\n\r\n        this.brown_mountain_goat = this.add.sprite(starting_pos_x, starting_pos_y, 'brown_mountain_goat');\r\n        this.brown_mountain_goat.anchor.setTo(.5,.5);\r\n        this.brown_mountain_goat.animations.add('swim2');\r\n        this.brown_mountain_goat.animations.play('swim2', 3, true);\r\n        this.brown_mountain_goat.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.brown_mountain_goat.name = \"brown_mountain_goat\";\r\n        t = this.add.tween(this.brown_mountain_goat).to({ x: ending_pos_x, y: ending_pos_y}, 9000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.brown_mountain_goat.animations.stop(null, true);}, this);\r\n\r\n        /*\r\n        //---- sea lion brown\r\n        starting_pos_x = this.game.width+25;\r\n        starting_pos_y = this.game.height - 135;\r\n        ending_pos_x = this.game.width-45;\r\n        ending_pos_y = this.game.height - 135;\r\n        scale_x = 1.3;\r\n        scale_y = 1.3;\r\n\r\n        this.sealion_brown = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_brown');\r\n        this.sealion_brown.anchor.setTo(.5,.5);\r\n        this.sealion_brown.animations.add('swim2');\r\n        this.sealion_brown.animations.play('swim2', 5, true);\r\n        this.sealion_brown.scale.setTo(scale_x, scale_y);\r\n        this.sealion_brown.name = \"sea_lion_brown\";\r\n        var t = this.add.tween(this.sealion_brown).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_brown.animations.stop(null, true);}, this);\r\n\r\n        //---- sea lion pink\r\n        starting_pos_x = this.game.width+125;\r\n        starting_pos_y = this.game.height - 85;\r\n        ending_pos_x = this.game.width-25;\r\n        ending_pos_y = this.game.height - 85;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.sealion_pink = this.add.sprite(starting_pos_x, starting_pos_y, 'sea_lion_pink');\r\n        this.sealion_pink.anchor.setTo(.5,.5);\r\n        this.sealion_pink.animations.add('swim2');\r\n        this.sealion_pink.animations.play('swim2', 5, true);\r\n        this.sealion_pink.scale.setTo(scale_x, scale_y);\r\n        this.sealion_pink.name = \"sea_lion_pink\";\r\n        var t = this.add.tween(this.sealion_pink).to({x: ending_pos_x, y: ending_pos_y}, 5000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){this.sealion_pink.animations.stop(null, true);}, this);\r\n        */\r\n    }\r\n\r\n    //--- add wolf animation.\r\n    animateWolf(){\r\n\r\n        var starting_pos_x, starting_pos_y, scale_x, scale_y;\r\n\r\n        //---- wolf walk\r\n        starting_pos_x = this.game.width-100;\r\n        starting_pos_y = this.game.height-285;\r\n        scale_x = 0.8;\r\n        scale_y = 0.8;\r\n\r\n        this.wolf = this.add.sprite(starting_pos_x, starting_pos_y, 'wolf_walk');\r\n        //this.wolf = this.add.sprite(this.game.width+100, this.game.height-295, 'wolf_walk');\r\n        this.wolf.anchor.setTo(.5,.5);\r\n        this.wolf.animations.add('swim');\r\n        this.wolf.animations.play('swim', 3, true);\r\n        this.wolf.scale.setTo(scale_x*this.scaleFactor, scale_y*this.scaleFactor);\r\n        this.wolf.name = \"wolf\";\r\n        this.wolf.startingDirection = \"leftToRight\";\r\n        this.wolf.spriteFacesDirection = \"right\";\r\n        this.gobothways(this.wolf);\r\n    }\r\n\r\n    animateBear(){\r\n        this.brown_bear = this.add.sprite(-200, this.game.height-325, 'brown_bear');\r\n        this.brown_bear.anchor.setTo(.5,.5);\r\n        this.brown_bear.animations.add('swim');\r\n        this.brown_bear.animations.play('swim', 6, true);\r\n        this.brown_bear.scale.setTo(-.15*this.scaleFactor, .15*this.scaleFactor);\r\n        this.brown_bear.name = \"brown_bear\";\r\n        this.gobothways(this.brown_bear);\r\n\r\n        this.animateBearCub();\r\n    }\r\n\r\n    \r\n\r\n    //\r\n    animateBrwonHusky(){\r\n\r\n        this.white_husky = this.add.sprite(65, this.game.height - 205, 'white_husky');\r\n        this.white_husky.anchor.setTo(.5,.5);\r\n        this.white_husky.animations.add('swim2');\r\n        this.white_husky.animations.play('swim2',15, true);\r\n        this.white_husky.scale.setTo(0.35*this.scaleFactor, 0.35*this.scaleFactor);\r\n        this.white_husky.name = \"white_husky\";\r\n\r\n\r\n        this.white_husky = this.add.sprite(65, this.game.height - 175, 'grey_husky');\r\n        this.white_husky.anchor.setTo(.5,.5);\r\n        this.white_husky.animations.add('swim2');\r\n        this.white_husky.animations.play('swim2',15, true);\r\n        this.white_husky.scale.setTo(0.35*this.scaleFactor, 0.35*this.scaleFactor);\r\n        this.white_husky.name = \"grey_husky\";\r\n    }\r\n\r\n    //\r\n    animatePingu(){\r\n        this.pingu = this.add.sprite(105, this.game.height - 105, 'pingu');\r\n        this.pingu.anchor.setTo(.5,.5);\r\n        this.pingu.animations.add('swim2');\r\n        this.pingu.animations.play('swim2',4, true);\r\n        this.pingu.scale.setTo(0.35*this.scaleFactor, 0.35*this.scaleFactor);\r\n        this.pingu.name = \"pingu\";\r\n    }\r\n\r\n    \r\n\r\n    animateRabbit(){\r\n        this.rabbit = this.add.sprite(this.game.width+215, this.game.height-125, 'rabbit');\r\n        this.rabbit.anchor.setTo(.5,.5);\r\n        this.rabbit.animations.add('swim2');\r\n        this.rabbit.animations.play('swim2', 20, true);\r\n        this.rabbit.scale.setTo(-0.4, 0.4);\r\n        this.rabbit.name = \"rabbit\";\r\n        this.gobothways(this.rabbit);\r\n    }\r\n\r\n\r\n\r\n\r\n    //\r\n    animateHare(){\r\n        this.hare = this.add.sprite(this.game.width-115, this.game.height - 245, 'hare');\r\n        this.hare.anchor.setTo(.5,.5);\r\n        this.hare.animations.add('swim2');\r\n        this.hare.animations.play('swim2', 5, true);\r\n        this.hare.scale.setTo(0.4*this.scaleFactor, 0.4*this.scaleFactor);\r\n        this.hare.name = \"hare\";\r\n        this.hare.startingDirection = \"rightToLeft\";\r\n        this.hare.spriteFacesDirection = \"right\";\r\n        this.gobothways(this.hare);\r\n    }\r\n\r\n\r\n    //\r\n    animateReindeer(){\r\n        //this.reindeer = this.add.sprite(-115, this.game.height - 145, 'reindeer');\r\n        this.reindeer = this.add.sprite(-75, this.game.height - 230, 'reindeer');\r\n        this.reindeer.anchor.setTo(.5,.5);\r\n        this.reindeer.animations.add('swim2');\r\n        this.reindeer.animations.play('swim2', 5, true);\r\n        this.reindeer.scale.setTo(-0.12*this.scaleFactor, 0.12*this.scaleFactor);\r\n        this.reindeer.name = \"reindeer\";\r\n        this.gobothways(this.reindeer);\r\n    }\r\n\r\n\r\n    //\r\n    animateCoyote(){\r\n        this.coyote = this.add.sprite(-115, this.game.height - 225, 'coyote');\r\n        this.coyote.anchor.setTo(.5,.5);\r\n        this.coyote.animations.add('swim2');\r\n        this.coyote.animations.play('swim2', 5, true);\r\n        this.coyote.scale.setTo(-1*this.scaleFactor, 1*this.scaleFactor);\r\n        this.coyote.name = \"coyote\";\r\n        this.gobothways(this.coyote);\r\n    }\r\n\r\n\r\n    //\r\n    animateBirds(){\r\n        this.birds = this.add.sprite(-50, 95, 'bird_fly');\r\n        this.birds.anchor.setTo(.5,.5);\r\n        this.birds.animations.add('swim2');\r\n        this.birds.animations.play('swim2', 5, true);\r\n        this.birds.scale.setTo(-0.3, 0.3);\r\n        this.birds.name = \"birds\";\r\n        //this.pegions.body.velocity.x = -20;\r\n        this.gobothways(this.birds);\r\n    }\r\n\r\n    \r\n    //\r\n    animateBlueJay(){\r\n        this.blue_jay = this.add.sprite(this.game.width-50, 135, 'blue_jay');\r\n        this.blue_jay.anchor.setTo(.5,.5);\r\n        this.blue_jay.animations.add('swim2');\r\n        this.blue_jay.animations.play('swim2', 10, true);\r\n        this.blue_jay.scale.setTo(0.6*this.scaleFactor, 0.6*this.scaleFactor);\r\n        this.blue_jay.name = \"blue_jay\";\r\n        //this.pegions.body.velocity.x = -20;\r\n        this.gobothways(this.blue_jay);\r\n    }   \r\n\r\n    //\r\n    animateYeti(){\r\n        this.yeti = this.add.sprite(this.game.width-15, this.game.height - 190, 'yeti_walk');\r\n        this.yeti.anchor.setTo(.5,.5);\r\n        this.yeti.animations.add('swim2');\r\n        this.yeti.animations.play('swim2', 5, true);\r\n        this.yeti.scale.setTo(-0.5*this.scaleFactor, 0.5*this.scaleFactor);\r\n        this.yeti.name = \"yeti\";\r\n        var t = this.add.tween(this.yeti).to({ x: this.game.width-45, y: this.game.height - 205}, 2000, Phaser.Easing.Quadratic.InOut, true, 0);\r\n        t.onComplete.add(function(){\r\n            this.yeti.animations.stop(null, true);\r\n            this.yeti.loadTexture('yeti_standing', 0);\r\n            this.yeti.inputEnabled = true;\r\n            this.yeti.events.onInputDown.addOnce(this.changeYetiLaugh, this);\r\n        }, this);\r\n    }\r\n\r\n    changeYetiLaugh(){\r\n        console.log(\"changed to laugh\");\r\n        this.yeti.loadTexture('yeti_laugh', 0);\r\n        this.yeti.animations.add('swim');\r\n        this.yeti.animations.play('swim', 5, true);\r\n        this.yeti.events.onInputDown.addOnce(this.changeToStanding, this);\r\n    }\r\n\r\n    changeToStanding(){\r\n        console.log(\"changed to standing\");\r\n        this.yeti.loadTexture('yeti_standing', 0);\r\n        this.yeti.events.onInputDown.addOnce(this.changeYetiLaugh, this);\r\n    }\r\n\r\n\r\n    gobothways(b){\r\n\r\n        //console.log('reached: ' + \"gobothways\" + \" \" + b.name);\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        \r\n        var pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.game.height) || (pos_y < 70)){\r\n            pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.game.width){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, 17500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.game.width + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, 17500+Math.floor(this.rnd.realInRange(0, 5000)), Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n        //*/ \r\n\r\n\r\n        if((b.x >= 0) && (b.x <= this.game.width)){   \r\n            if(b.startingDirection == \"leftToRight\"){\r\n                if(b.spriteFacesDirection == \"left\"){\r\n                    //going \"leftToRight\", animalSprite is \"right facing\"\r\n                    b.scale.x = -1*b.scale.x;\r\n                }\r\n\r\n                var speedMultiplier = (this.game.width + 100 - b.x)/(this.game.width + 100 + 100);\r\n                X = this.game.width + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n                t = this.add.tween(b).to({ x: X, y: pos_y }, speedMultiplier*(17500+Math.floor(this.rnd.realInRange(0, 5000))), Phaser.Easing.Quadratic.InOut, true, 0);\r\n                t.onComplete.add(this.stopFish, this);\r\n            }else{\r\n                //going rightToLeft\r\n                if(b.spriteFacesDirection == \"right\"){ \r\n                    b.scale.x = -1*b.scale.x;\r\n                }\r\n                var speedMultiplier = (b.x + 100)/(this.game.width + 100 + 100);\r\n                X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n                t= this.add.tween(b).to({ x: X, y: pos_y}, speedMultiplier*17500, Phaser.Easing.Quadratic.InOut, true, 0);\r\n                t.onComplete.add(this.stopFish, this); \r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    stopFish(b) {\r\n        this.gobothways(b);\r\n    }\r\n\r\n    gobothways2(b,duration){\r\n\r\n        var change_amount = Math.floor(this.rnd.realInRange(0, 150));\r\n        if(Math.floor(this.rnd.realInRange(0, 10))==2)\r\n            change_amount = 3*change_amount;\r\n        var pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        while((pos_y > this.height) || (pos_y < 70)){\r\n            pos_y = b.y;// + Math.floor(this.rnd.realInRange(-1*change_amount, change_amount));\r\n        }\r\n\r\n        var t, X, Y;\r\n        if(b.x > this.CANVAS_WIDTH){ \r\n            //console.log('right to left, ' + b.x);\r\n            //b.scale.setTo(-0.4, 0.4);//b.scale.x * (-1);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = -100+Math.floor(this.rnd.realInRange(0, 50));//+Math.floor(this.rnd.realInRange(0, 50)); + Math.floor(this.rnd.realInRange(0, 2000))\r\n            t= this.add.tween(b).to({ x: X, y: pos_y}, duration, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this); \r\n        }\r\n\r\n        if(b.x < 0){\r\n            //console.log('left to right, ' + b.x);\r\n            b.scale.x = -1*b.scale.x;\r\n            X = this.CANVAS_WIDTH + 100 - Math.floor(this.rnd.realInRange(0, 50)); //+ Math.floor(this.rnd.realInRange(0, 2000))\r\n            t = this.add.tween(b).to({ x: X, y: pos_y }, duration, Phaser.Easing.Quadratic.InOut, true, 0);\r\n            t.onComplete.add(this.stopFish, this);\r\n        }\r\n        //*/\r\n\r\n       \r\n    }\r\n\r\n    \r\n\r\n    setTotalPoints(totalPoints){\r\n\t\tthis.totalPoints = totalPoints;\r\n    }  \r\n    \r\n    assignscope(componentObject){\r\n        this.componentObject = componentObject;\r\n    }\r\n\r\n    showunlockables(){\r\n        console.log('treasure box clicked');\r\n        this.componentObject.goToRewardsPage();\r\n    }\r\n\r\n    yourGamePausedFunc(){\r\n        console.log(\"Game paused\");\r\n        if(this.game.lockRender == false) \r\n            this.game.lockRender = true;\r\n    }\r\n\r\n    yourGameResumedFunc(){\r\n        console.log(\"Game resumed\");\r\n        if(this.game.lockRender == true) \r\n            this.game.lockRender = false;\r\n    }\r\n}\r\n","export class PreloaderTundraL51 extends Phaser.State {\r\n\t\r\n\tpreload(){\r\n\r\n\t\tconsole.log(\"Preload called\");\r\n\t\tthis.input.addPointer();\r\n\t\t\r\n\r\n\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\r\n\t\tthis.preloadBar = this.add.sprite(this.world.centerX, this.world.centerY, 'preloaderBar');\r\n\t\tthis.preloadBar.anchor.setTo(0.5, 0.5);\r\n\t\tthis.load.setPreloadSprite(this.preloadBar);\r\n        \r\n        //---- both aquariums\r\n        this.load.bitmapFont('eightbitwonder', 'assets/fonts/eightbitwonder.png', 'assets/fonts/eightbitwonder.fnt');\r\n\t\tthis.load.json('fishpoints', 'assets/game/fishpoints.json');//fish json, points\r\n\t\tthis.load.image('fish_progress', 'assets/game/sprite/fish_progress_s.png');\r\n\t\t\r\n\t\tthis.add.text(0, 0, \"hack\", {font:\"1px dumbo_regular\", fill:\"#FFFFFF\"});\r\n\t\t//this.load.spritesheet('timer', 'assets/game/sprite/timer.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer', 'assets/img/timer_red.png', 150, 20);\r\n\t\tthis.load.image('points_progress_2', 'assets/img/points_progress_2.png');\r\n\t\tthis.load.image('levels_progress', 'assets/img/levels_progress_2.png');\r\n\t\tthis.load.image('streak_info', 'assets/img/streak_info_2.png');\r\n\t\tthis.load.spritesheet('timer_grey', 'assets/img/timer_grey.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_yellow', 'assets/img/timer_yellow.png', 150, 20);\r\n\t\tthis.load.spritesheet('timer_pumpkin', 'assets/img/timer_pumpkin.png', 150, 20);\r\n\t\tthis.load.image('alt_icon', 'assets/img/heart.png');\r\n\t\tthis.load.image('next_fish_icon', 'assets/img/fish_icon_2.png');\r\n\t\tthis.load.image('meme_icon', 'assets/img/smiley_face.png');\r\n\t\tthis.load.spritesheet('level_up_progress', 'assets/img/level_up.png', 150, 20);\r\n\t\tthis.load.image('level_up_icon', 'assets/img/level_icon.png');\r\n\t\tthis.load.image('level_up_2', 'assets/img/level_up_2.png');\r\n\t\tthis.load.image('streak_green', 'assets/img/streak_green.png');\r\n\t\tthis.load.image('streak_red', 'assets/img/streak_red_2.png');\r\n\t\tthis.load.image('streak_grey', 'assets/img/streak_grey.png');\r\n\t\tthis.load.image('star_point', 'assets/img/star.png');\r\n\t\tthis.load.atlasJSONArray('info_sprite', 'assets/game/sprite/info_sprite.png', 'assets/game/sprite/info_sprite.json');\r\n\t\t\r\n\r\n\t\tthis.load.image('diamond', 'assets/img/diamond.png');\r\n\r\n\r\n\t\t//----\r\n\t\tvar next_fish = window.localStorage['next_fish'] || 'assets/img/aquarium_grey/clownfish.png';\r\n\t\tthis.load.image('clownfish_grey', next_fish);\r\n\r\n\r\n\t\tvar progressDisplay = 0;\r\n\t\tvar timerEvt = this.time.events.loop(100, function (){\r\n            if(this.load.progress < 100){\r\n            \tprogressDisplay++;\r\n                console.log('loading... '+(this.load.progress)+'%' + \"; \" + (100*progressDisplay));\r\n            }else{\r\n                //loadingText.text = 'Ready, Go!';\r\n                console.log('Ready, Go!');\r\n                this.time.events.remove(timerEvt);\r\n            }\r\n\r\n\t\t}, this);\r\n\r\n\t\t\r\n\r\n\t\t//this.game.load.image('tundra1','assets/pics/bg-tundra.png');\r\n\t\tthis.game.load.image('tundra1','assets/pics/bg-top-tundra.png');\r\n\t\tthis.load.image('titlescreen', 'assets/pics/bg-bottom-tundra.png'); \r\n        \r\n\t\tthis.game.load.atlasJSONArray('penguin', 'assets/game/sprite/penguin_sprite.png', 'assets/game/sprite/penguin_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_silver', 'assets/game/sprite/sea_lion_silver_sprite.png', 'assets/game/sprite/sea_lion_silver_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_brown', 'assets/game/sprite/sea_lion_brown_sprite.png', 'assets/game/sprite/sea_lion_brown_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('sea_lion_pink', 'assets/game/sprite/PinkSeal.png', 'assets/game/sprite/PinkSeal.json');\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('wolf_walk', 'assets/game/sprite/wolf_walk_sprite.png', 'assets/game/sprite/wolf_walk_sprite.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('bird_fly', 'assets/game/sprite/bird_tundra_sprite.png', 'assets/game/sprite/bird_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('blue_jay', 'assets/game/sprite/BlueJay.png', 'assets/game/sprite/BlueJay.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('hare', 'assets/game/sprite/hare_tundra_sprite.png', 'assets/game/sprite/hare_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('pingu', 'assets/game/sprite/pingu_tundra_sprite.png', 'assets/game/sprite/pingu_tundra_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('coyote', 'assets/game/sprite/coyote_tundra_sprite.png', 'assets/game/sprite/coyote_tundra_sprite.json');\r\n\t\t\r\n\t\t\r\n    \r\n        //\r\n        this.game.load.atlasJSONArray('grey_husky', 'assets/game/sprite/husky_grey_tundra_sprite.png', 'assets/game/sprite/husky_grey_tundra_sprite.json');\r\n        this.game.load.atlasJSONArray('white_husky', 'assets/game/sprite/husky_white_tundra_sprite.png', 'assets/game/sprite/husky_white_tundra_sprite.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('yeti_walk', 'assets/game/sprite/yeti_walk_sprite.png', 'assets/game/sprite/yeti_walk_sprite.json');\r\n\t\tthis.game.load.atlasJSONArray('yeti_laugh', 'assets/game/sprite/yeti_laugh_sprite.png', 'assets/game/sprite/yeti_laugh_sprite.json');\r\n\t\t\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('brown_bear', 'assets/game/sprite/brown_bear.png', 'assets/game/sprite/brown_bear.json');\r\n\t\tthis.game.load.atlasJSONArray('rabbit', 'assets/game/sprite/rabbit.png', 'assets/game/sprite/rabbit.json');\r\n\t\tthis.game.load.atlasJSONArray('reindeer', 'assets/game/sprite/reindeer.png', 'assets/game/sprite/reindeer.json');\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('duck', 'assets/game/sprite/Duck.png', 'assets/game/sprite/Duck.json');\r\n\t\tthis.game.load.atlasJSONArray('polar_bear_cub', 'assets/game/sprite/PolarBear.png', 'assets/game/sprite/PolarBear.json');\r\n\r\n\r\n\t\t//\r\n\t\tthis.game.load.atlasJSONArray('black_tundra_owl', 'assets/game/sprite/black_tundra_owl.png', 'assets/game/sprite/black_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('brown_tundra_owl', 'assets/game/sprite/brown_tundra_owl.png', 'assets/game/sprite/brown_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('grey_tundra_owl', 'assets/game/sprite/grey_tundra_owl.png', 'assets/game/sprite/grey_tundra_owl.json');\r\n\t\t//this.game.load.atlasJSONArray('light_brown_tundra_owl', 'assets/game/sprite/light_brown_tundra_owl.png', 'assets/game/sprite/light_brown_tundra_owl.json');\r\n\t\tthis.game.load.atlasJSONArray('white_tundra_owl', 'assets/game/sprite/white_tundra_owl.png', 'assets/game/sprite/white_tundra_owl.json');\r\n\r\n\r\n\t\t//mountain goat\r\n\t\tthis.game.load.atlasJSONArray('black_mountain_goat', 'assets/game/sprite/black_mountain_goat.png', 'assets/game/sprite/black_mountain_goat.json');\r\n\t\tthis.game.load.atlasJSONArray('brown_mountain_goat', 'assets/game/sprite/brown_mountain_goat.png', 'assets/game/sprite/brown_mountain_goat.json');\r\n\t\tthis.game.load.atlasJSONArray('white_mountain_goat', 'assets/game/sprite/white_mountain_goat.png', 'assets/game/sprite/white_mountain_goat.json');\r\n\r\n\r\n\t\t//\r\n\t\tthis.load.image('treasure_tundra', 'assets/img/tundra_treasure_chest.png');\r\n\r\n\t\t//\r\n\t\tthis.load.image('yeti_standing', 'assets/game/sprite/yeti_standing.png');\r\n\r\n\t\t//\r\n\t\t//this.load.image('snowgswitch', 'assets/img/snowglobe.png');\r\n\t\tthis.load.image('snow_start', 'assets/img/start_snow.png');\r\n\t\tthis.load.image('snow_end', 'assets/img/stop_snow.png');\r\n\r\n\t\t//\r\n\t\tthis.game.load.spritesheet('snowflakes', 'assets/game/sprite/snowflakes.png', 17, 17);\r\n\t\t//snowflakes.png\r\n\t}\r\n\r\n\tcreate(){\r\n\t\tconsole.log(\"Preloader: create called\");\r\n\t\tthis.preloadBar.cropEnabled = false;\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tconsole.log(\"update: \"+ 'TundraLevel2');\r\n\t\tthis.state.start('TundraLevel2');\r\n\t}\r\n\r\n\tonLoadComplete(){\r\n\t    console.log(\"Load complete\");\r\n\t    this.ready = true;\r\n\t}\r\n\r\n\t\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9hcXVhcml1bS9tb2RhbC11bmxvY2tlZC1wYWdlL21vZGFsLXVubG9ja2VkLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NavParams, ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\n\n@Component({\n  selector: 'app-modal-unlocked-page',\n  templateUrl: './modal-unlocked-page.component.html',\n  styleUrls: ['./modal-unlocked-page.component.scss'],\n})\nexport class ModalUnlockedPageComponent implements OnInit {\n\n  // Data passed in by componentProps\n  @Input() reinforcements: any;\n\n  constructor(navParams: NavParams, public modalCtrl: ModalController, private userProfileService: UserProfileService) {\n    // componentProps can also be accessed at construction time using NavParams\n    console.log(navParams.get('firstName'));\n    //this.reinforcements = [];//[{'img': \"assets/img/\" + \"nemo\" + '_tn.jpg', 'header': 'Nemo', 'text': \"Do you know the animators of \\\"Finding nemo\\\" studied dogs facial expressions and eyes to animate the fishes expressions?\"}];\n  }\n\n  ngOnInit() {\n\n  }\n\n \n  dismiss() {\n\n    //pass-data: https://ionicframework.com/docs/v3/api/components/modal/ModalController/\n    //let data = { 'foo': 'bar' };\n    //this.modalCtrl.dismiss(data);\n    this.modalCtrl.dismiss();\n\n  }\n\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL3ByZXZpZXdzL2Zpc2hib3dsL2Zpc2hib3dsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvYXF1YXJpdW0vcHJldmlld3MvZmlzaGJvd2wvZmlzaGJvd2wuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXctYmFja2dyb3VuZC1jb2xvcntcbiAgICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-fishbowl',\n  templateUrl: './fishbowl.component.html',\n  styleUrls: ['./fishbowl.component.css']\n})\nexport class FishbowlComponent implements OnInit {\n\n  constructor(private menuCtrl:MenuController) { }\n\n  ngOnInit() {\n    this.menuCtrl.close();\n  }\n\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL3ByZXZpZXdzL3JhaW5mb3Jlc3QvcmFpbmZvcmVzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL3ByZXZpZXdzL3JhaW5mb3Jlc3QvcmFpbmZvcmVzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { MenuController, NavController } from '@ionic/angular';\nimport { DemoAquariumComponent } from '../../demo-aquarium/demo-aquarium.component';\nimport { interval } from 'rxjs';\n\n\n@Component({\n  selector: 'app-rainforest',\n  templateUrl: './rainforest.component.html',\n  styleUrls: ['./rainforest.component.css']\n})\nexport class RainforestComponent implements OnInit, AfterViewInit {\n\n  @ViewChild(DemoAquariumComponent, {static: true}) child;\n  constructor(private menuCtrl:MenuController,\n    public navController: NavController) { \n  }\n\n  ngOnInit() {\n    this.menuCtrl.close();\n  }\n\n  goHome(){\n    /*\n    this.child.ionViewDidLeaveFunction();\n    // Create an Observable that will publish a value on an interval\n    const secondsCounter2 = interval(1000).subscribe(n =>{\n      console.log(`It's been ${n} seconds since subscribing!`);\n      secondsCounter2.unsubscribe();\n     \n    });\n    */\n    this.navController.navigateRoot(['/home']);\n  }\n\n  ionViewDidEnter() {\n    console.log(\"aqarium.ts --- ionViewDidEnter\");\n    //this.child.loadFunction();\n  }\n\n  ngAfterViewInit(){\n    /*\n    console.log(\"aqarium.ts --- ngAfterInit\");\n    console.log(\"aqarium.ts --- \" + this.child);\n    //this.child.loadFunction();\n\n    // Create an Observable that will publish a value on an interval\n    const secondsCounter = interval(1000).subscribe(n =>{\n      console.log(`It's been ${n} seconds since subscribing!`);\n      secondsCounter.unsubscribe();\n      this.child.loadFunction();\n    });\n    */\n    \n  }\n\n  \n\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL3ByZXZpZXdzL3NlYS9zZWEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9hcXVhcml1bS9wcmV2aWV3cy9zZWEvc2VhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA1NDg2O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-sea',\n  templateUrl: './sea.component.html',\n  styleUrls: ['./sea.component.css']\n})\nexport class SeaComponent implements OnInit {\n\n  constructor(private menuCtrl:MenuController) { }\n\n  ngOnInit() {\n    this.menuCtrl.close();\n  }\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL2FxdWFyaXVtL3ByZXZpZXdzL3R1bmRyYS90dW5kcmEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9hcXVhcml1bS9wcmV2aWV3cy90dW5kcmEvdHVuZHJhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA1NDg2O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-tundra',\n  templateUrl: './tundra.component.html',\n  styleUrls: ['./tundra.component.css']\n})\nexport class TundraComponent implements OnInit {\n\n  constructor(private menuCtrl:MenuController) { }\n\n  ngOnInit() {\n    this.menuCtrl.close();\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9hd2FyZC1hbHRydWlzbS9hd2FyZC1hbHRydWlzbS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { AwsS3Service } from 'src/app/storage/aws-s3.service';\nimport * as moment from 'moment';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-award-altruism',\n  templateUrl: './award-altruism.component.html',\n  styleUrls: ['./award-altruism.component.scss'],\n})\nexport class AwardAltruismComponent implements OnInit {\n\n  whichImage: string;\n  altruism_data: any;\n  date;\n  reinforcementObj = {};\n  reinforcement_data = {};\n  modalObjectNavigationExtras = {};\n  pageTitle = \" Award_Altruism\";\n\n  constructor(    \n    private route: ActivatedRoute, \n    private userProfileService: UserProfileService,\n    private awsS3Service: AwsS3Service,\n    private appUsageDb: DatabaseService,\n    private router: Router) { \n      this.reinforcementObj['ds'] = 1;\n      this.reinforcementObj['reward'] = 2;\n      this.reinforcementObj['reward_type'] = 'altruistic message';     \n    }\n\n  ngOnInit() {\n\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.date = this.router.getCurrentNavigation().extras.state.date;\n        this.reinforcementObj['prob'] = this.router.getCurrentNavigation().extras.state.prob;\n        this.reinforcement_data = this.router.getCurrentNavigation().extras.state.reinforcement_data;         \n        this.modalObjectNavigationExtras = this.router.getCurrentNavigation().extras.state.modalObjectNavigationExtras;\n        console.log(\"Inside AwardAltruism, date is: \" +this.date+\" prob is: \"+this.reinforcementObj['prob']);\n      }\n    }); \n  }\n\n  ngAfterViewInit() {\n    fetch('./assets/altruism/altruism_list.json').then(async res => {\n      this.altruism_data = await res.json();\n      this.showaltruism();\n    });\n\n  }\n\n  ionViewDidEnter(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n     if (rdy) {     \n       this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n     }\n   });\n   */\n   this.appUsageDb.saveAppUsageEnter(\"award_altruism_msg\"); \n }  \n \n ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    }); \n    */\n    this.appUsageDb.saveAppUsageExit(\"award_altruism_msg\");    \n  }\n\n  showaltruism(){\n    console.log('Altruism data: ' + JSON.stringify(this.altruism_data));\n    this.altruism_data = this.shuffle(this.altruism_data);\n    //console.log('Altruism images suffled: ' + JSON.stringify(this.altruism_data));\n    var picked_altruism_image = this.pick_altrusim(this.altruism_data);\n    //console.log('picked_altruism_image: ' + JSON.stringify(picked_altruism_image));\n\n    var already_shown = window.localStorage[\"already_shown_alt_msg4\"];\n    if(already_shown == undefined)\n        already_shown = {\n          \"last_updated\": Date.now(),\n          \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n          \"unlocked_alt_msgs\":[{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n        };\n    else\n        already_shown = JSON.parse(window.localStorage[\"already_shown_alt_msg4\"]);\n\n    console.log(\"already_shown: \" + already_shown);\n    already_shown[\"last_updated\"] = Date.now();\n    already_shown[\"last_updated_readable_ts\"] = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n    already_shown[\"unlocked_alt_msgs\"].push({\"filename\": \"assets/altruism/\"+picked_altruism_image[0][\"filename\"], \"unlock_date\": moment().format('MM/DD/YYYY')});\n    window.localStorage[\"already_shown_alt_msg4\"] = JSON.stringify(already_shown);\n\n\n\n    this.whichImage = \"./assets/altruism/\"+picked_altruism_image[0][\"filename\"];\n    this.reinforcementObj['reward_img_link'] = \"/altruism/\"+picked_altruism_image[0][\"filename\"];\n    this.reinforcement_data['reward_img_link'] = \"/altruism/\"+picked_altruism_image[0][\"filename\"];\n    setTimeout(e => this.drawImageOnCanvas(this.whichImage), 200);\n    \n  }\n  \n  ratingChanged(rating){\n    if(rating==0) {\n      console.log(\"thumbs down\");\n      this.reinforcementObj['Like'] = \"No\";\n      this.reinforcement_data['Like'] = \"No\";\n      window.localStorage.setItem(\"Like\", \"No\");\n      this.awsS3Service.upload('reinforcement_data', this.reinforcement_data); \n    } else {\n      console.log(\"thumbs up\");\n      this.reinforcementObj['Like'] = \"Yes\";\n      this.reinforcement_data['Like'] = \"Yes\";\n      window.localStorage.setItem(\"Like\", \"Yes\");\n      this.awsS3Service.upload('reinforcement_data', this.reinforcement_data); \n    }\n    this.userProfileService.addReinforcementData(this.date, this.reinforcementObj);\n    \n    let navigationExtras: NavigationExtras = {\n      state: {\n        modalObjectNavigationExtras: this.modalObjectNavigationExtras\n      }\n    };\n    this.router.navigate(['home'], navigationExtras);\n  }\n\n\n  /**\n    * Shuffles array in place if it is not already shuffled\n    * @param {Array} a items An array containing the items.\n  */\n  shuffle(a) {\n\n        if(window.localStorage['altruism_shuffle6'] == undefined){\n          //\n          var j: number, x: number, i: number;\n          for (i = a.length - 1; i > 0; i--) {\n              j = Math.floor(Math.random() * (i + 1));\n              x = a[i];\n              a[i] = a[j];\n              a[j] = x;\n          }\n          //\n          window.localStorage['altruism_shuffle6'] = JSON.stringify(a);\n          return a;\n        }else{\n          a  = JSON.parse(window.localStorage['altruism_shuffle6']);\n          return a;\n        }\n\n    }\n\n    /**\n     * Shuffles array in place if it is not already shuffled\n     * @param {Array} a items An array containing the items.\n    */\n    pick_altrusim(a) {\n        var picked_altruism = a.splice(0,1);\n        a.push(picked_altruism[0]);\n        window.localStorage['altruism_shuffle6'] = JSON.stringify(a);\n        return picked_altruism;\n    }\n\n    drawImageOnCanvas(imageF_file_path) {\n\n      /*\n      //\n      var imageObj = new Image();\n      imageObj.src = imageF_file_path;\n      \n      //\n      var drawingCanvas = <HTMLCanvasElement>document.getElementById(\"drawing_canvas\");\n      drawingCanvas.style.width = '100%';\n      drawingCanvas.width = drawingCanvas.offsetWidth;\n     \n      var ctx = drawingCanvas.getContext('2d');\n     \n      //\n      imageObj.onload = function () {\n        console.log(\"print: \" + (imageObj.height/imageObj.width));\n        drawingCanvas.height = Math.abs(drawingCanvas.width*(imageObj.height/imageObj.width));\n  \n        ctx.drawImage(imageObj, 0, 0, imageObj.width, imageObj.height, // source rectangle\n          0, 0, drawingCanvas.width, drawingCanvas.height); // destination rectangle\n  \n        //\n        \n      }\n      */\n      //this.HeartsBackground.initialize(drawingCanvas);\n      this.HeartsBackground.initialize();\n    }\n\n\n\n    HeartsBackground = {\n      heartHeight: 60,\n      heartWidth: 64,\n      hearts: [],\n      imageNames: ['valentinesheart.png','blueflower.png','yellowrose.png','redflower.png','yellowflower.png'],\n      heartImage: './assets/img/',\n      //heartImage: './assets/img/petal.png',\n      maxHearts: 60,\n      minScale: 0.4,\n      draw: function() {\n        //this.setCanvasSize();\n        this.ctx.clearRect(0, 0, this.w, this.h);\n        //console.log(\"Hearts draw function called\");\n        var ctx = this.ctx;\n        for (var i = 0; i < this.hearts.length; i++) {\n          var heart = this.hearts[i];\n          heart.image = new Image();\n          heart.image.style.height = heart.height;\n          heart.image.src = this.heartImage;\n          ctx.drawImage(heart.image, heart.x, heart.y, heart.width, heart.height);\n        }\n        this.move();\n      },\n      move: function() {\n        //console.log(\"Move function called\");\n        for(var b = 0; b < this.hearts.length; b++) {\n          var heart = this.hearts[b];\n          heart.y += heart.ys;\n          if(heart.y > this.h) {\n            //heart.x = Math.random() * this.w;\n            //heart.y = -1 * this.heartHeight;\n          }\n        }\n      },\n      angularDraw: function() {\n        //this.setCanvasSize();\n        this.ctx.clearRect(0, 0, this.w, this.h);\n        //console.log(\"Hearts draw function called\");\n        var ctx = this.ctx;\n        for (var i = 0; i < this.hearts.length; i++) {\n          \n          var heart = this.hearts[i];\n          /*\n          heart.image = new Image();\n          heart.image.style.height = heart.height;\n          heart.image.src = this.heartImage;\n          */\n          ctx.drawImage(heart.image, heart.angle_x, heart.angle_y, heart.width, heart.height);\n        }\n        this.angularMove();\n      },\n      angularMove: function() {\n        //console.log(\"Move function called\");\n        for(var b = 0; b < this.hearts.length; b++) {\n          var heart = this.hearts[b];\n          //heart.y += heart.ys;\n          //console.log(\"\" + heart.angle_x + \",\" + heart.angle_y);\n          //console.log(heart.angle);\n          //console.log(\"\" + heart.angle_x + \",\" + heart.angle_y + \", \" + heart.angle_deltax + \", \" + heart.angle_deltay);\n          heart.angle_x += heart.angle_deltax;\n          heart.angle_y += heart.angle_deltay;\n          //console.log(\"\" + heart.angle_x + \",\" + heart.angle_y);\n          if(heart.y > this.h) {\n            //heart.x = Math.random() * this.w;\n            //heart.y = -1 * this.heartHeight;\n          }\n        }\n      },\n      setCanvasSize: function() {\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight - 170;\n        console.log(\"Set canvas size function called\");\n        this.w = this.canvas.width;\n        this.h = this.canvas.height;\n      },\n      initialize: function() {\n        console.log(\"Initialize hearts\");\n        this.canvas = <HTMLCanvasElement>document.getElementById(\"hearts_canvas\"); //$('#canvas')[0]; hearts_canvas\n        if(!this.canvas.getContext)\n          return;\n  \n        this.setCanvasSize();\n        this.ctx = this.canvas.getContext('2d'); \n  \n        this.canvas.addEventListener(\"touchstart\",  function(event) {event.preventDefault()});\n        this.canvas.addEventListener(\"touchmove\",   function(event) {event.preventDefault()});\n        this.canvas.addEventListener(\"touchend\",    function(event) {event.preventDefault()});\n        this.canvas.addEventListener(\"touchcancel\", function(event) {event.preventDefault()});\n        // Attach an event handler to the document\n        //this.canvas.addEventListener(\"mousemove\",   function(event) {event.preventDefault()});\n    \n        for(var a = 0; a < this.maxHearts; a++) {\n          var scale = (Math.random() * (1 - this.minScale)) + this.minScale;\n          this.hearts.push({\n            x: Math.random() * this.w,\n            y: Math.random() * this.h,\n            ys: Math.random() + 8,\n            height: scale * this.heartHeight,\n            width: scale * this.heartWidth,\n            angle_x: this.w/2,\n            angle_y: this.h/2,\n            angle_deltax: this.getRandomArbitraryMoreThanX(-10,10,6),\n            angle_deltay: this.getRandomArbitraryMoreThanX(-10,10,6),\n            opacity: scale\n          });\n        }\n\n        \n    \n        //setInterval($.proxy(this.draw, this), 30);\n        //setTimeout(e => this.draw, 30);\n        //this.draw();\n        var intervalVar;\n        if(Math.random()>0.5){\n            //intervalVar = setInterval(e => this.angularDraw(), 30);\n            this.heartImage = this.heartImage + 'valentinesheart.png';\n        }else{\n            //intervalVar = setInterval(e => this.draw(), 30);\n            //choose an heart image everytime\n            const randomElement = this.imageNames[Math.floor(Math.random() * this.imageNames.length)];\n            this.heartImage = this.heartImage + randomElement;\n        }\n\n        var image = new Image();\n        image.src = this.heartImage;\n        var hearts = this.hearts;\n        var self_this = this;\n        image.onload = function () {\n          for(var a = 0; a < hearts.length; a++) {\n            hearts[a].image = image;\n            hearts[a].image.style.height = hearts[a].height;\n          }\n          intervalVar = setInterval(e => self_this.angularDraw(), 15);\n        }\n\n        setTimeout(e => this.stopInterval(intervalVar), 800);\n  \n      },\n      stopInterval(intervalVar) {\n        this.ctx.clearRect(0, 0, this.w, this.h);\n        clearInterval(intervalVar);\n      },\n      getRandomArbitrary(min, max) {\n        return Math.random() * (max - min) + min;\n      },\n      getRandomArbitraryMoreThanX(min, max, X) {\n        var rand_var =  this.getRandomArbitrary(min, max);\n        if(Math.abs(rand_var) < X){\n          if(rand_var < X)\n            return  rand_var-X;\n          if(rand_var > X)\n            return  rand_var+X;\n        }else{\n          return rand_var;\n        }\n      }\n    };\n\n}\n","module.exports = \"img {\\n  border: 2px solid black;\\n  top: 85px;\\n  position: absolute;\\n  width: 350px;\\n  margin: 5px;\\n}\\n\\n#container {\\n  position: relative;\\n}\\n\\n#link {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n}\\n\\n#drawing_canvas {\\n  position: absolute;\\n  margin: auto;\\n  width: 512px;\\n  height: 350px;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaW5jZW50aXZlL2F3YXJkLW1lbWVzL2F3YXJkLW1lbWVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9pbmNlbnRpdmUvYXdhcmQtbWVtZXMvYXdhcmQtbWVtZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1QkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtBQ0NKOztBREVBO0VBQ0csa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQ0NIOztBREdBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvYXdhcmQtbWVtZXMvYXdhcmQtbWVtZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcge1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOyBcbiAgICB0b3A6IDg1cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlOyAgICAgIFxuICAgIHdpZHRoOjM1MHB4O1xuICAgIG1hcmdpbjo1cHg7XG59XG5cbiNjb250YWluZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgICAgXG59XG5cbiNsaW5rIHtcbiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgIHRvcDogMTBweDtcbiAgIGxlZnQ6IDEwcHg7IFxufVxuXG5cbiNkcmF3aW5nX2NhbnZhcyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB3aWR0aDogNTEycHg7XG4gICAgaGVpZ2h0OiAzNTBweDtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG59IiwiaW1nIHtcbiAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XG4gIHRvcDogODVweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMzUwcHg7XG4gIG1hcmdpbjogNXB4O1xufVxuXG4jY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4jbGluayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMHB4O1xuICBsZWZ0OiAxMHB4O1xufVxuXG4jZHJhd2luZ19jYW52YXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogYXV0bztcbiAgd2lkdGg6IDUxMnB4O1xuICBoZWlnaHQ6IDM1MHB4O1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { AwsS3Service } from 'src/app/storage/aws-s3.service';\nimport * as moment from 'moment';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-award-memes',\n  templateUrl: './award-memes.component.html',\n  styleUrls: ['./award-memes.component.scss'],\n})\n\n//declare let confetti: any;\n\nexport class AwardMemesComponent implements OnInit {\n\n  whichImage: string;\n  meme_data: any;\n  date;\n  reinforcementObj = {};\n  reinforcement_data = {};\n  pageTitle = \" Award_Meme\";\n\n  viewWidth = 512;\n  viewHeight = 350;\n  ctx;\n  timeStep = (1/60);\n  modalObjectNavigationExtras = {};\n\n\n  //src=\"{{whichImage}}\"\n  constructor(\n    private route: ActivatedRoute,   \n    private userProfileService: UserProfileService,  \n    private awsS3Service: AwsS3Service,\n    private appUsageDb: DatabaseService,\n    private router: Router) {\n      this.reinforcementObj['ds'] = 1;\n      this.reinforcementObj['reward'] = 1;\n      this.reinforcementObj['reward_type'] = 'meme';\n\n         \n    }\n\n  ngOnInit() {\n \n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.date = this.router.getCurrentNavigation().extras.state.date;\n        this.reinforcementObj['prob'] = this.router.getCurrentNavigation().extras.state.prob;\n        this.reinforcement_data = this.router.getCurrentNavigation().extras.state.reinforcement_data;\n        this.modalObjectNavigationExtras = this.router.getCurrentNavigation().extras.state.modalObjectNavigationExtras;\n        console.log(\"Inside AwardMemes, date is: \" +this.date+\" prob is: \"+this.reinforcementObj['prob']);\n      }\n    }); \n    \n  }\n  \n\n  ngAfterViewInit() {\n\n    //var randomInt = Math.floor(Math.random() * 5) + 1;\n    //this.whichImage = \"./assets/memes/\"+randomInt+\".jpg\";\n    //console.log('Reading local json files: ' + this.fileLink);\n    fetch('./assets/memes/memefile.json').then(async res => {\n      this.meme_data = await res.json();\n      this.showmemes();\n    });   \n  }\n\n  ionViewDidEnter(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n     if (rdy) {     \n       this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n     }\n    });\n    */\n    this.appUsageDb.saveAppUsageEnter(\"award_meme\");  \n  }  \n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    this.appUsageDb.saveAppUsageExit(\"award_meme\");     \n  }\n\n\n  showmemes(){\n    //window.localStorage['meme_shuffle5'] = \"[]\";\n    //var randomInt = Math.floor(Math.random() * this.meme_data.length);\n    //this.whichImage = \"./assets/memes/\"+this.meme_data[randomInt][\"filename\"];\n    //console.log('Meme data: ' + JSON.stringify(this.meme_data));\n    this.meme_data = this.shuffle(this.meme_data);\n    //console.log('Meme suffled: ' + JSON.stringify(this.meme_data));\n    var picked_meme = this.pick_meme(this.meme_data);\n    \n    var already_shown = window.localStorage[\"already_shown_memes4\"];\n    if(already_shown == undefined)\n        already_shown = {\n          \"last_updated\": Date.now(),\n          \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n          \"unlocked_memes\":[{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n        };\n    else\n        already_shown = JSON.parse(window.localStorage[\"already_shown_memes4\"]);\n\n    console.log(\"already_shown: \" + already_shown);\n    already_shown[\"last_updated\"] = Date.now();\n    already_shown[\"last_updated_readable_ts\"] = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n    already_shown[\"unlocked_memes\"].push({\"filename\": \"assets/memes/\"+picked_meme[0][\"filename\"], \"unlock_date\": moment().format('MM/DD/YYYY')});\n    window.localStorage[\"already_shown_memes4\"] = JSON.stringify(already_shown);\n\n\n    this.whichImage = \"./assets/memes/\"+picked_meme[0][\"filename\"];\n    this.reinforcementObj['reward_img_link'] = \"/memes/\"+picked_meme[0][\"filename\"];\n    this.reinforcement_data['reward_img_link'] = \"/memes/\"+picked_meme[0][\"filename\"];\n    setTimeout(e => this.drawImageOnCanvas(this.whichImage), 200);\n  }\n  \n  ratingChanged(rating){\n    if(rating==0) {\n      //console.log(\"thumbs down\");\n      this.reinforcementObj['Like'] = \"No\";\n      this.reinforcement_data['Like'] = \"No\";\n      window.localStorage.setItem(\"Like\", \"No\");\n      this.awsS3Service.upload('reinforcement_data', this.reinforcement_data); \n    } else {\n      //console.log(\"thumbs up\");\n      this.reinforcementObj['Like'] = \"Yes\";\n      this.reinforcement_data['Like'] = \"Yes\";\n      window.localStorage.setItem(\"Like\", \"Yes\");\n      this.awsS3Service.upload('reinforcement_data', this.reinforcement_data); \n    }\n    \n    this.userProfileService.addReinforcementData(this.date, this.reinforcementObj);\n    \n    let navigationExtras: NavigationExtras = {\n      state: {\n        modalObjectNavigationExtras: this.modalObjectNavigationExtras\n      }\n    };\n    this.router.navigate(['home'], navigationExtras);\n  }\n\n  /**\n   * Shuffles array in place if it is not already shuffled\n   * @param {Array} a items An array containing the items.\n  */\n  shuffle(a) {\n\n    //\n    //console.log(window.localStorage['meme_shuffle5']);\n    if(window.localStorage['meme_shuffle6'] == undefined){\n      //\n      var j: number, x: number, i: number;\n      for (i = a.length - 1; i > 0; i--) {\n          j = Math.floor(Math.random() * (i + 1));\n          x = a[i];\n          a[i] = a[j];\n          a[j] = x;\n          //console.log(JSON.stringify(a[i][0]) + \",\" + JSON.stringify(a[j][0]));\n          //console.log('Meme data: ' + i + \", \" + JSON.stringify(a));\n      }\n      //\n      window.localStorage['meme_shuffle6'] = JSON.stringify(a);\n      return a;\n    }else{\n      a  = JSON.parse(window.localStorage['meme_shuffle6']);\n      return a;\n    }\n\n  }\n\n  /**\n   * Shuffles array in place if it is not already shuffled\n   * @param {Array} a items An array containing the items.\n  */\n  pick_meme(a) {\n      var picked_meme = a.splice(0,1);\n      a.push(picked_meme[0]);\n      window.localStorage['meme_shuffle6'] = JSON.stringify(a);\n      return picked_meme;\n  }\n\n\n  //\n  initDrawingCanvas() {\n    /*\n    this.drawingCanvas.style.width = '100%';\n    this.drawingCanvas.width = this.drawingCanvas.offsetWidth;\n    this.drawingCanvas.style.height = '90%';\n    this.ctx = this.drawingCanvas.getContext('2d');\n    */\n\n    //createLoader();\n    //createExploader();\n    //createParticles();\n  }\n\n  \n\n  drawImageOnCanvas(imageF_file_path) {\n\n    /*\n    //\n    var imageObj = new Image();\n    imageObj.src = imageF_file_path;\n    \n    //\n    var drawingCanvas = <HTMLCanvasElement>document.getElementById(\"drawing_canvas\");\n    drawingCanvas.style.width = '100%';\n    drawingCanvas.width = drawingCanvas.offsetWidth;\n   \n    var ctx = drawingCanvas.getContext('2d');\n   \n    //\n    imageObj.onload = function () {\n      console.log(\"print: \" + (imageObj.height/imageObj.width));\n      drawingCanvas.height = Math.abs(drawingCanvas.width*(imageObj.height/imageObj.width));\n\n      ctx.drawImage(imageObj, 0, 0, imageObj.width, imageObj.height, // source rectangle\n        0, 0, drawingCanvas.width, drawingCanvas.height); // destination rectangle\n\n      //\n      \n    }\n    */\n    //this.HeartsBackground.initialize(drawingCanvas);\n    this.drawConfetti();\n  }\n\n\n  //draws confetti \n  drawConfetti(){\n    var canvas = <HTMLCanvasElement>document.getElementById(\"hearts_canvas\"); //$('#canvas')[0]; hearts_canvas\n    //https://www.kirilv.com/canvas-confetti/\n    // you should  only initialize a canvas once, so save this function\n    // we'll save it to the canvas itself for the purpose of this demo\n\n    //@ts-ignore\n    canvas.confetti = canvas.confetti || confetti.create(canvas, { resize: true });\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight - 170;\n\n    /*\n    canvas.confetti({\n      angle: this.randomInRange(55, 125),\n      spread: this.randomInRange(50, 70),\n      particleCount: this.randomInRange(50, 100),\n      origin: { y: 0.6, x: 0.5 }\n    });\n    */\n   //\n   \n    if(Math.random()>0.5)\n        this.drawRealisticConfetti(canvas);\n    else\n        this.drawConfettiFireworks(canvas);\n  \n  }\n\n  drawConfettiFireworks(canvas){\n    var duration = 1 * 1200;\n    var animationEnd = Date.now() + duration;\n    var defaults = { startVelocity: 30, spread: 100, ticks: 60, zIndex: 0 };\n    \n    function randomInRange(min, max) {\n      return Math.random() * (max - min) + min;\n    }\n    \n    var interval = setInterval(function() {\n      var timeLeft = animationEnd - Date.now();\n    \n      if (timeLeft <= 0) {\n        return clearInterval(interval);\n      }\n    \n      var particleCount = 50 * (timeLeft / duration);\n      // since particles fall down, start a bit higher than random\n      canvas.confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.2, 0.4), y: Math.random() - 0.0}}));\n      canvas.confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.6, 0.8), y: Math.random() - 0.0}}));\n    }, 250);\n  }\n\n  drawConfettiVanillaDirection(canvas){\n    canvas.confetti({\n      particleCount: 100,\n      spread: 70,\n      origin: { y: 0.5, x: 0.5 }\n    });\n  }\n\n  drawConfettiRandomDirection(canvas){\n    canvas.confetti({\n      angle: this.randomInRange(55, 125),\n      spread: this.randomInRange(50, 70),\n      particleCount: this.randomInRange(50, 100),\n      origin: { y: 0.5, x: 0.5 }\n    });\n  }\n\n  drawRealisticConfetti(canvas){\n    this.confettiFire(0.25, {\n      spread: 26,\n      startVelocity: 100,\n    },canvas);\n    this.confettiFire(0.2, {\n      spread: 60,\n    },canvas);\n    this.confettiFire(0.35, {\n      spread: 100,\n      decay: 0.99,\n    },canvas);\n    this.confettiFire(0.1, {\n      spread: 120,\n      startVelocity: 100,\n      decay: 0.99,\n    },canvas);\n    this.confettiFire(0.1, {\n      spread: 120,\n      startVelocity: 100,\n    },canvas);\n\n    //\n    setTimeout(() => {\n      canvas.confetti.reset();\n    }, 1200);\n    \n  }\n\n  confettiFire(particleRatio, opts, canvas) {\n    var count = 200;\n    var defaults = {\n      origin: { y: 0.8 }\n    };\n    canvas.confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n  randomInRange(min, max) {\n    return Math.random() * (max - min) + min;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport * as moment from 'moment';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AwardDollarService {\n    \n    usersCurrentDollars;\n    users3DayStreakHistory;\n    \n    constructor(private userProfileService: UserProfileService) { \n    }\n    \n    \n    getCurrentlyEarnedDollars(){\n        /*\n        *  \n        *  load current dollar amount user earned from local storage, \n        *  and if \"undefined\" (i.e.,user likely didn't earn anything) then assign value to zero.\n        * \n        *  This function is called from dynamic-survey to update the current dollar amount.\n        * \n        */\n        \n        \n        if(window.localStorage['AwardDollar'] == undefined)\n            this.usersCurrentDollars = 0;\n        else\n            this.usersCurrentDollars = parseInt(window.localStorage['AwardDollar']);\n        \n        \n        return this.usersCurrentDollars;\n    }\n    \n    giveDollars(){\n        \n        /*\n        *  \n        * Called after survey is completed.\n        * Gives participants money, based on three cretia.\n        *  \n        * Returns the total amount user has currently earned in total amount.\n        * \n        */\n        \n        \n        var dailySurveyHistory = this.userProfileService.userProfile.survey_data.daily_survey;\n        \n        /*\n        *\n        * Scenario 1:\n        * \n        * If user completed survey on the first day of the study then reward 2 dollars.\n        *  \n        * Since this case can't include a 3-day streak or a pause, so return this current amount\n        * \n        */\n\n        //get the first date, by iterating through all dates and find the smallest one.\n        var firstDateSurveyIsCompleted = moment().format('YYYYMMDD');\n        var timestampeForFirstDataSurveyIsCompleted = moment(firstDateSurveyIsCompleted, \"YYYYMMDD\");\n        var timestampDateForASurveyCompleted;\n        for (var dateForASurveyCompleted in dailySurveyHistory) {\n            timestampDateForASurveyCompleted = moment(dateForASurveyCompleted,\"YYYYMMDD\");\n            if (timestampDateForASurveyCompleted < timestampeForFirstDataSurveyIsCompleted) {\n                firstDateSurveyIsCompleted = dateForASurveyCompleted;\n                timestampeForFirstDataSurveyIsCompleted = moment(firstDateSurveyIsCompleted,\"YYYYMMDD\");\n            }\n        }\n        \n        // If today is the first day then award 2 dollars for survey completion; \n        //  else load the last day, current amout user earned\n        var todaysDate = moment().format('YYYYMMDD');\n        if(todaysDate == firstDateSurveyIsCompleted){\n            this.usersCurrentDollars = 2;\n            //save the dollar ammount in local storage\n            window.localStorage.setItem(\"AwardDollar\", \"\"+this.usersCurrentDollars); \n            return this.usersCurrentDollars;\n        }else\n            this.usersCurrentDollars = parseInt(window.localStorage['AwardDollar']);\n        \n        \n\n\n        /*\n        *\n        * Scenario 2:\n        * \n        * If survey is paused, and user comes back after >= 14 days, then give then extra 2 dollars\n        * after they complete the survey.\n        * \n        */\n\n\n        //\n        // Get the dates when survey  is turned on. This only contains days\n        // that the survey on button was physically clicked.\n        //  \n        var onDatesSurveyIsTurnedOn = this.userProfileService.userProfileFixed.onDates;\n        //\n        // set the last date to today, if 'onDatesSurveyPauseStarted' are not empty, will set it \n        // to be the last date in 'onDatesSurveyPauseStarted'.\n        // \n        var maxDateInOnDatesSurveyIsTurnedOn = moment().format('YYYY-MM-DD');;\n        \n        var timestampForLastDate = moment(\"1970-01-01\", \"YYYY-MM-DD\");\n        var timestampDateFor_date;\n        for (var _date in onDatesSurveyIsTurnedOn) {\n            timestampDateFor_date = moment(_date,\"YYYY-MM-DD\");\n            if (timestampDateFor_date > timestampForLastDate) {\n                maxDateInOnDatesSurveyIsTurnedOn = _date;\n                timestampForLastDate = moment(maxDateInOnDatesSurveyIsTurnedOn, \"YYYY-MM-DD\");\n            }\n        }\n        \n        var day14BeforeToday = moment().subtract(14,\"days\").format(\"YYYY-MM-DD\");\n        var timestampDay14BeforeToday = moment(day14BeforeToday,\"YYYY-MM-DD\");\n        var timestampMaxDateInOnDatesSurveyIsTurnedOn = moment(maxDateInOnDatesSurveyIsTurnedOn,\"YYYY-MM-DD\");\n\n        // if 14-day before today is more than (i.e., after) timestampMaxDateInOnDatesSurveyIsTurnedOn\n        // then user has come back after 14 days.\n        if(timestampDay14BeforeToday.isAfter(timestampMaxDateInOnDatesSurveyIsTurnedOn)){\n            this.usersCurrentDollars = this.usersCurrentDollars + 2; \n            //save the dollar ammount in local storage\n            window.localStorage.setItem(\"AwardDollar\", \"\"+this.usersCurrentDollars); \n            return this.usersCurrentDollars;\n        }\n\n\n\n        /*\n        *\n        * Scenario 3:\n        * \n        * Give money for  a three-day streak of survey completion, that does not include\n        * scenario 1 and 2. (Ideally scenario 1,2,3 are mutually exclusive).\n        * \n        */\n\n        \n        \n        this.users3DayStreakHistory = window.localStorage[\"AwardDollarDates\"];\n\n\n        if((this.users3DayStreakHistory == undefined) || (JSON.parse(this.users3DayStreakHistory) == null)){\n            /*\n            * Means, no history exist for 3-day, so start a streak with the current date.\n            */\n            this.users3DayStreakHistory = {};\n            this.users3DayStreakHistory['dates'] = [moment().format(\"DD-MM-YYYY\")];      \n            window.localStorage.setItem(\"AwardDollarDates\", JSON.stringify(this.users3DayStreakHistory));\n\n        } else { \n            this.users3DayStreakHistory = JSON.parse(window.localStorage[\"AwardDollarDates\"]);\n            if(this.users3DayStreakHistory['dates'].length < 2) {\n                \n                /*\n                 * see if previous date exist in the current 'users3DayStreakHistory'\n                 * If not then clean 'users3DayStreakHistory' and start a new streak.\n                 */\n                var previousDate = moment().subtract(1, \"days\").format(\"DD-MM-YYYY\");\n                var dates = this.users3DayStreakHistory[\"dates\"];\n                var dateIndex = dates.indexOf(previousDate);\n                \n                \n                if( dateIndex > -1) {\n                    //previous date exist, we will pushing the current date and extend the streak.\n                    this.users3DayStreakHistory['dates'].push(moment().format(\"DD-MM-YYYY\"));\n                } else {\n                    // if the date saved is not the previous day of today, remove it \n                    // save current date to users3DayStreakHistory. This means a new streak has started.\n                    this.users3DayStreakHistory['dates'] = [moment().format(\"DD-MM-YYYY\")];          \n                }\n                window.localStorage.setItem(\"AwardDollarDates\", JSON.stringify(this.users3DayStreakHistory));\n\n                // no money here now since the streak length it most 2 here. \n\n            } else {\n                \n                /*\n                 * see if previous date exist in the current 'users3DayStreakHistory'\n                 * If not then clean 'users3DayStreakHistory' and start a new streak.\n                 */\n                var previousDate = moment().subtract(1, \"days\").format(\"DD-MM-YYYY\");\n                var dates = this.users3DayStreakHistory[\"dates\"];\n                var dateIndex = dates.indexOf(previousDate);\n                \n                if( dateIndex > -1 ) {\n                    //means a streak has been completed, so award one dollar, remove all dates\n                    this.usersCurrentDollars = this.usersCurrentDollars + 1;\n                    //empty users3DayStreakHistory by making it null, and we will start a new streak.\n                    window.localStorage.removeItem('AwardDollarDates'); \n                } else {\n                    //the previous day is not in the array, means that we must have skipped the previous day,\n                    //Save current date to AwardDollarDates to start a new streak.\n                    this.users3DayStreakHistory['dates'] = [moment().format(\"DD-MM-YYYY\")];          \n                    window.localStorage.setItem(\"AwardDollarDates\", JSON.stringify(this.users3DayStreakHistory));\n                }\n                \n            }\n            \n        }    \n        \n        //save the dollar ammount in local storage\n        window.localStorage.setItem(\"AwardDollar\", \"\"+this.usersCurrentDollars);    \n        \n        return this.usersCurrentDollars;\n    }\n}\n","import {createAction, props} from '@ngrx/store';\nimport { UnlockedIncentives } from './model/unlocked-incentives';\n\n\nexport const surveyCompletedRegisterUnlocked = createAction(\n    \"[Survey Page] Survey Completed. Register Unlocked.\",\n    props<{payload: Object}>()\n);\n\nexport const unlockedScreenShownAlready = createAction(\n    \"[Main Page] Survey already shown.\",\n    props<{isUnlockedScreenShown: boolean}>()\n);","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\n//import { AwardComponent } from './award/award.component';\nimport { AwardMemesComponent } from './award-memes/award-memes.component';\n//import { VisualizationComponent } from './visualization/visualization.component';\n//import { DemoAquariumComponent } from './aquarium/demo-aquarium/demo-aquarium.component';\n//import { SurveyModule } from '../survey/survey.module';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DemoAquariumComponent } from './aquarium/demo-aquarium/demo-aquarium.component';\nimport { TreasurechestComponent } from './treasurechest/treasurechest.component';\nimport { AwardAltruismComponent } from './award-altruism/award-altruism.component';\nimport { ModalUnlockedPageComponent } from './aquarium/modal-unlocked-page/modal-unlocked-page.component';\nimport { InfoPageComponent } from './info-page/info-page.component';\nimport { StoreModule } from '@ngrx/store';\nimport {incentiveReducer} from './reducers';\nimport { UnlockedMemesComponent } from './unlocked-memes/unlocked-memes.component';\nimport { UnlockedAltuisticMessagesComponent } from './unlocked-altuistic-messages/unlocked-altuistic-messages.component';\nimport { FishbowlComponent } from './aquarium/previews/fishbowl/fishbowl.component';\nimport { SeaComponent } from './aquarium/previews/sea/sea.component';\nimport { TundraComponent } from './aquarium/previews/tundra/tundra.component';\nimport { UnlockedInspirationalQuotesComponent } from './unlocked-inspirational-quotes/unlocked-inspirational-quotes.component';\n\nconst routes: Routes = [\n//  { path: 'award', component: AwardComponent },\n  { path: 'award-memes', component: AwardMemesComponent },\n//  { path: 'visualization', component: VisualizationComponent }\n];\n\n@NgModule({\n  declarations: [AwardMemesComponent, AwardAltruismComponent, TreasurechestComponent, ModalUnlockedPageComponent,InfoPageComponent, UnlockedMemesComponent, UnlockedAltuisticMessagesComponent, FishbowlComponent, SeaComponent, TundraComponent, UnlockedInspirationalQuotesComponent],\n  imports: [\n    CommonModule,\n    IonicModule.forRoot(),\n    RouterModule.forChild(routes),\n    StoreModule.forFeature('incentive', incentiveReducer)\n  ],\n  exports:[\n    //AwardComponent, \n    AwardMemesComponent, \n    AwardAltruismComponent\n    //VisualizationComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  entryComponents: [ModalUnlockedPageComponent]\n})\nexport class IncentiveModule { }\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\nimport { UnlockecIncentiveState } from './reducers';\nimport * as moment from 'moment';\n\n\n\nexport const selectAuthState =\n    createFeatureSelector<UnlockecIncentiveState>(\"incentive\");\n\n\nexport const isIncentivesUnlockedForTheDay = createSelector(\n    selectAuthState,\n    incentive =>  {\n        var currentDate = moment().format('YYYYMMDD');\n        if(incentive[\"timeline\"] == undefined)\n            return undefined;\n        else if(currentDate in incentive[\"timeline\"])\n            return  incentive[\"timeline\"][currentDate];\n        else\n            return undefined;\n    }\n);\n","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaW5jZW50aXZlL2luZm8tcGFnZS9pbmZvLXBhZ2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2luY2VudGl2ZS9pbmZvLXBhZ2UvaW5mby1wYWdlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9pbmZvLXBhZ2UvaW5mby1wYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-info-page',\n  templateUrl: './info-page.component.html',\n  styleUrls: ['./info-page.component.scss'],\n})\nexport class InfoPageComponent implements OnInit {\n\n  constructor(private menuCtrl:MenuController,\n    private appUsageDb: DatabaseService) { }\n\n  ngOnInit() {\n    this.menuCtrl.close();\n  }\n\n  ionViewDidEnter(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n     if (rdy) {     \n       this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n     }\n    });\n    */\n    this.appUsageDb.saveAppUsageEnter(\"reward_info_page\");  \n  }  \n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    this.appUsageDb.saveAppUsageExit(\"reward_info_page\");     \n  }\n\n}\n","\n/* \n    The profile for questions is stored in /assets/data/life_insight.json\n*/\n\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { Q1MotivatedComponent } from './q1-motivated/q1-motivated.component';\nimport { SampleLifeInsightsComponent } from './sample-life-insights/sample-life-insights.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nconst routes: Routes = [\n    { path: 'sample-life-insights', component: SampleLifeInsightsComponent }\n];\n\n@NgModule({\n  declarations: [Q1MotivatedComponent,SampleLifeInsightsComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule.forRoot(),\n    RouterModule.forChild(routes)\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  exports:[Q1MotivatedComponent,SampleLifeInsightsComponent]\n})\nexport class LifeInsightsModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9saWZlLWluc2lnaHRzL3ExLW1vdGl2YXRlZC9xMS1tb3RpdmF0ZWQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ViewChild, ElementRef, Input } from '@angular/core';\nimport { Chart } from 'chart.js';\n\n\n@Component({\n  selector: 'app-q1-motivated',\n  templateUrl: './q1-motivated.component.html',\n  styleUrls: ['./q1-motivated.component.scss'],\n})\nexport class Q1MotivatedComponent implements OnInit {\n\n  @ViewChild('lineCanvas', {static: true}) lineCanvas: ElementRef<HTMLDivElement>;\n  //@Input() inputStr : string;\n  //@Input() jsonObj : any;\n  private _jsonObj: any;\n\n  //jsonObj;\n\n  imgloc;\n  title;\n  subtext;\n  bottomSubtext;\n  topSubtext;\n  question;\n  data;\n  options;\n  labels;\n  qYaxis;\n\n\n  private lineChart: Chart;\n\n  constructor() {          \n  }\n\n  get jsonObj(): any {\n    // transform value for display\n    return this._jsonObj;\n  }\n  \n  @Input()\n  set jsonObj(jsonObj: any) {\n    console.log('prev _jsonObj: ', this._jsonObj);\n    console.log('got jsonObj: ', jsonObj);\n    this._jsonObj = jsonObj;\n  }\n\n  ngOnInit(){\n\n    //console.log(this.inputStr);\n    //this.jsonObj = JSON.parse(this.inputStr);\n    console.log(\"Q1MotivatedComponent \"+JSON.stringify(this._jsonObj));\n    this.imgloc = this._jsonObj.imgloc;\n    this.title = this._jsonObj.title;\n    this.subtext = this._jsonObj.subtext;\n    this.topSubtext = this._jsonObj.topSubtext;\n    this.bottomSubtext = this._jsonObj.bottomSubtext;\n    this.question =this._jsonObj.question;\n    this.data = this._jsonObj.data;  \n    this.labels = this._jsonObj.labels;\n    this.qYaxis = this._jsonObj.qYaxis;\n\n\n\n    this.lineChart = new Chart(this.lineCanvas.nativeElement, {\n      type: \"line\",\n      data: {\n        labels: this.labels,  //[\"9/13\", \"9/14\", \"9/15\", \"9/16\", \"9/17\", \"9/18\", \"Today\"], //x-label\n        datasets: [\n          {\n            label: \"My First dataset\",\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: \"rgba(75,192,192,0.4)\",\n            borderColor: \"rgba(75,192,192,1)\",\n            borderCapStyle: \"butt\",\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: \"miter\",\n            pointBorderColor: \"rgba(75,192,192,1)\",\n            pointBackgroundColor: \"rgba(75,192,192,1)\",\n            pointBorderWidth: 1,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\n            pointHoverBorderWidth: 2,\n            pointRadius: 4,\n            pointHitRadius: 10,\n            data: this.data, //y-label\n            spanGaps: false\n          }\n        ]\n      },\n      options: {\n        tooltips: {enabled: false},\n        hover: {mode: null},\n        legend: {\n            display: false\n        },\n        maintainAspectRatio: false,\n        layout: {\n          padding: {\n              left: 5,\n              right: 5,\n              top: 15,\n              bottom: 5\n          }\n        },\n        scales: {\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: this.qYaxis,\n              fontColor: \"#000\"\n            },\n            ticks: {\n              max: 4,\n              min: 0,\n              stepSize: 1,\n              display: true\n            }\n          }],\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'Day',\n              fontColor: \"#000\"\n            }\n          }],\n        }\n      }\n    });\n  }\n\n\n  /*\n  {\n    this.options = {\n      chart: {\n        type: 'lineChart',\n        useInteractiveGuideline: true,\n        height: 450,\n        transitionDuration: 350,\n        showLegend: false,\n        margin: {\n          top: 20,\n          right: 20,\n          bottom: 40,\n          left: 55\n        },\n        x: (d) => { return d.x; },\n        y: (d) => { return d.y; },\n        xScale: d3.time.scale(),\n        xAxis: {\n          ticks: d3.time.months,\n          tickFormat: (d) => {\n              return d3.time.format('%b')(new Date(d));\n          }\n        },\n        yAxis: {\n          axisLabel: 'Gross volume',\n          tickFormat: (d) => {\n              if (d == null) {\n                  return 0;\n              }\n              return d3.format('.02f')(d);\n          },\n          axisLabelDistance: 400\n        }\n      }\n    }\n\n    this.data = [\n      {\n        key: \"Cumulative Return\",\n        values: [\n          {\n            \"label\" : \"A\" ,\n            \"value\" : -29.765957771107\n          } ,\n          {\n            \"label\" : \"B\" ,\n            \"value\" : 0\n          } ,\n          {\n            \"label\" : \"C\" ,\n            \"value\" : 32.807804682612\n          } ,\n        ]\n      }\n    ];\n  }\n  */\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS9saWZlLWluc2lnaHRzL3NhbXBsZS1saWZlLWluc2lnaHRzL3NhbXBsZS1saWZlLWluc2lnaHRzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Chart } from 'chart.js';\nimport * as moment from 'moment';\n\n//import * as lifeInsightProfile from \"../../../../assets/data/life_insight.json\";\n//import { PreLoad } from '../../../PreLoad';\n\n@Component({\n  selector: 'app-sample-life-insights',\n  templateUrl: './sample-life-insights.component.html',\n  styleUrls: ['./sample-life-insights.component.scss'],\n})\n\n//@PreLoad('q1lifeinsight')\nexport class SampleLifeInsightsComponent implements OnInit {\n\n  @ViewChild('lineCanvas', {static: true}) lineCanvas: ElementRef<HTMLDivElement>;\n  //@Input() jsonObj : any;\n  //private _jsonObj: any;\n\n  //jsonObj;\n\n  imgloc;\n  title;\n  subtext;\n  bottomSubtext;\n  topSubtext;\n  question;\n  data;\n  options;\n  labels;\n  qYaxis;\n\n  qYaxisArray;\n  index = 0;\n  //inputJson = {};\n  selectedValue;\n  \n\n\n  private lineChart: Chart;\n\n  constructor() {          \n  }\n\n/*   get jsonObj(): any {\n    // transform value for display\n    return this._jsonObj;\n  }\n  \n  @Input()\n  set jsonObj(jsonObj: any) {\n    console.log('prev _jsonObj: ', this._jsonObj);\n    console.log('got jsonObj: ', jsonObj);\n    this._jsonObj = jsonObj;\n  } */\n\n  ngOnInit(){\n    this.init(this.index);\n\n  }\n\n  init(index: number){\n    //console.log(this.inputStr);\n    //this.jsonObj = JSON.parse(this.inputStr);\n\n      var lifeInsightProfile = {\n        \"questions\":[\"Q3d\",\"Q4d\",\"Q5d\",\"Q8d\"],\n        \"qimgs\": [\"assets/img/stress.png\",\"assets/img/freetime.png\",\"assets/img/dance2.png\",\"assets/img/social.png\"],\n        \"lifeInsightsTitle\": [\"How much <b>pain</b> are you currently experiencing?\", \n            \"How much <b>fatigue</b> are you currently experiencing?\", \n            \"How much <b>nausea</b> are you currently experiencing?\", \n            \"How <b>motivated</b> are you to take 6MP today?\"],\n        \"qYaxis\": [\"Pain level\",\"Fatigue level\",\"Nausea level\",\"Degree of motivation\"],\n        \"qSubText\": [\"0 = low pain, 4 = severe pain\", \n                \"0 = low fatigue, 4 = severe fatigue\",\n                \"0 = low nausea, 4 = severe nausea\",\n                \"0 = less motivated, 4 = highly motivated\"],\n        \"lifeInsightsHighStress\": [\n            \"Stressed <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\", \n            \"Fatigued <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\", \n            \"Nausea <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\",\n            \"Motivated <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\"],\n        \"lifeInsightsLowStress\": [\n            \"Relaxed <i class='em em-sunglasses'></i><i class='em em-boat'></i>\",  \n            \"Fatigued <i class='em em-sunglasses'></i><i class='em em-boat'></i>\", \n            \"Nausea <i class='em em-sunglasses'></i><i class='em em-boat'></i>\", \n            \"Motivated <i class='em em-sunglasses'></i><i class='em em-boat'></i>\"]          \n    };\n\n    this.index = Math.floor(Math.random() * lifeInsightProfile.questions.length);    \n    this.question = lifeInsightProfile.questions[this.index]; \n    this.imgloc = lifeInsightProfile.qimgs[this.index];\n    this.title = lifeInsightProfile.lifeInsightsTitle[this.index];\n    this.qYaxis = lifeInsightProfile.qYaxis[this.index];\n    this.subtext = lifeInsightProfile.qSubText[this.index];\n    this.topSubtext = lifeInsightProfile.lifeInsightsHighStress[this.index];\n    this.bottomSubtext = lifeInsightProfile.lifeInsightsLowStress[this.index];\n\n    this.qYaxisArray = lifeInsightProfile.qYaxis;\n    this.selectedValue = lifeInsightProfile.qYaxis[this.index];\n\n    //read data from localStorage \n    if(window.localStorage.getItem(\"lifeInsight\") == undefined) {\n       console.log(\"Undefined!\");\n       this.data = [0, 1, 3, 4, null, 3, 1];\n      //this.inputString = JSON.stringify(this.inputJson);\n     }\n    else {\n      var lifeInsightObj= JSON.parse(window.localStorage.getItem(\"lifeInsight\"));\n      console.log(JSON.stringify(lifeInsightObj));\n      this.data = [];\n      this.labels = [];\n      for(var i = 6; i>= 0; i--){\n          var currentdate = moment().subtract(i, \"days\").format(\"DD-MM-YYYY\");\n          //console.log(\"Inside loop: currentdate: \"+currentdate);\n          if(i==0) {\n            this.labels.push(\"Today\");\n          } else {\n            this.labels.push(moment().subtract(i, \"days\").format(\"MM/DD\"));\n          }\n          //console.log(\"Local Storage save: \"+question+\" \"+JSON.stringify(lifeInsightObj[question]));\n          var dates = lifeInsightObj[this.question][\"dates\"];\n          var dateIndex = dates.lastIndexOf(currentdate);\n          if( dateIndex > -1) {\n            this.data.push(lifeInsightObj[this.question]['data'][dateIndex]);\n          }\n          else{\n            this.data.push(null);\n          }\n      }\n      //this.data = [null, null, null, null, null, null, 1];\n      console.log(\"Data, \" + this.data);\n      \n    }\n\n\n    this.lineChart = new Chart(this.lineCanvas.nativeElement, {\n      type: \"line\",\n      data: {\n        labels: this.labels,  //[\"9/13\", \"9/14\", \"9/15\", \"9/16\", \"9/17\", \"9/18\", \"Today\"], //x-label\n        datasets: [\n          {\n            label: \"My First dataset\",\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: \"rgba(75,192,192,0.4)\",\n            borderColor: \"rgba(75,192,192,1)\",\n            borderCapStyle: \"butt\",\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: \"miter\",\n            pointBorderColor: \"rgba(75,192,192,1)\",\n            pointBackgroundColor: \"rgba(75,192,192,1)\",\n            pointBorderWidth: 1,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\n            pointHoverBorderWidth: 2,\n            pointRadius: 4,\n            pointHitRadius: 10,\n            data: this.data, //y-label\n            spanGaps: false\n          }\n        ]\n      },\n      options: {\n        tooltips: {enabled: false},\n        hover: {mode: null},\n        legend: {\n            display: false\n        },\n        maintainAspectRatio: false,\n        layout: {\n          padding: {\n              left: 5,\n              right: 5,\n              top: 15,\n              bottom: 5\n          }\n        },\n        scales: {\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: this.qYaxis,\n              fontColor: \"#000\"\n            },\n            ticks: {\n              max: 4,\n              min: 0,\n              stepSize: 1,\n              display: true\n            }\n          }],\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'Day',\n              fontColor: \"#000\"\n            }\n          }],\n        }\n      }\n    });\n  }\n\n  ratingChanged(rating){\n    if(rating==0)\n      console.log(\"thumbs down\");\n    else\n      console.log(\"thumbs up\");\n    \n    //this.router.navigate(['incentive/aquarium/aquariumone']);\n    //this.router.navigate(['/home']);\n    window.location.href = '/home';\n  }\n\n  /*onChangeCategorySelect(){\n    console.log(\"onChangeCategorySelect: \"+this.selectedValue);\n    this.index =  this.qYaxisArray.indexOf(this.selectedValue);\n    this.init(this.index);   \n\n  }*/\n\n}\n","import { UnlockedIncentives } from '../model/unlocked-incentives';\nimport { createReducer, on } from '@ngrx/store';\nimport { IncentiveActions } from '../action-types';\nimport * as moment from 'moment';\n\nexport interface UnlockecIncentiveState{\n    unlockedIncentives : UnlockedIncentives\n}\n\n\nexport const initialUnlockedIncentiveState: UnlockecIncentiveState = {\n    unlockedIncentives: undefined \n}\n\n\nexport const incentiveReducer = createReducer(\n\n    initialUnlockedIncentiveState,\n    on(IncentiveActions.surveyCompletedRegisterUnlocked, (state, payload) => {\n        console.log(\"Incentive State: \" + JSON.stringify(state));\n        console.log(\"Incentive payload: \" + JSON.stringify(payload));\n        var currentDate = moment().format('YYYYMMDD');\n        var unlockedIncentiveObject = {};\n\n        let  new_state = {};\n        let  payload_data = payload[\"payload\"]\n        new_state['user_id'] = payload_data[\"user_id\"];\n        new_state['last_date'] = payload_data[\"last_date\"];\n        \n        let currentIncentiveTimeline: Object = Object.assign({},state[\"timeline\"]);\n        if(currentIncentiveTimeline == undefined) //means initial state with no  timeline\n            currentIncentiveTimeline = {};\n        \n        let key = currentDate;\n        let value = {\n                     unlocked_points: payload_data[\"unlocked_points\"], \n                     unlocked_money: payload_data[\"unlocked_money\"], \n                     current_point: payload_data[\"current_point\"],\n                     date: moment().format('YYYYMMDD'),\n                     isUnlockedViewShown: payload_data[\"isUnlockedViewShown\"],\n                    }\n        currentIncentiveTimeline[key] = value;\n        new_state[\"timeline\"] = currentIncentiveTimeline;\n        console.log(\"Incentive State: \" + JSON.stringify(new_state));\n        return new_state;\n    }),\n\n\n    on(IncentiveActions.unlockedScreenShownAlready, (state, payload) => {\n        var currentDate = moment().format('YYYYMMDD');\n\n        //let clone = Object.assign({}, obj);\n        let currentIncentiveTimeline: Object = Object.assign({},state[\"timeline\"]);\n        currentIncentiveTimeline[currentDate] = {...currentIncentiveTimeline[currentDate],\n            isUnlockedViewShown: true};\n        \n        return {\n            ...state, \n            timeline: currentIncentiveTimeline\n        }; \n    })\n\n\n    //this.store.dispatch(surveyCompletedRegisterUnlocked({unlockedIncentives}));\n\n    /*\n    on(AuthActions.login, (state, action) => {\n        return {\n            user: action.user\n        }\n    }),\n\n    on(AuthActions.logout, (state, action) => {\n        return {\n            user: undefined\n        }\n    })\n    */\n\n\n\n);","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvaW5jZW50aXZlL3RyZWFzdXJlY2hlc3QvdHJlYXN1cmVjaGVzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvaW5jZW50aXZlL3RyZWFzdXJlY2hlc3QvdHJlYXN1cmVjaGVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvdHJlYXN1cmVjaGVzdC90cmVhc3VyZWNoZXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-treasurechest',\n  templateUrl: './treasurechest.component.html',\n  styleUrls: ['./treasurechest.component.scss'],\n})\nexport class TreasurechestComponent implements OnInit {\n\n  amount_earned = \"$0\";\n  pearlsAndGems = [];\n  pointsdata = [];\n\n\n  constructor(private appUsageDb: DatabaseService) { \n  }\n\n  ngOnInit() {\n\n    //load reward data\n    var badges;\n    //badges = JSON.parse(window.localStorage['badges'] || \"{}\");\n    var user_data = JSON.parse(window.localStorage['user_data'] || \"{}\");\n    badges = user_data['badges'] || {};\n    if('money' in badges){ //means things are empty.\n    }else{\n          badges['daily_survey'] = [0,0,0,0,0,0];\n          badges['weekly_survey'] = [0,0,0,0];\n          badges['active_tasks'] = [0,0,0,0,0,0];\n          badges['money'] = 10;\n    }\n\n\n    //add the money\n    this.amount_earned = \"$\" + badges['money']\n\n    //\n    if(window.localStorage['AwardDollar'] == undefined)\n        this.amount_earned = \"$\" + 0;\n    else\n        this.amount_earned = \"$\" + parseInt(window.localStorage['AwardDollar']);\n\n\n\n    //add the badges for daily survey\n    var daily_survey_tasks = [2,1,0,3,1,1];//badges['daily_survey'];\n    //daily_survey_tasks = [3,2,0,2,2,1]; \n    //daily_survey_tasks = [0,0,0,0,0];\n    //badges['weekly_survey'] = [0,0,0,0];\n    var daily_width = [50,30,42,30,42,40,46];\n    var ds_tasks_badges = ['img/backgroud_daily.png','img/green.png','img/blue.png','img/red.png','img/bronze.png','img/silver.png','img/gold.png'];\n    for(var i = 1; i < ds_tasks_badges.length; i++){\n      if(daily_survey_tasks[i-1] > 0){\n        for(var q = 0; q < daily_survey_tasks[i-1]; q++)\n          this.pearlsAndGems.push({\"img\": \"assets/\" + ds_tasks_badges[i], \"count\": daily_survey_tasks[i-1], \"width\": daily_width[i]*3/2});\n      }\n    }\n\n\n\n    fetch('../../../assets/game/fishpoints.json').then(async res => {\n      //console.log(\"Fishes: \" + data);\n\n      var data = await res.json();\n      var current_points = 700;\n\n      var survey_string = \"\";\n      var isNextAvailableStillMasked = false;\n      for(var i = 0; i < data.length; i++) {\n          data[i].class = 'nonshade';\n          data[i].img = \"assets/\" + data[i].img.substring(0, data[i].img.length-4) + '_tn.jpg';\n          data[i].fish_index = i; \n          data[i].show_trivia = 1;\n          \n          /*\n          if(current_points < data[i].points){\n            if(isNextAvailableStillMasked == false){\n               //\n               data[i].img = data[i].img.substring(0, data[i].img.length-7) + '-grey_tn.jpg';\n               isNextAvailableStillMasked = true;\n               //data[i].class = 'shade';\n            }\n            else{\n              data[i].img = 'assets/img/cryptocoin_tn.jpg';\n            }\n\n            data[i].show_trivia = 0; \n          }\n\n          if(data[i].name === 'Sea environment'){\n            data[i].show_trivia = 0; \n          }\n          */\n      }\n       \n      this.pointsdata = data;\n      //console.log(\"Fishes: \" + JSON.stringify(this.pointsdata));\n\n\n      //console.log(\"Fishes: \" + JSON.stringify($scope.pointsdata));\n      //$scope.$apply();\n    });\n\n    \n\n    //add the fish to be unlocked\n\n\n  }\n\n  sum(arr){\n    var total=0;\n    for(var i in arr){\n      total += arr[i]; \n    }\n    return total;\n  }\n\n  ionViewDidEnter() {\n    //\n    this.appUsageDb.saveAppUsageEnter(\"treasure_chest\"); \n  }\n\n  ionViewDidLeave(){\n    this.appUsageDb.saveAppUsageExit(\"treasure_chest\");     \n  }\n\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL3VubG9ja2VkLWFsdHVpc3RpYy1tZXNzYWdlcy91bmxvY2tlZC1hbHR1aXN0aWMtbWVzc2FnZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL2luY2VudGl2ZS91bmxvY2tlZC1hbHR1aXN0aWMtbWVzc2FnZXMvdW5sb2NrZWQtYWx0dWlzdGljLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV3LWJhY2tncm91bmQtY29sb3J7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA1NDg2O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport * as moment from 'moment';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { environment } from '../../../environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-unlocked-altuistic-messages',\n  templateUrl: './unlocked-altuistic-messages.component.html',\n  styleUrls: ['./unlocked-altuistic-messages.component.css']\n})\nexport class UnlockedAltuisticMessagesComponent implements OnInit {\n  already_shown_altruism_msgs: any;\n  unlockedAltMessagesCount: number;\n  list_of_alt_msg_to_display: any;\n\n  constructor(private userProfileService: UserProfileService,\n    private httpClient: HttpClient,\n    private appUsageDb: DatabaseService) { }\n\n  get username(){\n    if(this.userProfileService == undefined)\n      return \"test\";\n    else{\n      return this.userProfileService.username;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter(){\n    this.already_shown_altruism_msgs = window.localStorage[\"already_shown_alt_msg4\"];\n\n    if(this.already_shown_altruism_msgs == undefined){\n        this.already_shown_altruism_msgs = {\n          \"last_updated\": Date.now(),\n          \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n          \"unlocked_alt_msgs\":[{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n        };\n        window.localStorage[\"already_shown_alt_msg4\"] = JSON.stringify(this.already_shown_altruism_msgs);\n    }else\n        this.already_shown_altruism_msgs = JSON.parse(window.localStorage[\"already_shown_alt_msg4\"]);\n\n    if(this.already_shown_altruism_msgs.unlocked_alt_msgs.length == 0){\n      this.already_shown_altruism_msgs = {\n          \"last_updated\": Date.now(),\n          \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n          \"unlocked_alt_msgs\":[{\"filename\": \"assets/altruism/altruism_1.png\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n      };\n      window.localStorage[\"already_shown_alt_msg4\"] = JSON.stringify(this.already_shown_altruism_msgs);\n    }\n\n    this.unlockedAltMessagesCount = this.already_shown_altruism_msgs.unlocked_alt_msgs.length;\n    this.list_of_alt_msg_to_display = this.already_shown_altruism_msgs[\"unlocked_alt_msgs\"];\n\n    this.list_of_alt_msg_to_display.reverse();\n    console.log(\"already_shown_altruism_msgs \" + this.already_shown_altruism_msgs);\n\n    this.downloadAndUpdateUnlockedAltsMsgsList();\n\n    //\n    this.appUsageDb.saveAppUsageEnter(\"unlocked_altruism_message_tab\");  \n  }\n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    this.appUsageDb.saveAppUsageExit(\"unlocked_altruism_message_tab\");     \n  }\n\n  async downloadAndUpdateUnlockedAltsMsgsList() {\n    \n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + '/get-unlocked-incentive', { \"user_id\": this.username, \"incentive_type\": \"alt_msg\" }).subscribe({\n        next: data => {\n\n          var json_data = JSON.parse(JSON.stringify(data));\n\n          /*\n          \n          Sample of returned data\n\n          {\n            \"last_updated\": 1591509230223,\n            \"last_updated_readable_ts\": \"June 6th 2020, 10:53:50 pm -07:00\",\n            \"unlocked_memes\": [\n                {\n                    \"filename\": \"assets/memes/4.jpg\",\n                    \"unlock_date\": \"06/06/2020\"\n                }\n            ]\n          }\n          */\n\n          var lastUpdatedSeverSide: number;\n          var lastUpdatedReadableTsSeverSide: any;\n          var unlockedAltMsgsServerSide: any;\n          if(\"last_updated\" in json_data){\n              lastUpdatedSeverSide = json_data[\"last_updated\"];\n              lastUpdatedReadableTsSeverSide = json_data[\"last_updated_readable_ts\"];\n              unlockedAltMsgsServerSide = json_data[\"unlocked_alt_msgs\"];\n              console.log(\"--unlockedAltMsgsServerSide--- \" + JSON.stringify(unlockedAltMsgsServerSide));\n          }else{\n              lastUpdatedSeverSide = -1;\n              lastUpdatedReadableTsSeverSide = -1;\n              unlockedAltMsgsServerSide = [];\n              console.log(\"--unlockedAltMsgsServerSide--- \" + JSON.stringify(unlockedAltMsgsServerSide));\n          }\n\n          var localAltMsgsRecord = JSON.parse(window.localStorage[\"already_shown_alt_msg4\"]);\n          var lastUpdatedLocalStorage = localAltMsgsRecord[\"last_updated\"];\n          var lastUpdatedReadableTsLocalStorage = localAltMsgsRecord[\"last_updated_readable_ts\"];\n          var unlockedAltMsgLocalStorage = localAltMsgsRecord[\"unlocked_alt_msgs\"];\n          console.log(\"--unlockedAltMsgLocalStorage--- \" + JSON.stringify(unlockedAltMsgLocalStorage));\n\n\n          //Following code creats a union of unlockedMemesServerSide and unlockedMemesLocalStorage\n          var unionOfLocalAndServer = {};\n          for(var i=0; i < unlockedAltMsgsServerSide.length; i++)\n              unionOfLocalAndServer[unlockedAltMsgsServerSide[i][\"filename\"]] = unlockedAltMsgsServerSide[i];\n          for(var i=0; i < unlockedAltMsgLocalStorage.length; i++)\n              unionOfLocalAndServer[unlockedAltMsgLocalStorage[i][\"filename\"]] = unlockedAltMsgLocalStorage[i];\n\n          console.log(\"--unionOfLocalAndServer--- \" + JSON.stringify(unionOfLocalAndServer));\n          var res = []\n          for (var k in unionOfLocalAndServer) {\n              res.push(unionOfLocalAndServer[k]);\n          }\n          this.list_of_alt_msg_to_display = res.reverse();\n          this.unlockedAltMessagesCount = res.length;\n\n\n          localAltMsgsRecord[\"unlocked_alt_msgs\"] = this.list_of_alt_msg_to_display;\n          localAltMsgsRecord[\"last_updated\"] = Date.now();\n          localAltMsgsRecord[\"last_updated_readable_ts\"] = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n          window.localStorage[\"already_shown_alt_msg4\"] = JSON.stringify(localAltMsgsRecord);\n\n          console.log(\"--localAltMsgsRecord--- \" + JSON.stringify(localAltMsgsRecord));\n          //\n          this.uploadCurrentlyUnlockedAltMsgsList(localAltMsgsRecord);\n        },\n        error: error => console.error('There was an error!', error)\n    });\n  }\n\n  uploadCurrentlyUnlockedAltMsgsList(already_shown_alt_msgs){\n\n    /*\n      {\n        \"user_id\": \"test\",\n        \"incentiveString\": \"test\",\n        \"whenInserted\": \"test\",\n        \"whenInsertedReadableTs\": 1234,\n        \"incentiveType\": \"test\"\n      }\n    */\n\n    var username = this.userProfileService.username;\n    var currentTimeTs = Date.now();\n    var currentTimeReadableTs = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n    const headers = { \"Content-Type\": \"application/json;charset=UTF-8\"};\n    const body = {\n                    \"user_id\": username, \n                    \"whenInserted\": currentTimeTs, \n                    \"whenInsertedReadableTs\": currentTimeReadableTs,\n                    \"incentiveType\": \"alt_msg\",\n                    \"incentiveString\": JSON.stringify(already_shown_alt_msgs)\n                };\n \n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + \"/store-unlocked-incentive\", body)\n      .subscribe({\n        next: data => console.log(\"--unlocked_alt_msg-- \" + JSON.stringify(data)),\n        error: error => console.error('There was an error!', error)\n    });\n  }\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL3VubG9ja2VkLWluc3BpcmF0aW9uYWwtcXVvdGVzL3VubG9ja2VkLWluc3BpcmF0aW9uYWwtcXVvdGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvdW5sb2NrZWQtaW5zcGlyYXRpb25hbC1xdW90ZXMvdW5sb2NrZWQtaW5zcGlyYXRpb25hbC1xdW90ZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXctYmFja2dyb3VuZC1jb2xvcntcbiAgICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport * as moment from 'moment';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-unlocked-inspirational-quotes',\n  templateUrl: './unlocked-inspirational-quotes.component.html',\n  styleUrls: ['./unlocked-inspirational-quotes.component.css']\n})\nexport class UnlockedInspirationalQuotesComponent implements OnInit {\n\n  unlockedInspirationalQuotes = [];\n\n  constructor(\n    private userProfileService: UserProfileService,\n    private httpClient: HttpClient,\n    private appUsageDb: DatabaseService\n  ) { }\n\n\n  get username(){\n    if(this.userProfileService == undefined)\n      return \"test\";\n    else{\n      return this.userProfileService.username;\n    }\n  }\n\n  ngOnInit() {\n    \n  }\n\n  ionViewDidEnter() {\n    //pre-populate\n    this.unlockedInspirationalQuotes = JSON.parse(window.localStorage.getItem(\"saved_quotes\") || '[]');\n    this.getInspirationalQuotes();\n\n    //\n    this.appUsageDb.saveAppUsageEnter(\"unlocked_inspirational_quote_tab\"); \n  }\n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    this.appUsageDb.saveAppUsageExit(\"unlocked_inspirational_quote_tab\");     \n  }\n\n\n  getInspirationalQuotes() {\n    \n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + '/get-inspirational-quote', { \"user_id\": this.username }).subscribe({\n        next: data => {\n          //console.log(\"Inspirational quote: \" + JSON.stringify(data));\n          var json_data = JSON.parse(JSON.stringify(data));\n          this.unlockedInspirationalQuotes = [];\n          for(var i=0; i < json_data.length;  i++){\n\n            //exclude today if it is not yet 4PM.\n            var todaysDate = moment().format('YYYYMMDD');\n            if(json_data[i].date == todaysDate){\n              var currentTime = moment(); \n              var startTime = moment({hour: 16});  // 6pm\n              var endTime = moment({hour: 23, minute: 59, second: 59});  // 11:59pm\n              if(!currentTime.isBetween(startTime, endTime)) \n                  continue;\n            }\n\n            //sometimes tomorrow can get scheduled as well\n            var tomorrowsDate = moment().add(1,\"days\").format('YYYYMMDD');\n            if(json_data[i].date == tomorrowsDate)\n              continue;\n\n            this.unlockedInspirationalQuotes.push({\n              \"image\": \"https://aws-website-sara-ubicomp-h28yp.s3.amazonaws.com/sarapp/engagement_images/\"  + json_data[i].image,\n              \"author\": json_data[i].author,\n              \"quote_text\": json_data[i].quote_text\n            });\n          }\n          window.localStorage.setItem('saved_quotes', JSON.stringify(this.unlockedInspirationalQuotes));\n        },\n        error: error => console.error('There was an error!', error)\n    });\n  }\n\n}\n","module.exports = \".new-background-color{\\n    --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5jZW50aXZlL3VubG9ja2VkLW1lbWVzL3VubG9ja2VkLW1lbWVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9pbmNlbnRpdmUvdW5sb2NrZWQtbWVtZXMvdW5sb2NrZWQtbWVtZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXctYmFja2dyb3VuZC1jb2xvcntcbiAgICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport * as moment from 'moment';\nimport { environment } from '../../../environments/environment';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { HttpClient } from '@angular/common/http';\nimport { DatabaseService } from 'src/app/monitor/database.service';\n\n@Component({\n  selector: 'app-unlocked-memes',\n  templateUrl: './unlocked-memes.component.html',\n  styleUrls: ['./unlocked-memes.component.css']\n})\nexport class UnlockedMemesComponent implements OnInit {\n  already_shown_memes: any;\n  list_of_meme_to_display: any;\n  unlockedMemeCount: number;\n\n  constructor(private userProfileService: UserProfileService,\n    private httpClient: HttpClient,\n    private appUsageDb: DatabaseService) { \n  }\n\n  get username(){\n    if(this.userProfileService == undefined)\n      return \"test\";\n    else{\n      return this.userProfileService.username;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter(){\n    \n    this.already_shown_memes = window.localStorage[\"already_shown_memes4\"];\n\n    if(this.already_shown_memes == undefined){\n        this.already_shown_memes = {\n            \"last_updated\": Date.now(),\n            \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n            \"unlocked_memes\":[{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n        };\n        window.localStorage[\"already_shown_memes4\"] = JSON.stringify(this.already_shown_memes);\n    }else\n        this.already_shown_memes = JSON.parse(window.localStorage[\"already_shown_memes4\"]);\n\n    if(this.already_shown_memes.unlocked_memes.length == 0){\n          this.already_shown_memes = {\n              \"last_updated\": Date.now(),\n              \"last_updated_readable_ts\": moment().format(\"MMMM Do YYYY, h:mm:ss a Z\"),\n              \"unlocked_memes\":[{\"filename\": \"assets/memes/4.jpg\", \"unlock_date\": moment().format('MM/DD/YYYY')}]\n          };\n          window.localStorage[\"already_shown_memes4\"] = JSON.stringify(this.already_shown_memes);\n    }\n\n\n    this.unlockedMemeCount = this.already_shown_memes[\"unlocked_memes\"].length;\n    this.list_of_meme_to_display = this.already_shown_memes[\"unlocked_memes\"];\n\n    this.list_of_meme_to_display.reverse();\n    console.log(\"already_shown_memes \" + JSON.stringify(this.already_shown_memes));\n\n    \n    this.downloadAndUpdateUnlockedMemeList();\n\n    //\n    this.appUsageDb.saveAppUsageEnter(\"unlocked_meme_tab\"); \n  }\n\n  ionViewDidLeave(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */ \n    this.appUsageDb.saveAppUsageExit(\"unlocked_meme_tab\");     \n  }\n\n  \n  async downloadAndUpdateUnlockedMemeList() {\n    \n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + '/get-unlocked-incentive', { \"user_id\": this.username, \"incentive_type\": \"meme\" }).subscribe({\n        next: data => {\n\n          var json_data = JSON.parse(JSON.stringify(data));\n\n          /*\n          \n          Sample of returned data\n\n          {\n            \"last_updated\": 1591509230223,\n            \"last_updated_readable_ts\": \"June 6th 2020, 10:53:50 pm -07:00\",\n            \"unlocked_memes\": [\n                {\n                    \"filename\": \"assets/memes/4.jpg\",\n                    \"unlock_date\": \"06/06/2020\"\n                }\n            ]\n          }\n          */\n\n          var lastUpdatedSeverSide: number;\n          var lastUpdatedReadableTsSeverSide: any;\n          var unlockedMemesServerSide: any;\n          if(\"last_updated\" in json_data){\n              lastUpdatedSeverSide = json_data[\"last_updated\"];\n              lastUpdatedReadableTsSeverSide = json_data[\"last_updated_readable_ts\"];\n              unlockedMemesServerSide = json_data[\"unlocked_memes\"];\n              console.log(\"--unlockedMemesServerSide--- \" + JSON.stringify(unlockedMemesServerSide));\n          }else{\n              lastUpdatedSeverSide = -1;\n              lastUpdatedReadableTsSeverSide = -1;\n              unlockedMemesServerSide = [];\n              console.log(\"--unlockedMemesServerSide--- \" + JSON.stringify(unlockedMemesServerSide));\n          }\n\n          var localMemeRecord = JSON.parse(window.localStorage[\"already_shown_memes4\"]);\n          var lastUpdatedLocalStorage = localMemeRecord[\"last_updated\"];\n          var lastUpdatedReadableTsLocalStorage = localMemeRecord[\"last_updated_readable_ts\"];\n          var unlockedMemesLocalStorage = localMemeRecord[\"unlocked_memes\"];\n          console.log(\"--unlockedMemesLocalStorage--- \" + JSON.stringify(unlockedMemesLocalStorage));\n\n\n          //Following code creats a union of unlockedMemesServerSide and unlockedMemesLocalStorage\n          var unionOfLocalAndServer = {};\n          for(var i=0; i < unlockedMemesServerSide.length; i++)\n              unionOfLocalAndServer[unlockedMemesServerSide[i][\"filename\"]] = unlockedMemesServerSide[i];\n          for(var i=0; i < unlockedMemesLocalStorage.length; i++)\n              unionOfLocalAndServer[unlockedMemesLocalStorage[i][\"filename\"]] = unlockedMemesLocalStorage[i];\n\n          console.log(\"--unionOfLocalAndServer--- \" + JSON.stringify(unionOfLocalAndServer));\n          var res = []\n          for (var k in unionOfLocalAndServer) {\n              res.push(unionOfLocalAndServer[k]);\n          }\n          this.list_of_meme_to_display = res.reverse();\n          this.unlockedMemeCount = res.length;\n\n\n          localMemeRecord[\"unlocked_memes\"] = this.list_of_meme_to_display;\n          localMemeRecord[\"last_updated\"] = Date.now();\n          localMemeRecord[\"last_updated_readable_ts\"] = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n          window.localStorage[\"already_shown_memes4\"] = JSON.stringify(localMemeRecord);\n\n          console.log(\"--localMemeRecord--- \" + JSON.stringify(localMemeRecord));\n          //\n          this.uploadCurrentlyUnlockedMemeList(localMemeRecord);\n        },\n        error: error => console.error('There was an error!', error)\n    });\n  }\n  \n\n  uploadCurrentlyUnlockedMemeList(already_shown_memes){\n\n    /*\n      {\n        \"user_id\": \"test\",\n        \"incentiveString\": \"test\",\n        \"whenInserted\": \"test\",\n        \"whenInsertedReadableTs\": 1234,\n        \"incentiveType\": \"test\"\n      }\n    */\n\n    var username = this.userProfileService.username;\n    var currentTimeTs = Date.now();\n    var currentTimeReadableTs = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n    const headers = { \"Content-Type\": \"application/json;charset=UTF-8\"};\n    const body = {\n                    \"user_id\": username, \n                    \"whenInserted\": currentTimeTs, \n                    \"whenInsertedReadableTs\": currentTimeReadableTs,\n                    \"incentiveType\": \"meme\",\n                    \"incentiveString\": JSON.stringify(already_shown_memes)\n                };\n \n    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n    this.httpClient.post(flaskServerAPIEndpoint + \"/store-unlocked-incentive\", body)\n      .subscribe({\n        next: data => console.log(\"--unlocked_meme-- \" + JSON.stringify(data)),\n        error: error => console.error('There was an error!', error)\n    });\n  }\n\n\n}\n","/* Installation:\n\nionic install @ionic-native/sqlite @ionic-native/sqlite-porter\nionic cordova plugin add cordova-sqlite-storage\nionic cordova plugin add uk.co.workingedge.cordova.plugin.sqliteporter\n\nFollow reference: https://devdactic.com/ionic-4-sqlite-queries/\n*/\n\nimport { Platform } from '@ionic/angular';\nimport { Injectable } from '@angular/core';\nimport { SQLitePorter } from '@ionic-native/sqlite-porter/ngx';\nimport { HttpClient } from '@angular/common/http';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport * as moment from 'moment';\nimport { UserProfileService } from '../user/user-profile/user-profile.service';\n\nexport interface TrackObj {\n  id: number,\n  pageName: string,\n  eventTime: Date,\n  eventDate: string,\n  unix_ts: number, \n  day_count: number,\n  eventStatus: string,\n  username: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatabaseService {\n  private database: SQLiteObject;\n  private dbReady: BehaviorSubject<boolean> = new BehaviorSubject(false);\n \n  tracks = new BehaviorSubject([]);\n\n  constructor(\n    private plt: Platform, \n    private sqlitePorter: SQLitePorter, \n    private sqlite: SQLite, \n    private userProfileService: UserProfileService,\n    private http: HttpClient) {  \n       this.plt.ready().then(() => {\n        this.sqlite.create({\n          name: 'tracks.db',\n          location: 'default'\n        }).then((db: SQLiteObject) => {\n            this.database = db;\n            //this.dropTable();\n            //console.log(\"table deleted!\");\n            this.createDatabase();\n        }); \n      });      \n    }\n\n    createDatabase() {\n      console.log(\"start seedDatabase!\");\n      return this.http.get('assets/track.sql', { responseType: 'text' })\n        .subscribe(sql => {\n          this.sqlitePorter.importSqlToDb(this.database, sql)\n            .then(_ => {\n              console.log('Before displayTracks');\n              this.displayTracks();\n              console.log('Tracks displayed');\n              this.dbReady.next(true);\n            })\n            .catch(e => console.error(\"In seedDatabase:\" + e));\n        });\n    }    \n\n    getDatabaseState() {\n      return this.dbReady.asObservable();\n    }\n    \n    getTracks(): Observable<any[]> {\n      return this.tracks.asObservable();\n    }    \n\n    dropTable(){\n      return this.database.executeSql('DROP TABLE IF EXISTS tracks').then(data => {\n        console.log('Table deleted!');\n      }).catch(e => {\n        console.log(\"dropTable:\"+JSON.stringify(e));\n        //this.isTableExist();\n      });      \n    }\n\n    emptyTable(){\n      return this.database.executeSql('DELETE FROM tracks').then(data => {\n        console.log('Table emptied!');\n      }).catch(e => {\n        console.log(\"deleteTable:\"+JSON.stringify(e));\n      });      \n    }\n\n    \n    isTableExist() : Promise<any> {\n      console.log(\"Inside isTableEmpty:\");\n      //return this.database.executeSql('SELECT * FROM tracks', []).then(data => {\n      return this.database.executeSql(\"SELECT * FROM sqlite_master WHERE name ='tracks' and type='table'\", []).then(data => {\n        var rowlength = data.rows.length;\n        console.log(\"isTableEmpty rowlength= \"+rowlength);\n        return rowlength != 0;\n      }).catch(e => {\n        console.log(\"At isTableNotEmpty:\"+JSON.stringify(e));\n        return false;\n      });\n    }\n\n    isTableEmpty() : Promise<any> {\n      console.log(\"Inside isTableEmpty:\");\n      return this.database.executeSql('SELECT * FROM tracks', []).then(data => {\n         var rowlength = data.rows.length;\n        console.log(\"isTableEmpty rowlength= \"+rowlength);\n        return rowlength == 0;\n      }).catch(e => {\n        console.log(\"At isTableNotEmpty:\"+JSON.stringify(e));\n        return true;\n      });\n    }\n\n    saveAppUsageEnter(pageName){\n      this.getDatabaseState().subscribe(rdy => {\n        if (rdy) { \n          var day_count = Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length;    \n          this.addTrack(pageName, \"Enter\", this.userProfileService.username, day_count); \n        }\n      }); \n    }\n\n    saveAppUsageExit(pageName){\n      this.getDatabaseState().subscribe(rdy => {\n        if (rdy) {  \n          var day_count = Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length;    \n          this.addTrack(pageName, \"Exit\", this.userProfileService.username, day_count); \n        }\n      }); \n    }\n\n\n    //save usage\n    /*\n    saveAppUsage(pageName, eventStatus, username, day_count){\n      this.getDatabaseState().subscribe(rdy => {\n        if (rdy) {     \n          this.addTrack(pageName, eventStatus, username, day_count); \n        }\n      }); \n    }\n    */\n      \n    addTrack(pageName, eventStatus, username, day_count) {\n      var currentTime = moment().format('MMMM Do YYYY, h:mm:ss a Z');\n      var currentDate = moment().format('YYYYMMDD');\n      var unix_ts = new Date().getTime();\n      let data = [pageName, currentTime, currentDate, unix_ts, day_count, eventStatus, username];\n      return this.database.executeSql('INSERT INTO tracks (pageName, eventTime, eventDate, unix_ts, day_count, eventStatus, username) VALUES (?, ?, ?, ?, ?, ?, ?)', data).then(data => {\n        console.log('App usage added!! ' + pageName + \", \" + eventStatus);\n        //this.displayTracks();\n      }).catch(e => console.log(\"In addTrack:\"+pageName+\" \"+JSON.stringify(e)));\n\n    }   \n    \n    displayTracks() {\n      //let query = 'SELECT product.name, product.id, developer.name AS creator FROM product JOIN developer ON developer.id = product.creatorId';\n      return this.database.executeSql('SELECT * FROM tracks', []).then(data => {\n        let currentTracks: TrackObj[] = [];\n        var rowlength = data.rows.length;\n        console.log(\"data.rows= \"+rowlength);\n        if (rowlength > 0) {\n          for (var i = 0; i < rowlength; i++) {\n            console.log(\"data.rows= \"+rowlength);\n            console.log(\"displayTracks \"+i+\" pageName: \"+ data.rows.item(i).pageName + \", eventTime \" + data.rows.item(i).eventStatus);\n            //console.log(\"displayTracks \"+i+\" time: \"+data.rows.item(i).eventTime);\n            currentTracks.push({ \n              id: data.rows.item(i).id,\n              pageName: data.rows.item(i).pageName,\n              eventTime: data.rows.item(i).eventTime,\n              eventDate: data.rows.item(i).eventDate,\n              unix_ts: data.rows.item(i).unix_ts,\n              day_count: data.rows.item(i).day_count,\n              eventStatus: data.rows.item(i).eventStatus,\n              username: data.rows.item(i).username,\n             });\n          }\n          //console.log(\"currentTracks length: \"+currentTracks.length);\n        }\n        //this.tracks.next(currentTracks);  announce new value to all subscribers\n      }).catch(e => console.log(\"In displayTracks:\"+e));\n    }\n    \n    exportDatabaseToJson() : Promise<any> { \n      return this.sqlitePorter.exportDbToJson(this.database).then(res => {\n        //console.log('Exported '+JSON.stringify(res));\n        return res;\n      }).catch(e => console.error(e));\n\n    }\n\n}","/*\n\nInstall following, then this module shall work.\nionic cordova plugin add onesignal-cordova-plugin\nnpm install @ionic-native/onesignal\n\nThis module can handle notificationReceive/Open when app is not killed.\notherwise:\n\nImplement in android/ios platform if need to receive notification\nwhen app is killed.\n\nCopy MyNotificationExtenderBareBones.java file to src.io.ionic folder\nadd below to androidmanifest.xml \n\n        <service\n            android:name=\"io.ionic.MyNotificationExtenderBareBones\"\n            android:permission=\"android.permission.BIND_JOB_SERVICE\"\n            android:exported=\"false\">\n            <intent-filter>\n                <action android:name=\"com.onesignal.NotificationExtender\" />\n            </intent-filter>\n        </service>\n\n*/\n\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OneSignalService } from './one-signal.service';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ],\n  providers: [ OneSignalService ]\n\n})\nexport class NotificationModule { }\n","import { Injectable } from '@angular/core';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { AlertController } from '@ionic/angular';\n\nimport * as moment from 'moment';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { UserProfileService } from '../user/user-profile/user-profile.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OneSignalService {\n  time;\n  formattedTime;\n\n  constructor(\n    private oneSignal: OneSignal,\n    private alertCtrl: AlertController,\n    private http: HttpClient,\n    private userProfileService: UserProfileService\n  ) { }\n\n\n  initOneSignal(){\n      //link for one signal tutorial ==========> https://devdactic.com/push-notifications-ionic-onesignal/\n      \n      //this.oneSignal.startInit('YOUR ONESIGNAL APP ID', 'YOUR ANDROID ID');\n      console.log(\"--Onesignal-- \" + \"init called\");\n      this.oneSignal.startInit(environment.oneSignalAppId, environment.firebaseConfig.messagingSenderId);\n\n      this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.None);\n      //this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.InAppAlert);\n    \n      //Sets a notification received handler. Only called if the app is \n      //running in the foreground at the time the notification was received.\n      this.oneSignal.handleNotificationReceived().subscribe(data => {\n        this.time = new Date().getTime();\n        this.formattedTime = moment().format('MMMM Do YYYY, h:mm:ss a Z');\n        console.log(\"notification is received at: \"+this.time+\" formatted: \"+this.formattedTime);\n\n        let title = data.payload.title;\n        let msg = data.payload.body;\n        //let additionalData = data.payload.additionalData;\n        //this.showAlert(title, msg, additionalData.task);\n        //this.showAlert(title+\" \"+msg, \"notification is received at: \"+this.time+\" formatted: \"+this.formattedTime);\n\n      });\n      \n      \n      //Sets a notification opened handler. The instance will be called when \n      //a notification is tapped on from the notification shade (ANDROID) or \n      //notification center (iOS), or when closing an Alert notification shown in the app \n      //(if InAppAlert is enabled in inFocusDisplaying, below).\n\n      this.oneSignal.handleNotificationOpened().subscribe(data => {\n        // do something when a notification is opened\n        this.time = new Date().getTime();\n        this.formattedTime = moment().format('MMMM Do YYYY, h:mm:ss a Z');\n        console.log(\"notification is opened at: \"+this.time+\" formatted: \"+this.formattedTime);\n        let additionalData = data.notification.payload.additionalData;\n        //this.showAlert('Notification opened', 'You already read this before', additionalData.task);     \n        //this.showAlert('Notification opened',  \"notification is opened at: \"+this.time+\" formatted: \"+this.formattedTime);\n      });\n\n\n      //--- clearOneSignalNotifications\n      //--- https://documentation.onesignal.com/docs/cordova-sdk\n      \n      this.oneSignal.endInit();    \n      \n      this.oneSignal.getPermissionSubscriptionState().then(status=>{\n        console.log(\"--Onesignal-- \" + JSON.stringify(status));\n        window.localStorage.setItem(\"oneSignalPlayerId\", \"\"+status.subscriptionStatus.userId);  \n        /*\n        this.userProfileService.userProfile.oneSignalPlayerId  = status.subscriptionStatus.userId;\n        this.userProfileService.saveProfileToDevice();\n        this.userProfileService.saveToServer();\n        */\n      });  \n  }\n\n  async showAlert(title, msg) {\n    const alert = await this.alertCtrl.create({\n      header: title,\n      subHeader: msg,\n      buttons: [\n          'OK'\n /*        {\n          text: `Action: ${task}`,\n          handler: () => {\n            // E.g: Navigate to a specific screen\n          }\n        } */\n      ]\n    })\n    alert.present();\n  }  \n}\n","import {\n  ActionReducer,\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\nimport { environment } from '../../environments/environment';\n\n\n//this is the overall state.\nexport interface AppState {\n\n}\n\nexport const reducers: ActionReducerMap<AppState> = {\n  \n};\n\n\nexport const metaReducers: MetaReducer<AppState>[] = !environment.production ? [] : [];\n","//\n//--- The goal of this file is to serve as base class for all storeage classes,\n//    for example, store to firebase, azure, aws s3. All common functions used  \n//    to them will be added here in the future,\n\nimport { Injectable } from '@angular/core';\nimport { environment } from '../../environments/environment';\nimport { StoreBaseService } from './storage-base.service';\nimport { EncrDecrService } from './encrdecrservice.service';\nimport { NetworkService, ConnectionStatus } from './network.service';\n\nimport * as AWS from 'aws-sdk';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AwsS3Service extends StoreBaseService {\n  currentFile: File;\n  bucketName;\n  s3;\n  subfolder;\n\n  constructor(\n    private networkSvc: NetworkService,\n    private EncrDecr: EncrDecrService) { \n    super();\n  }\n\n  upload(subfolder, result){\n    this.bucketName =  environment.awsConfig.bucketName;\n    var bucketRegion = environment.awsConfig.bucketRegion;\n    var IdentityPoolId = environment.awsConfig.IdentityPoolId;\n    //var accessKeyId = environment.awsConfig.accessKeyId;\n    //var secretAccessKey = environment.awsConfig.secretAccessKey;\n\n    //set properties after creating AWS.Config using the update method\n    AWS.config.update({\n      region: bucketRegion,\n      credentials: new AWS.CognitoIdentityCredentials({\n        IdentityPoolId: IdentityPoolId\n      })\n    });\n    \n    //creates a new Amazon S3 service object\n    this.s3 = new AWS.S3({\n      apiVersion: '2006-03-01',\n      params: {Bucket: this.bucketName}\n    });  \n\n    /*const myS3Credentials = {\n      accessKeyId: accessKeyId,\n      secretAcccessKey: secretAccessKey,\n    };\n    \n    var s3 = new AWS.S3({\n      apiVersion: '2006-03-01',\n      params: {Bucket: bucketName},\n      accessKeyId: accessKeyId,\n      secretAccessKey: secretAccessKey\n    });  */\n\n    //create a file from result passed as a JSONObject\n    var fileName = \"result_\" + (new Date().getTime()) + \"_\" + this.EncrDecr.getSHA256(localStorage.getItem('loggedInUser')) + \".json\";\n    this.currentFile = new File([JSON.stringify(result)], fileName, {type: \"text/plain\"});\n    //upload currentFile to the subfolder in S3 bucket\n    this.STORAGE_REQ_KEY = subfolder+\"_result\";\n    this.subfolder = subfolder;\n\n    // Upload data and data saved in local Storage to AWS when online, save data\n    // to local storage when offline.\n    if(this.networkSvc.getCurrentNetworkStatus() == ConnectionStatus.Online){\n      if(window.localStorage.getItem(this.STORAGE_REQ_KEY) != undefined ) \n        this.uploadLocalData();\n\n      this.uploadToS3(subfolder+\"/\"+fileName, result).catch(err => {\n        if (err ) {\n          console.log('Caught thrown error: '+err.message);\n          this.storeResultLocally(result); \n        }\n      });\n           \n    } else {\n      this.storeResultLocally(result);\n    }\n  }\n\n  async uploadToS3(key, result) {\n    this.s3.upload({\n      Bucket: this.bucketName,\n      Key: key,\n      Body: JSON.stringify(result)  \n      //Body: this.currentFile\n    }, function(err, data) {\n      if (err) {\n        console.log('There was an error uploading your file: '+err.message);\n        throw new Error(err.message);\n      } \n   });\n\n  }\n\n  // upload data in local storage to AWS and clear local Data, if failed, save\n  // data in local storage.\n  uploadLocalData() {   \n    var storedObj = this.getLocalData();\n    this.clearLocalData();\n    if (storedObj.length > 0) {\n      for (let op of storedObj) {\n        console.log(JSON.stringify(op));\n        var fileName = \"result_\" + (new Date().getTime()) + \"_\" + this.EncrDecr.getSHA256(localStorage.getItem('loggedInUser')) + \".json\";\n        this.uploadToS3(this.subfolder+\"/\"+fileName, [op.data]).catch(err => {\n          if (err ) {\n            console.log('Caught thrown error: '+err.message);\n            this.saveJsonObjLocally(op); \n          }\n          console.log('In uploadLocalData: update file successfully');\n        });     \n      }  \n    } \n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EncrDecrService {\n  constructor() { }\n \n  //The set method is use for encrypt the value.\n  set(keys, value){\n    var key = CryptoJS.enc.Utf8.parse(keys);\n    var iv = CryptoJS.enc.Utf8.parse(keys);\n    var encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(value.toString()), key,\n    {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n    return encrypted.toString();\n  }\n\n  //The get method is use for decrypt the value.\n  get(keys, value){\n    var key = CryptoJS.enc.Utf8.parse(keys);\n    var iv = CryptoJS.enc.Utf8.parse(keys);\n    var decrypted = CryptoJS.AES.decrypt(value, key, {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n    return decrypted.toString(CryptoJS.enc.Utf8);\n  }\n\n\n  encrypt(msg, pass) {\n\n    // Code goes here\n    var keySize = 256;\n    var ivSize = 128;\n    var iterations = 100;\n\n    //var message = \"Hello World\";\n    //var password = \"Secret Password\";\n    var salt = CryptoJS.lib.WordArray.random(128 / 8);\n\n    var key = CryptoJS.PBKDF2(pass, salt, {\n        keySize: keySize / 32,\n        iterations: iterations\n    });\n\n    var iv = CryptoJS.lib.WordArray.random(128 / 8);\n\n    var encrypted = CryptoJS.AES.encrypt(msg, key, {\n        iv: iv,\n        padding: CryptoJS.pad.Pkcs7,\n        mode: CryptoJS.mode.CBC\n\n    });\n\n    // salt, iv will be hex 32 in length\n    // append them to the ciphertext for use  in decryption\n    var transitmessage = salt.toString() + iv.toString() + encrypted.toString();\n    return transitmessage;\n  }\n\n  decrypt(transitmessage, pass) {\n\n    // Code goes here\n    var keySize = 256;\n    var ivSize = 128;\n    var iterations = 100;\n\n    var salt = CryptoJS.enc.Hex.parse(transitmessage.substr(0, 32));\n    var iv = CryptoJS.enc.Hex.parse(transitmessage.substr(32, 32))\n    var encrypted = transitmessage.substring(64);\n\n    var key = CryptoJS.PBKDF2(pass, salt, {\n        keySize: keySize / 32,\n        iterations: iterations\n    });\n\n    var decrypted = CryptoJS.AES.decrypt(encrypted, key, {\n        iv: iv,\n        padding: CryptoJS.pad.Pkcs7,\n        mode: CryptoJS.mode.CBC\n    });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n  }\n\n  getSHA256(inputStr){\n    return CryptoJS.SHA256(inputStr);\n  }\n\n\n}\n\n","import { Injectable } from '@angular/core';\nimport { Network } from '@ionic-native/network/ngx'\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ToastController, Platform } from '@ionic/angular';\n\nexport enum ConnectionStatus {\n  Online,\n  Offline\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n  private status: BehaviorSubject<ConnectionStatus> = new BehaviorSubject(ConnectionStatus.Offline);\n\n  constructor(\n    private network: Network, \n    private toastController: ToastController, \n    private plt: Platform) {\n      this.plt.ready().then(() => {\n        this.initializeNetworkEvents();\n        let status =  this.network.type !== 'none' ? ConnectionStatus.Online : ConnectionStatus.Offline;\n        this.status.next(status);\n    });       \n  }\n\n  public initializeNetworkEvents() {\n \n    this.network.onDisconnect().subscribe(() => {\n      if (this.status.getValue() === ConnectionStatus.Online) {\n        console.log('WE ARE OFFLINE');\n        this.updateNetworkStatus(ConnectionStatus.Offline);\n      }\n    });\n \n    this.network.onConnect().subscribe(() => {\n      if (this.status.getValue() === ConnectionStatus.Offline) {\n        console.log('WE ARE ONLINE');\n        this.updateNetworkStatus(ConnectionStatus.Online);\n      }\n    });\n  }\n\n  private async updateNetworkStatus(status: ConnectionStatus) {\n    this.status.next(status);\n \n    let connection = status == ConnectionStatus.Offline ? 'Offline' : 'Online';\n    let toast = this.toastController.create({\n      message: `You are now ${connection}`,\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.then(toast => toast.present());\n  }\n\n  public onNetworkChange(): Observable<ConnectionStatus> {\n    return this.status.asObservable();\n  }\n\n  public getCurrentNetworkStatus(): ConnectionStatus {\n    return this.status.getValue();\n  }    \n\n}\n","//\n//--- The goal of this file is to serve as base class for all storeage classes,\n//    for example, store to firebase, azure, aws s3. All common functions used  \n//    to them will be added here in the future,\n\nimport { Injectable } from '@angular/core';\nimport * as moment from 'moment';\n\ninterface StoreObj {\n    date: string,\n    data: any\n}\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class StoreBaseService {\n    protected STORAGE_REQ_KEY;\n\n    constructor() { \n    }\n\n    protected storeResultLocally(surveyResult) {\n        let obj: StoreObj = {\n            date: moment().format('YYYYMMDD'),\n            data: surveyResult\n        };\n    \n        console.log(\"Before saveJsonObjLocally: \"+this.STORAGE_REQ_KEY);\n        if(window.localStorage.getItem(this.STORAGE_REQ_KEY) == undefined ) {\n            var storedObj = [obj];\n            window.localStorage.setItem(this.STORAGE_REQ_KEY, JSON.stringify(storedObj));\n        } else {\n            this.saveJsonObjLocally(obj);\n        }\n    } \n    \n    protected saveJsonObjLocally(obj) {\n        var storedObj =  this.getLocalData();      \n        console.log(\"before push survey to local storage: \"+JSON.stringify(storedObj));\n        storedObj.push(obj);\n        console.log(\"after push survey to loca storage: \"+JSON.stringify(storedObj));\n        // Save old & new local transactions back to Storage\n        window.localStorage.setItem(this.STORAGE_REQ_KEY, JSON.stringify(storedObj));\n        \n    }      \n        \n    protected getLocalData(){       \n        return JSON.parse(window.localStorage.getItem(this.STORAGE_REQ_KEY));\n    }\n\n    protected clearLocalData(){\n        window.localStorage.removeItem(this.STORAGE_REQ_KEY);\n    }      \n}\n\n  ","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StoreToFirebaseService } from './store-to-firebase.service';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { environment } from '../../environments/environment';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { EncrDecrService } from './encrdecrservice.service';\nimport { AwsS3Service } from './aws-s3.service';\nimport { Network } from '@ionic-native/network/ngx';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    AngularFirestoreModule\n  ],\n  providers: [ StoreToFirebaseService, EncrDecrService, AwsS3Service, Network]\n})\nexport class StorageModule { }\n","//\n//--- The goal of this file is to upload an object to firebase, the configuration\n//--- is at app/environments/environment.ts. At app/storage/storage.module.ts, \n//--- we load the environment configuration and setup our module to use the \n//--- AngularFire package \n\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { StoreBaseService } from './storage-base.service';\n\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StoreToFirebaseService extends StoreBaseService {\n\n  constructor(\n    private afs: AngularFirestore\n  ) { \n    super();\n  }\n\n  //upload obj to path in firebase\n  addSurvey(path, obj: object){\n    console.log(\"Start to addSurvey!\");\n    return new Promise<any>((resolve, reject) => {\n      this.afs.collection(path).add(obj)\n      .then(\n        (res) => {\n          resolve(res)\n        },\n        err => reject(err)\n      )\n    }) \n  }    \n\n}\n","import * as SurveyActions from './survey.actions';\n\nexport {SurveyActions};","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvc3VydmV5L2F5YS1zYW1wbGUtc3VydmV5L2F5YS1zYW1wbGUtc3VydmV5LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdXJ2ZXkvYXlhLXNhbXBsZS1zdXJ2ZXkvYXlhLXNhbXBsZS1zdXJ2ZXkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc3VydmV5L2F5YS1zYW1wbGUtc3VydmV5L2F5YS1zYW1wbGUtc3VydmV5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { DatabaseService } from 'src/app/monitor/database.service';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { MobileAccessibility } from '@ionic-native/mobile-accessibility/ngx';\n\n@Component({\n  selector: 'app-aya-sample-survey',\n  templateUrl: './aya-sample-survey.component.html',\n  styleUrls: ['./aya-sample-survey.component.scss'],\n})\nexport class AyaSampleSurveyComponent implements OnInit {\n\n  constructor(\n    private userProfileService: UserProfileService,\n    private mobileAccessibility: MobileAccessibility,\n    private appUsageDb: DatabaseService) { }\n\n  ngOnInit() {\n    this.mobileAccessibility.usePreferredTextZoom(false);\n  }\n\n  ionViewDidEnter(){\n    /*\n    this.db.getDatabaseState().subscribe(rdy => {\n     if (rdy) {     \n       this.db.addTrack(this.pageTitle, \"Enter\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n     }\n    });\n    */\n    this.appUsageDb.saveAppUsageEnter(\"aya_survey_page\");\n }  \n\n ionViewDidLeave(){\n    /*\n    console.log(this.pageTitle+\": ionViewDidLeave\");\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {     \n        this.db.addTrack(this.pageTitle, \"Leave\", this.userProfileService.username, Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length); \n      }\n    });\n    */    \n    this.mobileAccessibility.usePreferredTextZoom(true);\n    this.appUsageDb.saveAppUsageExit(\"aya_survey_page\");\n  \n }\n \n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N1cnZleS9keW5hbWljLXN1cnZleS9keW5hbWljLXN1cnZleS5jb21wb25lbnQuc2NzcyJ9 */\"","//\n//--- The goal of this file is to dynamically generate a survey from a JSON file. \n//--- Example JSON files are located in assets/survey folder. \n//\n//--- At a high level, this file does the following:\n//      (i) reads a JSON file in the \"ngAfterViewInit\" \n//      (ii) calls the \"generateSurvey\" function to create html codes for the survey\n//      (iii) creates a component dynamically and attached it to the \"vc\" component.\n\nimport { Component, OnInit, ViewChild, ViewContainerRef, NgModule, Compiler, Injector, NgModuleRef, ElementRef, Input, ChangeDetectorRef } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AwsS3Service } from '../../storage/aws-s3.service';\nimport { EncrDecrService } from '../../storage/encrdecrservice.service';\n\nimport { Platform, AlertController } from '@ionic/angular';\nimport { Router, NavigationExtras} from '@angular/router';\nimport * as moment from 'moment';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\n\n//import * as lifeInsightProfile from \"../../../assets/data/life_insight.json\";\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { AwardDollarService } from 'src/app/incentive/award-money/award-dollar.service';\nimport { environment } from '../../../environments/environment';\nimport { Store } from '@ngrx/store';\nimport { AppState } from 'src/app/reducers';\nimport { surveyCompleted } from '../survey.actions';\nimport { SurveyTimeline } from '../model/surveyTimeline';\nimport { UnlockedIncentives } from '../../incentive/model/unlocked-incentives';\nimport { surveyCompletedRegisterUnlocked } from 'src/app/incentive/incentive.actions';\n\n@Component({\n  selector: 'app-dynamic-survey',\n  templateUrl: './dynamic-survey.component.html',\n  styleUrls: ['./dynamic-survey.component.scss']\n})\n\n//@PreLoad('life-insights')\nexport class DynamicSurveyComponent implements OnInit {\n\n  //inputs the json file used to generate a survey\n  @Input() fileLink: string;\n\n  title = \"mash is here\";\n  public isLoading = true;\n  public loadingComplete = false;\n  \n  survey_string = \"\";\n  survey = {};\n  survey_data: any;\n  versionNumber;\n\n  //\"vc\" is the div tag where the dynamic survey will be added.\n  @ViewChild('vc', { read: ViewContainerRef, static: false}) vc: ViewContainerRef;\n\n  constructor(private _compiler: Compiler,\n    private _injector: Injector,\n    private _m: NgModuleRef<any>, \n    private awsS3Service: AwsS3Service,\n    //private storeToFirebaseService: StoreToFirebaseService,\n    private EncrDecr: EncrDecrService,\n    private router: Router,\n    private changeDetector : ChangeDetectorRef,\n    private appVersion: AppVersion,\n    private alertCtrl: AlertController,\n    public plt: Platform,\n    private userProfileService: UserProfileService,\n    private store: Store<AppState>,\n    private awardDollarService:AwardDollarService) {\n      this.appVersion.getVersionNumber().then(value => {\n        this.versionNumber = value;\n        console.log(\"VersionNumber: \"+this.versionNumber);\n      }).catch(err => {\n        console.log(err);\n      });\n  }\n\n  ngOnInit() { }\n\n  ngAfterViewInit() {\n      console.log('Reading local json files: ' + this.fileLink);\n\n      //fetch JSON file and once the file is fetched called \"generateSurvey\" to create the survey.\n      fetch('../../../assets/data/'+this.fileLink+'.json').then(async res => {\n        this.survey_data = await res.json();\n        this.generateSurvey();\n      });\n  }\n\n  generateSurvey() {  \n\n    //go through the questions\n    this.survey = {};\n    for (var i = 0; i < this.survey_data.length; i++) {\n      var obj = this.survey_data[i];\n      //console.log(\"Done \" + obj.text);\n      this.survey[obj.name] = \"\";\n      this.survey_string = this.process_survey(obj, this.survey_string, obj.name);\n    }\n    this.survey_string = this.survey_string + '<div class=\"ion-padding\"><button class=\"buttonold button-positive\" (click)=\"submitSurvey()\">Submit</button></div>';\n\n    //---\n    //--- Generate a survey component dynamically from the \"survey_string.\"\n    //--- The \"survey_string\" contains all the HTML for the template for dynamic component\n    //--- \n    const surveyComponent = Component({ template: this.survey_string })(class implements OnInit{\n      \n      survey2 = {};\n      isQuestionIncomplete = {};\n      fileLink;\n      versionNumber;\n      lifeInsightObj = {};\n      //storeToFirebaseService: StoreToFirebaseService;\n      \n      EncrDecr: EncrDecrService;\n      awsS3Service: AwsS3Service;\n      totalPoints = 0;\n      plt: Platform;\n      router: Router;\n      userProfileService: UserProfileService;\n      awardDollarService: AwardDollarService;\n      survey_data = [];\n      alertCtrl;\n      store: Store<AppState>;\n\n\n      constructor() {\n      }\n\n      ngOnInit() {\n        this.survey2['starttimeUTC'] = new Date().getTime();\n        this.survey2['reponse_ts']={};\n        for (var i = 0; i < this.survey_data.length; i++) {\n          var obj = this.survey_data[i];\n          this.isQuestionIncomplete[obj.name] = {\"tag\": obj.tag};\n        }\n      }\n\n      ngAfterViewInit() {\n        setTimeout(e => this.drawMoodGrid(this), 200);\n      }\n\n      drawMoodGrid(self2){\n        \n        var c = <HTMLCanvasElement>document.getElementById(\"myCanvas\");\n        if (c == null){\n          console.log(\"is null\");\n          return;\n        }\n        \n        c.style.width = '100%';\n        c.width = c.offsetWidth;\n        c.height = c.width;\n\n        var ctx = c.getContext(\"2d\");\n        var imageObj = new Image();\n        imageObj.src = 'assets/pics/affect_grid.png';\n        imageObj.onload = function () {\n          ctx.drawImage(imageObj, 0, 0, imageObj.width, imageObj.height, // source rectangle\n            0, 0, c.width, c.height); // destination rectangle\n        }\n\n        //corner points\n        var top_x = (42.0/354.0)*c.width;\n        var top_y = (32.0/354.0)*c.height;\n        var bottom_x = (320.0/354.0)*c.width;\n        var bottom_y = (320.0/354.0)*c.height;\n\n        c.addEventListener(\"click\", function (e) {\n          //drawing = true;\n          var rect = c.getBoundingClientRect();\n          var lastPos = {\n            x: e.clientX - rect.left,\n            y: e.clientY - rect.top\n          };\n          //console.log(\"x:\" + lastPos.x + \", y:\" + lastPos.y + \":::: \" + c.width + \",\" + c.height);\n\n          var x = -1;\n          var y = -1;\n          if((lastPos.x >= top_x) && (lastPos.y >= top_y) && (lastPos.x <= bottom_x) && (lastPos.y <= bottom_y)){\n              x = 10 * (lastPos.x - top_x) / (bottom_x - top_x) - 5;\n              y = 5 - 10 * (lastPos.y - top_y) / (bottom_y - top_y) - 5;\n              console.log(\"x:\" + x + \", y:\" + y);\n              self2.survey2['QMood'] = \"\" + x + \":\" + y;\n\n              //\n              self2.inputchanged(\"QMood\");\n          }else{\n              return;\n          }\n          \n          var rect = c.getBoundingClientRect();\n          ctx.beginPath();\n          ctx.clearRect(0, 0, rect.right-rect.left, rect.bottom-rect.top);\n          ctx.closePath();\n          \n          //\n          ctx.drawImage(imageObj, 0, 0, imageObj.width,    imageObj.height, // source rectangle\n                     0, 0, c.width, c.height); // destination rectangle\n          \n          //ctx.drawImage(imageObj, 0, 0);\n          ctx.beginPath();\n          ctx.arc(lastPos.x,lastPos.y,10,0,2*Math.PI);\n          ctx.fillStyle = 'red';\n          ctx.fill();\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'red';\n          ctx.stroke();\n        }, false);\n        \n      }\n\n      //This function tracks if users clicked on a survey question\n      modelChanged(newObj) {\n        console.log('holla' + newObj);\n      }\n\n      //This function tracks if users clicked on a survey question and reacts.       \n      inputchanged(questions) {\n        //console.log('holla: ' + questions);\n\n        this.survey2['reponse_ts'][questions] = {};\n        this.survey2['reponse_ts'][questions].ts = Date.now();\n        this.survey2['reponse_ts'][questions].readable_ts = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n\n        delete this.isQuestionIncomplete[questions]; //remove the key from isQuestionIncomplete\n        //console.log(JSON.stringify(this.survey2));\n      }\n\n      submitSurvey(){\n        if(this.isEmpty(this.isQuestionIncomplete))//means all questions have been removed\n          this.storeData();\n        else{\n          var incompleteQuestions = \"\";\n          for(var prop in this.isQuestionIncomplete) {\n            incompleteQuestions = incompleteQuestions + \" \" + this.isQuestionIncomplete[prop][\"tag\"] + \",\";\n          }\n          incompleteQuestions = incompleteQuestions.substring(0, incompleteQuestions.length - 1);\n          this. presentAlert(\"You haven't completed questions:\" + incompleteQuestions);\n        }\n      }\n\n\n      async presentAlert(alertMessage) {\n    \n        const alert = await this.alertCtrl.create({\n          //<div style=\"font-size: 20px;line-height: 25px;padding-bottom:10px;text-align:center\">Thank you for completing the survey. You have unlocked a meme.</div>\n          //header: '<div style=\"line-height: 25px;padding-bottom:10px;text-align:center\">Daily survey unavilable</div>',\n          header: 'Oops! You missed a question',\n          //subHeader: \"Survey is not avaibable!\",\n          message: alertMessage,\n          //defined in theme/variables.scss\n          buttons: [{text: 'OK', cssClass: 'secondary'}]\n        });\n        \n        /*\n        let alert = this.alertCtrl.create({\n          title: 'Low battery',\n          subTitle: '10% of battery remaining',\n          buttons: ['Dismiss']\n        });\n        */\n    \n        await alert.present();\n      }\n\n      isEmpty(obj) {      \n        return JSON.stringify(obj) === JSON.stringify({});\n      }\n\n      storeData(){\n        //console.log(\"Inside storeData\");\n        //console.log(JSON.stringify(this.survey2));\n         \n        var endTime = new Date().getTime();\n        var readable_time = moment().format('MMMM Do YYYY, h:mm:ss a Z');\n        this.survey2['endtimeUTC'] = endTime;\n        this.survey2['userName'] = this.userProfileService.username;\n        this.survey2['ts'] = readable_time;\n\n        this.survey2['devicInfo'] = this.plt.platforms();\n\n        //Store app version number\n        this.survey2['appVersion'] = this.versionNumber;\n        this.userProfileService.versionNumber = this.versionNumber;\n\n        var encrypted = this.EncrDecr.encrypt(JSON.stringify(this.survey2), environment.encyptString);\n        //var encrypted = this.EncrDecr.encrypt(\"holla\", \"Z&wz=BGw;%q49/<)\");\n        var decrypted = this.EncrDecr.decrypt(encrypted, environment.encyptString);\n\n        var survey3 = {};\n        survey3['encrypted'] = encrypted;\n\n        //console.log('Encrypted :' + encrypted);\n        //console.log('Decrypted :' + decrypted);\n        this.survey2['encrypted'] = encrypted;\n        \n        //compute and store \"TotalPoints\" to localStorage\n        if(window.localStorage['TotalPoints'] == undefined)\n          this.totalPoints = 0;\n        else\n          this.totalPoints = parseInt(window.localStorage['TotalPoints']);\n        this.totalPoints = this.totalPoints + 60;\n        window.localStorage.setItem(\"TotalPoints\", \"\"+this.totalPoints);\n\n        //get \"awardDollars\"\n        var pastDollars = this.awardDollarService.getCurrentlyEarnedDollars();\n        var dollars = this.awardDollarService.giveDollars();\n        //console.log(\"Dollars: \" + dollars);\n\n        this.userProfileService.surveyCompleted(); \n\n\n         //Save 7-day date and value for each question in localStorage to generate lifeInsight chart\n         var lifeInsightProfile = {\n            \"questions\":[\"Q3d\",\"Q4d\",\"Q5d\",\"Q8d\"],\n            \"qimgs\": [\"assets/img/stress.png\",\"assets/img/freetime.png\",\"assets/img/dance2.png\",\"assets/img/social.png\"],\n            \"lifeInsightsTitle\": [\"How much <b>pain</b> are you currently experiencing?\", \n                \"How much <b>fatigue</b> are you currently experiencing?\", \n                \"How much <b>nausea</b> are you currently experiencing?\", \n                \"How <b>motivated</b> are you to take 6MP today?\"],\n            \"qYaxis\": [\"Pain level\",\"Fatigue level\",\"Nausea level\",\"Degree of motivation\"],\n            \"qSubText\": [\"0 = low pain, 4 = severe pain\", \n                    \"0 = low fatigue, 4 = severe fatigue\",\n                    \"0 = low nausea, 4 = severe nausea\",\n                    \"0 = less motivated, 4 = highly motivated\"],\n            \"lifeInsightsHighStress\": [\n                \"Stressed <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\", \n                \"Fatigued <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\", \n                \"Nausea <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\",\n                \"Motivated <i class='em em-name_badge'></i><i class='em em-sweat_drops'></i>\"],\n            \"lifeInsightsLowStress\": [\n                \"Relaxed <i class='em em-sunglasses'></i><i class='em em-boat'></i>\",  \n                \"Fatigued <i class='em em-sunglasses'></i><i class='em em-boat'></i>\", \n                \"Nausea <i class='em em-sunglasses'></i><i class='em em-boat'></i>\", \n                \"Motivated <i class='em em-sunglasses'></i><i class='em em-boat'></i>\"]          \n        };\n        \n        var questionsArray = lifeInsightProfile.questions;  //[\"Q3d\",\"Q4d\",\"Q5d\",\"Q8d\"]\n        if(window.localStorage['lifeInsight'] == undefined) {\n\n          for (let question of questionsArray) {          \n            this.lifeInsightObj[question] = {};\n            this.lifeInsightObj[question]['dates'] = [moment().format(\"DD-MM-YYYY\")];\n            if(this.survey2.hasOwnProperty(question)) {\n              this.lifeInsightObj[question]['data'] = [parseInt(this.survey2[question])];\n            }\n            else {\n              this.lifeInsightObj[question]['data'] = [null];\n            }\n          }         \n        } else {\n           this.lifeInsightObj= JSON.parse(window.localStorage[\"lifeInsight\"]);\n\n           for (let question of questionsArray) {   \n            var dateslength = this.lifeInsightObj[question]['dates'].length;\n            if(dateslength == 7) {\n              this.lifeInsightObj[question]['dates'].shift();\n              this.lifeInsightObj[question]['data'].shift();\n            }      \n            var currentdate = moment().format(\"DD-MM-YYYY\");\n            var dates = this.lifeInsightObj[question][\"dates\"];\n            var dateIndex = dates.indexOf(currentdate);\n            console.log(\"Current date exist? \"+dateIndex);\n            if( dateIndex > -1 ) {\n              this.lifeInsightObj[question]['dates'][dateIndex] =currentdate;\n              if(this.survey2.hasOwnProperty(question)) {\n                this.lifeInsightObj[question]['data'][dateIndex]=(parseInt(this.survey2[question]));\n              }\n              else {\n                this.lifeInsightObj[question][dateIndex]=null;\n              }\n            } else {\n              this.lifeInsightObj[question]['dates'].push(currentdate);\n              if(this.survey2.hasOwnProperty(question)) {\n                this.lifeInsightObj[question]['data'].push(parseInt(this.survey2[question]));\n              }\n              else {\n                this.lifeInsightObj[question]['data'].push(null);\n              }\n             } \n          }\n      }\n      //console.log(\"lifeInsightObj: \"+JSON.stringify(this.lifeInsightObj));\n      window.localStorage.setItem(\"lifeInsight\", JSON.stringify(this.lifeInsightObj));\n\n      //save to Amazon AWS S3\n      this.awsS3Service.upload(this.fileLink, survey3);\n      //console.log(\"End of storeData\");\n\n      //navigate to award-memes/award-altruism with equal probability after submit survey\n      var currentProb = Math.random();\n      window.localStorage.setItem(\"Prob\", \"\"+currentProb);\n      var currentDate = moment().format('YYYYMMDD');\n      let navigationExtras: NavigationExtras = {\n        state: {\n          date: currentDate,\n          prob: currentProb          \n        }\n      };\n\n      //prepare reinforcement data to upload to AWS S3\n      var reinforcement_data = {};\n      reinforcement_data['userName'] = this.userProfileService.username;\n      reinforcement_data['appVersion'] = this.versionNumber;\n      reinforcement_data['Prob'] = currentProb;\n      reinforcement_data['day_count'] = Object.keys(this.userProfileService.userProfile.survey_data.daily_survey).length;\n      reinforcement_data['isRandomized'] = 1;//what is this one??\n      reinforcement_data['unix_ts'] = endTime;\n      reinforcement_data['readable_ts'] = readable_time;\n      reinforcement_data['date'] =  currentDate;\n      //save to Amazon AWS S3\n\n\n      //add for the  modal object\n      var modalObjectNavigationExtras = {};\n      modalObjectNavigationExtras[\"LastSurveyCompletionDate\"] = moment().format('YYYYMMDD');\n      modalObjectNavigationExtras[\"CurrentPoints\"] = this.userProfileService.points;\n      modalObjectNavigationExtras[\"PreviousPoints\"] = this.userProfileService.points-60;\n      modalObjectNavigationExtras[\"AwardedDollar\"] = dollars-pastDollars;\n      modalObjectNavigationExtras[\"IsModalShownYet\"] = false;\n      \n      \n      //currentProb = 0.8;\n      if(this.fileLink.includes('caregiver') || currentProb <= 0.4 ) {\n        var reinforcementObj = {};\n        reinforcementObj['ds'] = 1;\n        reinforcementObj['reward'] = 0;\n        reinforcementObj['prob'] = currentProb;\n        reinforcement_data['reward'] = \"No push\"; \n        reinforcement_data['reward_img_link'] = \"\"; \n        reinforcement_data['Like'] = \"\"; \n        this.awsS3Service.upload('reinforcement_data', reinforcement_data);  \n        this.userProfileService.addReinforcementData(currentDate, reinforcementObj);    \n        navigationExtras['state']['modalObjectNavigationExtras'] = modalObjectNavigationExtras;\n        this.router.navigate(['home'], navigationExtras);        \n      } else if((currentProb > 0.4)  &&  (currentProb <=0.7)){\n        reinforcement_data['reward'] = \"Meme\"; \n        navigationExtras['state']['reinforcement_data'] = reinforcement_data;\n        navigationExtras['state']['modalObjectNavigationExtras'] = modalObjectNavigationExtras;\n        this.router.navigate(['incentive/award-memes'], navigationExtras);\n      } else if(currentProb > 0.7){\n        reinforcement_data['reward'] = \"Altruistic message\"; \n        navigationExtras['state']['reinforcement_data'] = reinforcement_data;\n        navigationExtras['state']['modalObjectNavigationExtras'] = modalObjectNavigationExtras;\n        this.router.navigate(['incentive/award-altruism'],  navigationExtras);\n      }\n      \n      \n      let surveyTimeline: SurveyTimeline = {user_id: this.userProfileService.username, \n            timeline: [{dateOfCompletion: currentDate, timestamp: endTime, readableTimestamp: readable_time}]};\n      this.store.dispatch(surveyCompleted({surveyTimeline}));\n\n      \n\n      var payload: Object = {user_id: this.userProfileService.username, \n                     last_date: moment().format('YYYYMMDD'),\n                     unlocked_points: 60, \n                     unlocked_money: dollars-pastDollars, \n                     current_point: this.userProfileService.points, \n                     date: moment().format('YYYYMMDD'),\n                     isUnlockedViewShown: false};\n      this.store.dispatch(surveyCompletedRegisterUnlocked({payload}));\n     }\n\n    });\n\n    const tmpModule = NgModule({ declarations: [surveyComponent], imports: [FormsModule]})(class {\n    });\n\n    this._compiler.compileModuleAndAllComponentsAsync(tmpModule)\n      .then((factories) => {\n        this.isLoading = false;\n        this.loadingComplete = true;\n        //setTimeout(function(){ console.log(\"holla\") }, 3000);\n        this.changeDetector.detectChanges();\n        const f = factories.componentFactories[0];\n        const cmpRef = this.vc.createComponent(f);\n        cmpRef.instance.awsS3Service = this.awsS3Service;\n        cmpRef.instance.survey2 = this.survey;\n        cmpRef.instance.fileLink = this.fileLink;  \n        cmpRef.instance.versionNumber= this.versionNumber;      \n        cmpRef.instance.survey_data = this.survey_data;    \n        //cmpRef.instance.storeToFirebaseService = this.storeToFirebaseService;\n        cmpRef.instance.alertCtrl = this.alertCtrl;   \n        cmpRef.instance.userProfileService = this.userProfileService;\n        cmpRef.instance.awardDollarService = this.awardDollarService;\n        cmpRef.instance.EncrDecr = this.EncrDecr;\n        cmpRef.instance.plt = this.plt;\n        cmpRef.instance.router = this.router;// Router,\n        cmpRef.instance.store = this.store;\n        cmpRef.instance.name = 'dynamic';\n        //console.log('called');\n    });\n  }\n\n  getTitle() {\n    return this.title;\n  }\n\n  // process survey if obj type is radiobutton\n  process_survey_radiobutton(obj, survey_string, i){\n      //------------------------------------------------------ \n      //radio button, vertical     \n      //------------------------------------------------------   \n      \n      if (obj.extra.orientation == \"vertical\") {\n          survey_string = survey_string + '<div class=\"radiovertical\"><ul>';\n\n          for (var j = 0; j < obj.extra.choices.length; j++) {\n\n              survey_string = [survey_string,\n                  '<li><input type=\"radio\" id=\"option' + i + \"I\" + j + '\" name=\"' + i + '\" [(ngModel)]=\"survey2.' + i + '\" value=\" ' + obj.extra.choices[j] + '\" (change)=\"inputchanged(\\'' + i + '\\')\">',\n                  '<label for=\"option' + i + \"I\" + j + '\">' + obj.extra.choices[j] + '</label>',\n                  '<div class=\"check\"></div></li>'\n              ].join(\" \");\n\n          }\n\n          //if(this.choices == undefined) this.choices = {};\n          //this.choices[obj.name]= obj.extra.choices;\n          survey_string = survey_string + '</ul></div>';\n      }\n\n      //------------------------------------------------------ \n      //radio button, horizontal     \n      //------------------------------------------------------\n      //console.log(\"Here: \" + JSON.stringify(obj.extra.orientation) + \", \" + obj.extra.choices.length);\n      if (obj.extra.orientation == \"horizontal\") {\n\n          survey_string = survey_string + '<div class=\"radiohorizontal\"><ul>';\n\n          //starting text\n          survey_string = survey_string + '<li><p>' + obj.extra.choices[0] + '</p></li>';\n\n          //middle text\n          for (var j = 0; j < obj.extra.levels; j++) {\n              survey_string = [survey_string,\n                  '<li><input type=\"radio\" id=\"option' + i + \"I\" + j + '\" name=\"' + i + '\" [(ngModel)]=\"survey2.' + i + '\" value=\"' + j + '\" (change)=\"inputchanged(\\'' + i + '\\')\">',\n                  '<label for=\"option' + i + \"I\" + j + '\"></label>',\n                  '<div class=\"check\"></div></li>'\n              ].join(\" \");\n              //console.log(\"\" + j + \", \" + obj.extra.choices.length);\n          }\n\n          //ending text\n          survey_string = survey_string + '<li><p>' + obj.extra.choices[obj.extra.choices.length-1] + '</p></li>';\n          survey_string = survey_string + '</ul></div>';\n      }\n\n\n      return survey_string;\n  }\n\n  //\n  // process survey for all types of objects\n  // Our current questionaire only has radio buttons. We have codes for other types of inputs, which we will gradually add.\n  //\n\n  process_survey(obj, survey_string, i) {\n\n        survey_string = [survey_string,\n          '<div class=\"card\"><div class=\"quetiontextstyle\">',\n          obj.text,\n          '</div>'\n        ].join(\" \"); \n    \n        if (obj.type == 'random') {\n          //this.process_survey_random(obj, survey_string, i);\n    \n        } else {\n          //\n           if (obj.type == \"captcha\") {\n    \n              //survey_string = this.process_survey_captcha(obj, survey_string);\n    \n          } \n          \n     \n          //------------------------------------------------------                  \n          //text box  \n          //------------------------------------------------------                 \n          if (obj.type == \"textbox\") {\n              //survey_string = this.process_survey_textbox(survey_string, i);\n          }\n    \n        //------------------------------------------------------                  \n          //time picker\n          //------------------------------------------------------                 \n          if (obj.type == \"timepicker\") {\n              //survey_string = this.process_survey_timepicker(survey_string, i);\n          }\n    \n          //------------------------------------------------------                  \n          //paragraph\n          //------------------------------------------------------                 \n          if (obj.type == \"comment\") {\n              //survey_string = this.process_survey_comment(survey_string);\n          }\n    \n          //------------------------------------------------------                  \n          //image\n          //------------------------------------------------------  \n          if (obj.type == \"image\") {\n              //survey_string = this.process_survey_image(obj, survey_string);\n          }\n    \n    \n          //------------------------------------------------------\n          //  mood\n          //------------------------------------------------------\n          if (obj.type == 'mood') {\n              //survey_string = this.process_survey_mood(survey_string, i);\n          }\n    \n    \n          //------------------------------------------------------\n          //  mood-grid\n          //------------------------------------------------------\n          if (obj.type == 'moodgrid') {\n              //survey_string = this.process_survey_moodgrid(survey_string, i);\n          }\n    \n          if (obj.type == \"moodgrid2\") {\n              //survey_string = this.process_survey_moodgrid2(survey_string);\n          }\n    \n    \n    \n          //------------------------------------------------------                  \n          // Autocomplete \n          //------------------------------------------------------   \n          // 'component-id=\"Q' + i + '\" ' + \n          if (obj.type == 'autocomplete') {\n              //survey_string = this.process_survey_autocomplete(obj, survey_string, i);\n          }\n    \n    \n          //------------------------------------------------------ \n          // radio button       \n          //------------------------------------------------------            \n          if (obj.type == \"radiobutton\") {\n              survey_string = this.process_survey_radiobutton(obj, survey_string, i);\n          }\n    \n          //------------------------------------------------------                  \n          // range\n          //------------------------------------------------------                 \n          if (obj.type == \"range\") {\n              //survey_string = this.process_survey_range(obj, survey_string, i);\n          }\n    \n          if (obj.type == \"range2\") {\n              //survey_string = this.process_survey_range2(obj, survey_string, i);\n          }\n    \n    \n          //------------------------------------------------------                  \n          //checkbox  \n          //------------------------------------------------------                 \n          if (obj.type == \"checkbox\") {\n              //survey_string = this.process_survey_checkbox(obj, survey_string, i);\n          }\n    \n          survey_string = survey_string + '</div>';\n        }\n        return survey_string;\n  }\n\n}\n","import { SurveyTimeline } from '../model/surveyTimeline';\nimport { createReducer, on } from '@ngrx/store';\nimport { SurveyActions } from '../action-types';\nimport * as moment from 'moment';\n\nexport interface SurveyState{\n    surveyTimeLine : SurveyTimeline\n}\n\n\nexport const initialSurveyState: SurveyState = {\n    surveyTimeLine: undefined \n}\n\n\nexport const surveyReducer = createReducer(\n\n    initialSurveyState,\n    on(SurveyActions.surveyCompleted, (state, action) => {\n        var currentDate = moment().format('YYYYMMDD');\n        var surveyObject = {};\n        surveyObject[currentDate] = action.surveyTimeline;\n        return surveyObject;\n    })\n\n    /*\n    on(AuthActions.login, (state, action) => {\n        return {\n            user: action.user\n        }\n    }),\n\n    on(AuthActions.logout, (state, action) => {\n        return {\n            user: undefined\n        }\n    })\n    */\n\n\n\n);","module.exports = \".new-background-color {\\n  --background: #005486;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvc3VydmV5L3NhbXBsZS1zdXJ2ZXkvc2FtcGxlLXN1cnZleS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3VydmV5L3NhbXBsZS1zdXJ2ZXkvc2FtcGxlLXN1cnZleS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zdXJ2ZXkvc2FtcGxlLXN1cnZleS9zYW1wbGUtc3VydmV5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzAwNTQ4Njtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMwMDU0ODY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\n//import { PreLoad } from '../../PreLoad';\nimport { DatabaseService } from 'src/app/monitor/database.service';\nimport { UserProfileService } from 'src/app/user/user-profile/user-profile.service';\nimport { MobileAccessibility } from '@ionic-native/mobile-accessibility/ngx';\n\n@Component({\n  selector: 'app-sample-survey',\n  templateUrl: './sample-survey.component.html',\n  styleUrls: ['./sample-survey.component.scss'],\n})\n\n//@PreLoad('life-insights')\nexport class SampleSurveyComponent implements OnInit {\n  pageTitle = \"Survey_caregiver\";\n\n  constructor(\n    private userProfileService: UserProfileService,\n    private mobileAccessibility: MobileAccessibility,\n    private appUsageDb: DatabaseService\n  ) { }\n\n  ngOnInit() {\n    this.mobileAccessibility.usePreferredTextZoom(false);\n  }\n  \n  ionViewDidEnter(){\n    //\n    this.appUsageDb.saveAppUsageEnter(\"cg_survey_page\"); \n\n }  \n\n ionViewDidLeave(){\n    //\n    this.mobileAccessibility.usePreferredTextZoom(true);\n    this.appUsageDb.saveAppUsageExit(\"cg_survey_page\");   \n\n }\n\n}\n","import {createAction, props} from '@ngrx/store';\nimport { SurveyTimeline } from './model/surveyTimeline';\n\n\nexport const surveyCompleted = createAction(\n    \"[Survey Page] Survey Completed\",\n    props<{surveyTimeline: SurveyTimeline}>()\n);","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {tap} from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport { SurveyActions } from './action-types';\nimport { UserProfileService } from '../user/user-profile/user-profile.service';\nimport { HttpClient } from '@angular/common/http';\nimport * as moment from 'moment';\nimport { environment } from '../../environments/environment';\n\n\n@Injectable()\nexport class SurveyEffects {\n    \n    login$ = createEffect(() =>\n        this.actions$.pipe(\n                ofType(SurveyActions.surveyCompleted),\n                tap(action => {\n                    //store on a server\n                    localStorage.setItem('surveyTimeline',\n                        JSON.stringify(action.surveyTimeline));\n\n\n                    //\n                    var username = this.userProfileService.username;\n                    var currentTimeTs = Date.now();\n                    var currentTimeReadableTs = moment().format(\"MMMM Do YYYY, h:mm:ss a Z\");\n                    var dataString = moment().format(\"YYYYMMDD\");\n                    const headers = { \"Content-Type\": \"application/json;charset=UTF-8\"};\n                    const body = {\"user_id\": username, \"dataString\": dataString, \"whenCompletedTs\": currentTimeTs, \"whenCompletedReadableTs\": currentTimeReadableTs};\n                    /*\n                    this.httpClient.post<any>(\"http://ec2-54-91-131-166.compute-1.amazonaws.com:56733/store-onesignal-id\", body, { headers }).subscribe({\n                    next: data => console.log(data),\n                    error: error => console.error('There was an error!', error)\n                    });\n                    */\n                    var flaskServerAPIEndpoint = environment.flaskServerForIncentives;\n                    this.httpClient.post(flaskServerAPIEndpoint + \"/store-survey-completed\", body)\n                    .subscribe({\n                        next: data => console.log(\"--survey_completed-- \" + JSON.stringify(data)),\n                        error: error => console.error('There was an error!', error)\n                    });    \n                })\n            )\n    ,\n    {dispatch: false});\n\n\n    constructor(private actions$: Actions,\n                private router: Router,\n                private userProfileService: UserProfileService,\n                private httpClient: HttpClient) {\n\n    }\n\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n//import { PromptedSurveyComponent } from './prompted-survey/prompted-survey.component';\n//import { MorningReportComponent } from './morning-report/morning-report.component';\n//import { InitiatedDrinkComponent } from './initiated-drink/initiated-drink.component';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { StorageModule } from '../storage/storage.module';\n//import { ActivetaskComponent } from './activetask/activetask.component';\n//import { ActiveTask2Component } from './active-task2/active-task2.component';\nimport { DynamicSurveyComponent } from './dynamic-survey/dynamic-survey.component';\nimport { SampleSurveyComponent } from './sample-survey/sample-survey.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IncentiveModule } from '../incentive/incentive.module';\nimport { AyaSampleSurveyComponent } from './aya-sample-survey/aya-sample-survey.component';\nimport { StoreModule } from '@ngrx/store';\nimport {surveyReducer} from './reducers';\nimport {EffectsModule} from '@ngrx/effects';\nimport { SurveyEffects } from './survey.effects';\n\nconst routes: Routes = [\n    { path: 'samplesurvey', component: SampleSurveyComponent }\n];\n\n@NgModule({\n  declarations: [\n    //InitiatedDrinkComponent,\n    //MorningReportComponent,\n    //PromptedSurveyComponent,\n    //ActivetaskComponent,\n    DynamicSurveyComponent,\n    AyaSampleSurveyComponent,\n    //ActiveTask2Component,\n    SampleSurveyComponent],\n  imports: [\n    CommonModule,\n    IonicModule.forRoot(),\n    FormsModule,\n    StorageModule,\n    IncentiveModule,\n    RouterModule.forChild(routes),\n    StoreModule.forFeature('survey', surveyReducer),\n    EffectsModule.forFeature([SurveyEffects])\n  ],\n  exports:[\n    //InitiatedDrinkComponent,\n    //MorningReportComponent,\n    //PromptedSurveyComponent,\n    //ActivetaskComponent,\n    //ActiveTask2Component,\n    DynamicSurveyComponent,\n    SampleSurveyComponent,\n    AyaSampleSurveyComponent\n  ]\n})\nexport class SurveyModule { }\n","module.exports = \".new-background-color {\\n  --background: #3F51B5;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNoMi9Ecm9wYm94IChQQUMgTEFCKS9jb2Rlcy9pb25pY19wcm9qZWN0cy9TQVJBVjMvU0FSQV9tb2R1bGFyL3NyYy9hcHAvdXNlci9hdXRoL2F1dGguY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3VzZXIvYXV0aC9hdXRoLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3VzZXIvYXV0aC9hdXRoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy1iYWNrZ3JvdW5kLWNvbG9ye1xuICAgIC0tYmFja2dyb3VuZDogIzNGNTFCNTtcbn0iLCIubmV3LWJhY2tncm91bmQtY29sb3Ige1xuICAtLWJhY2tncm91bmQ6ICMzRjUxQjU7XG59Il19 */\"","//this component will register/login a user\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { AuthService, AuthResponseData } from './auth.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { environment } from 'src/environments/environment';\nimport { UserProfileService } from '../user-profile/user-profile.service';\nimport { tap } from 'rxjs/operators';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\n\n@Component({  \n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss'],\n})\nexport class AuthComponent implements OnInit, OnDestroy {\n  isLoginMode = true;\n  isLoading = false;\n  error: string = null;\n  private userSub: Subscription;\n  private authSub: Subscription;\n\n  constructor(private authService: AuthService, \n    private router: Router,\n    private userProfileService: UserProfileService,\n    private oneSignal: OneSignal){}\n\n  // was used to switch mode between login and register\n  // onSwitchMode(){\n  //   this.isLoginMode = !this.isLoginMode;\n  // }\n\n  ngOnInit(){\n    console.log(\"in auth.component - ngOnInit\");\n    if(this.authService.isLoggedIn()){\n      console.log(\"auth.component.ts - ngOnInit - is logged in\");\n      this.router.navigate(['home']);\n\n    }\n    console.log(environment.userServer);\n  }\n\n  //login button was clicked\n  onSubmit(form: NgForm){\n    console.log(\"auth.component.ts - onSubmit method - begin\");\n\n    if(!form.valid){\n      console.log('invalid');\n      return;\n    }\n    const userName = form.value.userName;\n    const password = form.value.password;\n    let authObs: Observable<AuthResponseData>;\n\n    this.isLoading = true;\n\n    // if(this.isLoginMode){\n\n    // login returns an observable\n    authObs =  this.authService.login(userName,password);\n    // }else{\n    //   authObs =  this.authService.signup(userName, password);\n    // }\n\n    this.authSub = authObs.subscribe(resData => {\n      console.log(\"auth.component.ts - onSubmit method - authService.login response: \"+ JSON.stringify(resData));\n      \n      if(resData.hasOwnProperty('access_token') && resData.hasOwnProperty('refresh_token') ){\n        // the response contains an access token and refresh token\n        console.log(\"auth.component.ts - onSubmit method - has access token\");\n        \n        // userProfileService.initializeObs returns an observable, \n        // then below we can get the OneSignal Player id when UserProfile has been intialized \n        this.userSub = this.userProfileService.initializeObs()\n        .pipe(\n          tap(\n              ()=>{\n                this.userProfileService.addOneSignalPlayerId();\n              }\n          )\n        )\n        .subscribe(\n          ()=>\n          {\n            console.log(\"in subscribe - got profiles init\");\n            this.router.navigate(['home']);\n            console.log(\"in subscribe - got profiles init - post navigate to home\");\n          });\n\n      }\n      else\n      {\n        console.log(\"doesn't have access token\");\n        this.isLoading = false;\n        this.authService.loggedInUser.next(null);\n        \n        if(resData.hasOwnProperty('message')){\n          this.error = resData.message;\n        }\n        else{\n          this.error = \"Unknown error\\n\" + JSON.stringify(resData);\n        }\n      }\n    }, errorMessage=> {\n      console.log(errorMessage);\n      this.error = errorMessage;\n      this.isLoading = false;\n    });\n    form.reset();\n\n  }\n\n\n  ngOnDestroy(){\n    if(this.userSub){\n      this.userSub.unsubscribe();\n    }\n    if(this.authSub){\n      this.authSub.unsubscribe();\n    }\n  }\n}\n","import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router, UrlTree } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './auth.service';\nimport { map, take } from 'rxjs/operators';\n\n@Injectable({providedIn: 'root'})\nexport class AuthGuard implements CanActivate{\n  constructor(private authService: AuthService, private router: Router){}\n\n  canActivate(route: ActivatedRouteSnapshot, router: RouterStateSnapshot): boolean| UrlTree | Promise<boolean | UrlTree> | Observable<boolean | UrlTree> {\n    \n    //This using reactive programming\n    //--- pipe: is a series of operation to be executed when the observables \"loggedInUser\" state changes\n    //--- take: an observable can emit a series of values. take(1) means only the first value will be used\n    //--- map: function takes an observable, do some transformation and returns a observable.\n    //--- search documentation here: https://rxjs-dev.firebaseapp.com/\n    \n    return this.authService.loggedInUser.pipe(take(1),map(loggedInUser => {\n      const isAuth = !!loggedInUser;\n      if(isAuth){\n        console.log(\"auth.guard.ts - (isAuth): true\");\n        return true;\n      } else {\n        console.log(\"auth.guard.ts - (isAuth): false\");\n        return this.router.createUrlTree(['auth']);\n      }\n    }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { catchError, tap } from 'rxjs/operators';\nimport { throwError, Subject, BehaviorSubject, Observable, Subscription } from 'rxjs';\n// import { User } from './user.model';\nimport { Router } from '@angular/router';\n// import { AngularFireAuth } from '@angular/fire/auth';\nimport { environment } from 'src/environments/environment';\n// import { UserProfileService } from '../user-profile/user-profile.service';\n\n//I don't believe this interface is being used anymore\nexport interface AuthResponseData{\n  message?: string;\n  access_token?: string;\n  refresh_token?: string;\n  access_expires?: string;\n  refresh_expires?: string;\n  registered? : boolean;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  //new\n  loggedInUser =  new BehaviorSubject<string>(localStorage.getItem('loggedInUser')); //localStorage.getItem('loggedInUser') \n\n  userSub:Subscription = this.loggedInUser.subscribe(loggedInUser => {\n    if(loggedInUser === null){\n      localStorage.removeItem('loggedInUser');\n      localStorage.removeItem('userProfile');\n    }\n    else{\n      localStorage.setItem('loggedInUser', loggedInUser);\n    }\n  });\n\n  private readonly ACCESS_TOKEN = 'ACCESS_TOKEN';\n  private readonly ACCESS_TOKEN_EXPIRATION = 'ACCESS_TOKEN_EXPIRATION';\n  private readonly REFRESH_TOKEN = 'REFRESH_TOKEN';\n  private readonly REFRESH_TOKEN_EXPIRATION = 'REFRESH_TOKEN_EXPIRATION';\n\n  private tokenExpirationTimer: any;\n\n  constructor(private http: HttpClient,\n              private router: Router) { }\n\n  // used to register new user\n  signup(userName: string, password: string){\n    return this.http\n    .post<AuthResponseData>(environment.userServer+'/registration',\n    {\n      username: userName,\n      password: password\n    }).pipe(catchError(this.handleError),tap(resData => {\n      this.loggedInUser.next(userName);\n      this.storeAccessToken(resData.access_token, resData.access_expires);\n      this.storeRefreshToken(resData.refresh_token, resData.refresh_expires);\n\n      console.log(\"resData: \" + JSON.stringify(resData));\n    }));\n  }\n\n  // initializes loggedinUsder\n  autoLogin(){\n    console.log(\"auth.service.ts - autoLogin method - begin\");\n    const loggedInUser = localStorage.getItem('loggedInUser');\n    if(loggedInUser===null){\n      console.log(\"auth.service.ts - autoLogin method - (loggedInUser===null)\");\n      return;\n    }\n    else{\n      console.log(\"auth.service.ts - autoLogin method - (sending saved observable)\");\n      this.loggedInUser.next(loggedInUser);\n    }\n  }\n\n  logout(){\n    this.loggedInUser.next(null);\n    this.router.navigate(['/home']);\n    localStorage.removeItem('loggedInUser');\n    this.removeTokens();\n  }\n\n  //may not need \n  // autoLogout(expirationDuration: number){\n  //   console.log(expirationDuration);\n  //   this.tokenExpirationTimer= setTimeout(() => {\n  //     this.logout();\n  //   },expirationDuration);\n  // }\n\n  login(userName: string, password: string){\n    console.log(\"auth.service.ts -login method - begin\");\n    return this.http\n    .post<AuthResponseData>(environment.userServer+'/login',\n    {\n      username: userName,\n      password: password\n    }).pipe(catchError(this.handleError),tap(resData => {\n\n      this.loggedInUser.next(userName);\n      this.storeAccessToken(resData.access_token, resData.access_token);\n      this.storeRefreshToken(resData.refresh_token, resData.refresh_expires);\n      \n      console.log(\"auth.service.ts -login method - loggedInUser: \" +  this.loggedInUser.getValue());\n      console.log(\"auth.service.ts -login method - resData: \" + JSON.stringify(resData));\n    }));\n  }\n\n  private handleError(errorRes: HttpErrorResponse){\n      console.log(\"auth.service.ts - handleError method - begin\");\n      if(errorRes.message.startsWith('Http failure response for')){\n        let errorMessage = 'You appear to be offline or unable to reach ' + errorRes.url;\n        return throwError(errorMessage);\n      }\n      let errorMessage = 'An unknown error occurred!!!! \\n' + JSON.stringify(errorRes);\n      if(!errorRes.error || !errorRes.error.error){\n        return throwError(errorMessage);\n      }\n      switch(errorRes.error.error.message){\n        case 'EMAIL_EXISTS':\n          errorMessage = 'This email exists already!';\n          break;\n        case 'EMAIL_NOT_FOUND':\n          errorMessage = 'Email address not found!';\n          break;\n        case 'INVALID_PASSWORD':\n          errorMessage= 'This password is not correct.'\n          break;\n\n      }\n      return throwError(errorMessage);\n  }\n\n  //use refresh token to get a new access token\n  refreshToken() {\n    console.log(\"auth.service.ts - refreshToken method - begin\");\n    const token = this.getRefreshToken();\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      })\n    };\n\n    return this.http.post<any>(`${environment.userServer}/token/refresh`, {\n      'refreshToken': this.getRefreshToken() \n    },httpOptions ).pipe(tap((\n        resData: {\n          \"access_token\": string, \n          \"access_expires\": string}) => {\n        this.storeAccessToken(resData.access_token, resData.access_expires);\n    }));\n  }\n\n  // private removeUser(){\n  //   localStorage.removeItem('user');\n  // }\n\n// check if loggedInUser has a value and in which case, the user is logged in\nisLoggedIn() {\n  console.log(\"auth.service.ts - isLoggedIn method - begin\");\n  return !!this.loggedInUser.getValue();\n}\n\ngetAccessToken() {\n  console.log(\"auth.service.ts - getAccessToken method - begin\");\n  return localStorage.getItem(this.ACCESS_TOKEN);\n}\n\nprivate doLogoutUser() {\n  this.loggedInUser = null;\n  this.removeTokens();\n}\n\nprivate getRefreshToken() {\n  console.log(\"auth.service.ts - getRefreshToken method - begin\");\n  return localStorage.getItem(this.REFRESH_TOKEN);\n}\n\nprivate storeAccessToken(token: string, expires: string) {\n  console.log(\"auth.service.ts - storeAccessToken method - begin\");\n  localStorage.setItem(this.ACCESS_TOKEN, token);\n  \n  const expirationDate = new Date(new Date().getTime() + +expires * 1000);\n  localStorage.ACCESS_TOKEN_EXPIRATION = expirationDate;\n}\n\nprivate storeRefreshToken(token: string, expires: string) {\n  console.log(\"auth.service.ts - storeRefreshToken method - begin\");\n  localStorage.setItem(this.REFRESH_TOKEN, token);\n  const expirationDate = new Date(new Date().getTime() + +expires * 1000);\n  localStorage.REFRESH_TOKEN_EXPIRATION = expirationDate;\n}\n\nprivate removeTokens() {\n  console.log(\"auth.service.ts - removeTokens method - begin\");\n  localStorage.removeItem(this.ACCESS_TOKEN);\n  localStorage.removeItem(this.ACCESS_TOKEN_EXPIRATION);\n  localStorage.removeItem(this.REFRESH_TOKEN);\n  localStorage.removeItem(this.REFRESH_TOKEN_EXPIRATION);\n\n}\n\n}\n","module.exports = \".lds-circle {\\n  display: inline-block;\\n  -webkit-transform: translateZ(1px);\\n          transform: translateZ(1px);\\n}\\n.lds-circle > div {\\n  display: inline-block;\\n  width: 51px;\\n  height: 51px;\\n  margin: 6px;\\n  border-radius: 50%;\\n  background: rgb(19, 12, 226);\\n  -webkit-animation: lds-circle 2.4s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n          animation: lds-circle 2.4s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n}\\n@-webkit-keyframes lds-circle {\\n  0%, 100% {\\n    -webkit-animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\\n            animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\\n  }\\n  0% {\\n    -webkit-transform: rotateY(0deg);\\n            transform: rotateY(0deg);\\n  }\\n  50% {\\n    -webkit-transform: rotateY(1800deg);\\n            transform: rotateY(1800deg);\\n    -webkit-animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\\n            animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\\n  }\\n  100% {\\n    -webkit-transform: rotateY(3600deg);\\n            transform: rotateY(3600deg);\\n  }\\n}\\n@keyframes lds-circle {\\n  0%, 100% {\\n    -webkit-animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\\n            animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\\n  }\\n  0% {\\n    -webkit-transform: rotateY(0deg);\\n            transform: rotateY(0deg);\\n  }\\n  50% {\\n    -webkit-transform: rotateY(1800deg);\\n            transform: rotateY(1800deg);\\n    -webkit-animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\\n            animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\\n  }\\n  100% {\\n    -webkit-transform: rotateY(3600deg);\\n            transform: rotateY(3600deg);\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlci9hdXRoL2xvYWRpbmctc3Bpbm5lci9sb2FkaW5nLXNwaW5uZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFxQjtFQUNyQixrQ0FBMEI7VUFBMUIsMEJBQTBCO0FBQzVCO0FBQ0E7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLFlBQVk7RUFDWixXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLDRCQUE0QjtFQUM1Qix3RUFBZ0U7VUFBaEUsZ0VBQWdFO0FBQ2xFO0FBQ0E7RUFDRTtJQUNFLCtEQUF1RDtZQUF2RCx1REFBdUQ7RUFDekQ7RUFDQTtJQUNFLGdDQUF3QjtZQUF4Qix3QkFBd0I7RUFDMUI7RUFDQTtJQUNFLG1DQUEyQjtZQUEzQiwyQkFBMkI7SUFDM0IsK0RBQXVEO1lBQXZELHVEQUF1RDtFQUN6RDtFQUNBO0lBQ0UsbUNBQTJCO1lBQTNCLDJCQUEyQjtFQUM3QjtBQUNGO0FBZEE7RUFDRTtJQUNFLCtEQUF1RDtZQUF2RCx1REFBdUQ7RUFDekQ7RUFDQTtJQUNFLGdDQUF3QjtZQUF4Qix3QkFBd0I7RUFDMUI7RUFDQTtJQUNFLG1DQUEyQjtZQUEzQiwyQkFBMkI7SUFDM0IsK0RBQXVEO1lBQXZELHVEQUF1RDtFQUN6RDtFQUNBO0lBQ0UsbUNBQTJCO1lBQTNCLDJCQUEyQjtFQUM3QjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvdXNlci9hdXRoL2xvYWRpbmctc3Bpbm5lci9sb2FkaW5nLXNwaW5uZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sZHMtY2lyY2xlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMXB4KTtcbn1cbi5sZHMtY2lyY2xlID4gZGl2IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogNTFweDtcbiAgaGVpZ2h0OiA1MXB4O1xuICBtYXJnaW46IDZweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiByZ2IoMTksIDEyLCAyMjYpO1xuICBhbmltYXRpb246IGxkcy1jaXJjbGUgMi40cyBjdWJpYy1iZXppZXIoMCwgMC4yLCAwLjgsIDEpIGluZmluaXRlO1xufVxuQGtleWZyYW1lcyBsZHMtY2lyY2xlIHtcbiAgMCUsIDEwMCUge1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjUsIDAsIDEsIDAuNSk7XG4gIH1cbiAgMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlWSgwZGVnKTtcbiAgfVxuICA1MCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlWSgxODAwZGVnKTtcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMCwgMC41LCAwLjUsIDEpO1xuICB9XG4gIDEwMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlWSgzNjAwZGVnKTtcbiAgfVxufVxuIl19 */\"","import { Component } from '@angular/core';\n\n@Component({ \n  selector: 'app-loading-spinner',\n  template: '<div class=\"lds-circle\"><div>Facebook</div></div>',\n  styleUrls: ['./loading-spinner.component.css']\n}) \nexport class LoadingSpinnerComponent{} \n","// logic borrowed from https://angular-academy.com/angular-jwt/\n// all http requests will be intercepted by this token interceptor\n// which adds the access token to the request, unless URL contains refresh\n\nimport { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\n\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\nimport { catchError, filter, take, switchMap } from 'rxjs/operators';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n  private isRefreshing = false;\n  private refreshTokenSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null);\n\n  constructor(public authService: AuthService) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {    \n    console.log(\"token.interceptorts - intercept method - begin\");\n    if (this.authService.loggedInUser.getValue()) {\n      //if it's a refresh request, don't overwrite the token since it was already added\n      if(request.url.indexOf('refresh')<0){\n        request = this.addToken(request, this.authService.getAccessToken());        \n      }\n    }\n\n    return next.handle(request).pipe(catchError(error => {\n      if (error instanceof HttpErrorResponse && error.status === 401) {\n        return this.handle401Error(request, next);\n      }\n       else {\n        return throwError(error);\n      }\n    }));\n  }\n\n  private addToken(request: HttpRequest<any>, token: string) {\n    console.log(\"token.interceptorts - addToken method - begin\");\n    return request.clone({\n      setHeaders: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n  }\n\n  private handle401Error(request: HttpRequest<any>, next: HttpHandler) {\n    console.log(\"token.interceptorts - handle401Error method - begin\");\n    if (!this.isRefreshing) {\n      this.isRefreshing = true;\n      this.refreshTokenSubject.next(null);\n\n      return this.authService.refreshToken().pipe(\n        switchMap((token: any) => {\n          this.isRefreshing = false;\n          this.refreshTokenSubject.next(token.access_token);\n          return next.handle(this.addToken(request, token.access_token));\n        }));\n\n    } else {\n      return this.refreshTokenSubject.pipe(\n        filter(token => token != null),\n        take(1),\n        switchMap(access_token => {\n          return next.handle(this.addToken(request, access_token));\n        }));\n    }\n  }\n}","//contains the two classes UserProfile and UserProfileFixed\n\nexport class UserProfile {\n    public badges=  { 'daily_survey': [],\n                     'money': 0,\n                     };\n    public daily_streak ={};\n    public imei:string = \"0\";\n    public dollars: number = 0 ;\n\n    public life_insights = {\"daily_survey\": {}};\n    public reinfrocement_data = {};\n\n    public oneSignalPlayerId?: string;     \n    public AwardDollarDates?: {};                \n\n    public lastupdate: number;\n    public readable_ts: string;\n    public survey_data = {\n        'daily_survey':{}, \n        'points': 0,\n        'weekly_survey':{}\n    };\n\n    \n    public username: string;\n    public versionNumber: string;\n    public datesTaken: string[];\n    public points: number;\n    public badgeCount: number;\n    public firstlogin: any;\n\n    // created constructor to initialize UserProfile - early on\n    constructor(username: string, \n                datesTaken: string[], \n                points: number,\n                badgeCount: number,\n                lastupdate: number,\n                readable_ts: string){        \n        this.username = username;\n        this.datesTaken = datesTaken;\n        this.points = points;\n        this.badgeCount = badgeCount;\n        this.lastupdate = lastupdate;\n        this.readable_ts = readable_ts;\n    }\n}\n    \nexport class UserProfileFixed {\n    public isActive?: boolean;                     \n    public isParent?: boolean;\n    public onDates? ={};\n}","import { Injectable } from '@angular/core';\nimport { UserProfile, UserProfileFixed } from './user-profile.model';\nimport { HttpClient } from '@angular/common/http';\nimport * as firebase from 'firebase';\nimport { environment } from 'src/environments/environment';\nimport { BehaviorSubject, forkJoin, Subscription } from 'rxjs';\nimport { tap, map } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { NetworkService, ConnectionStatus } from '../../storage/network.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserProfileService {\n  userProfile: UserProfile;\n  userProfileFixed: UserProfileFixed;\n  me = this;\n  saveToServerRequestInQueue = false;\n  initialLoading =  new BehaviorSubject<boolean>(true);\n\n  constructor(private http: HttpClient,\n              private networkSvc: NetworkService,\n              private oneSignal: OneSignal) { }\n\n  //returns Observable that we can subscribed to so as to trigger an action after \n  //user profiles have been initialized\n  initializeObs(){\n    //get profiles from server\n    console.log(\"user-profile.service.ts - initializeObs method\");\n    let getProfile = this.http.post<any>(environment.userServer+'/userinfo',{\"empty\":\"empty\"}); \n    let getProfileFixed = this.http.get<any>(environment.userServer+'/userinfofixed');\n\n    // forkJoin will return an observable that waits till both http requests have received responses\n    return forkJoin([getProfile, getProfileFixed])\n      .pipe(tap(\n        response =>\n        {\n          console.log(\"in response of forkjoin\");\n          let response1=response[0];\n          let response2=response[1];\n          console.log(\"initializeObs response1: \"+  JSON.stringify(response1));\n          console.log(\"initializeObs response2: \"+  JSON.stringify(response2));\n          // console.log(\"initializeOb - response1.username: \" + response1.username);\n          // console.log(\"initializeOb - !response1.username: \" + !response1.username);\n          // console.log(\"initializeOb - !response1.hasOwnProperty('username'): \" + !response1.hasOwnProperty('username'));\n\n          if (!response1.username || !response1.hasOwnProperty('username') ){\n            console.log(\"blank or empty user_name\");\n            const username = localStorage.getItem('loggedInUser');\n            const currenttime:Date = new Date();\n            const dateString: string = moment(currenttime).format('MMMM Do YYYY, h:mm:ss a Z');\n            this.userProfile = new UserProfile(username,[],0,0,currenttime.getTime(), dateString);\n          }\n          else{\n            this.userProfile = response1;\n            if(this.userProfile.hasOwnProperty(\"AwardDollarDates\")){\n              localStorage.setItem(\"AwardDollarDates\", JSON.stringify( this.userProfile.AwardDollarDates));\n            }\n            localStorage.setItem(\"AwardDollar\", JSON.stringify(this.userProfile.dollars));\n          }\n          this.userProfileFixed = response2;\n          this.saveProfileToDevice();\n          this.initialLoading.next(false);\n        }\n      ));\n  }\n\n  fetchUserProfile(){\n    //get userProfile from server\n    console.log(\"user-profile.service.ts - fetchUserProfile method\");\n    let getProfile = this.http.post<any>(environment.userServer+'/userinfo',{\"empty\":\"empty\"}); \n\n    return getProfile\n      .pipe(tap(\n        response =>\n        {\n          let serverCopyNewer = false;\n          console.log(\"fetchUserProfile response: \"+  JSON.stringify(response));\n          // check if server copy is newer\n          if(response.hasOwnProperty(\"lastupdate\") && response.lastupdate > this.userProfile.lastupdate)\n          {\n            this.userProfile = response;\n            if(this.userProfile.hasOwnProperty(\"AwardDollarDates\")){\n              localStorage.setItem(\"AwardDollarDates\", JSON.stringify( this.userProfile.AwardDollarDates));\n            }\n            localStorage.setItem(\"AwardDollar\", JSON.stringify(this.userProfile.dollars));\n            this.userProfileFixed = response;\n            this.saveProfileToDevice();\n            serverCopyNewer = true;\n          }\n          else{\n            serverCopyNewer = false;\n          }         \n          return { \"serverCopyNewer\": serverCopyNewer}\n        }\n      ));\n  }\n\n\n  fetchUserProfileFixed(){\n    //get userProfileFixed from server\n    console.log(\"user-profile.service.ts - fetchUserProfileFixed method\");\n    let getProfileFixed = this.http.get<any>(environment.userServer+'/userinfofixed');\n\n    return getProfileFixed\n      .pipe(tap(\n        response =>\n        {\n          let changed = false;\n          console.log(\"fetchUserProfileFixed response: \"+  JSON.stringify(response));\n          let receivedUserFixedProfile:UserProfileFixed = response;\n          if(receivedUserFixedProfile.isActive !== this.userProfileFixed.isActive){\n            this.userProfileFixed = response;\n            this.saveProfileToDevice();\n            changed = true;\n          }\n          return { \"changed\": changed}\n        }\n      ));\n  }\n\n  addOneSignalPlayerId(){\n    this.oneSignal.getIds().then(async (id) =>  {\n      const playerId = id.userId;\n      this.userProfile.oneSignalPlayerId = id.userId;\n      console.log(\"onesignal player id: \" + id);\n      this.saveProfileToDevice();\n      this.saveToServer();\n    });\n  }\n  /* \n  addReinforcementData returns true if successful at adding the element (it doesn't already exist for the given date)\n  date is a string of the format YYYYMMDD (e.g. \"20170430\")\n  \n  reinforcementObj is an object of the form:\n  {\n      \"ds\": 1, //means participants completed the survey\n      \"prob\": 0.23,\n      \"Like\": \"yes\", //no if participants hated it.\n      \"reward\": 1,  //0 means users were not randomized\n      \"reward_type\": \"meme\", //'altruistic message'\n      \"reward_img_link\": \"img/reinforcements/memes/IM25.jpg\"\n  }\n  */\n  addReinforcementData(date:string, reinforcementObj:any):boolean{\n    if(!(date in this.userProfile.reinfrocement_data)){\n      this.userProfile.reinfrocement_data[date] = reinforcementObj;\n      return true;\n    }\n    else{\n      return false;\n    }\n  }\n\n  // not currenlty using below method (wich calcs dollars based on days survey is taken in UserProfile)\n  // instead allowing award-dollar.service to calc streaks\n  calcDollars(){\n    //this method calculates the number of three day streaks\n    //then sets dollars = to number of three day streaks\n    let previousDate = new Date(\"1970-01-01\");\n    let numStreaks = 0;\n    let streak = 1;\n    // console.log(\"calcDollars, # dates: \" + this.userProfile.datesTaken.length);\n    for(var i=0;i<this.userProfile.datesTaken.length;i++){\n      let currentDateStr = this.userProfile.datesTaken[i];\n      let currentDate = new Date(currentDateStr.substr(0,4)+ \"-\" + currentDateStr.substr(4,2)+ \"-\" + currentDateStr.substr(6,2));\n      // console.log(\"calcDollars: \" + currentDate);\n      let daysDiff = Math.round((currentDate.getTime()\t - previousDate.getTime()\t)/(1000*60*60*24));\n      if (daysDiff ==0){ continue;}\n      if(daysDiff ==1){\n        streak++;\n        // console.log(\"streak: \"+ streak);\n        if(streak ==3){\n          numStreaks++;\n          // reset\n          previousDate = new Date(\"1970-01-01\");  //set previousDate to 1970-01-01\n          streak = 1;\n        } \n      }else{\n        //reset\n        streak =1;\n      }\n      previousDate = currentDate;\n    }  \n    console.log(\"numStreaks: \" + numStreaks);\n    this.userProfile.dollars= numStreaks;\n  }\n\n  get isActive(){\n    //console.log(\"user-profile.service.ts - isActive getter - begin\");\n    return this.userProfileFixed.isActive;\n  }\n  get isParent(){\n    console.log(\"user-profile.service.ts - isParent getter - begin\");  \n    return this.userProfileFixed.isParent;\n  }\n  get points(){\n    console.log(\"user-profile.service.ts - points getter - begin\");\n \n    if(this.userProfile==undefined)\n      this.loadProfileFromDevice();\n    return this.userProfile.points;\n  }\n\n  get username(){\n    //console.log(\"user-profile.service.ts - username getter - begin\");\n\n    if(this.userProfile==undefined)\n      this.loadProfileFromDevice();\n    return this.userProfile.username;\n  }\n  set username(username:string){\n    console.log(\"user-profile.service.ts - isActive setter - begin\");\n\n    this.userProfile.username = username;\n    this.saveProfileToDevice();\n  }\n\n  get versionNumber(){\n    if(this.userProfile==undefined)\n      this.loadProfileFromDevice();\n    return this.userProfile.versionNumber;\n  }\n  set versionNumber(versionNumber:string){\n    this.userProfile.versionNumber = versionNumber;\n    this.saveProfileToDevice();\n  }\n  saveToServerSub :Subscription;\n\n  get oneSignalPlayerId(){\n    return this.userProfile.oneSignalPlayerId;\n  }\n\n  saveToServer(){ \n    this.saveToServerRequestInQueue = true;\n    if(this.networkSvc.getCurrentNetworkStatus() == ConnectionStatus.Online){\n\n      this.loadProfileFromDevice(); \n      const userProfile: UserProfile = this.userProfile;\n\n      this.http\n        .post(environment.userServer+'/setuserinfo',userProfile)\n        .subscribe(response =>{\n          console.log(response);\n          this.saveToServerRequestInQueue = false;\n        });\n    }\n    else{\n       this.saveToServerSub = this.networkSvc.onNetworkChange().subscribe(()=>{\n          if(this.networkSvc.getCurrentNetworkStatus() == ConnectionStatus.Online){\n            this.loadProfileFromDevice(); \n            const userProfile: UserProfile = this.userProfile;\n      \n            this.http\n              .post(environment.userServer+'/setuserinfo',userProfile)\n              .subscribe(response =>{\n                console.log(response);\n                this.saveToServerRequestInQueue = false;\n                this.saveToServerSub.unsubscribe();\n              });\n          }\n      });\n\n    }\n\n\n      // console.log(\"saveToServer userProfile: \" + JSON.stringify(userProfile));\n  } \n\n  retrieve(userID: string){\n  }\n  getProfile(){\n  }\n\n  initTestProfile(){\n    const currenttime:Date = new Date();\n    const dateString: string = moment(currenttime).format('MMMM Do YYYY, h:mm:ss a Z');\n    const userProfile = new UserProfile('testy',  [], 0, 3, currenttime.getTime(), dateString);\n    this.userProfile = userProfile;\n    this.saveProfileToDevice();\n    //STORE ON DEVICE\n  }\n\n  saveProfileToDevice(){\n      localStorage.setItem('userProfile', JSON.stringify(this.userProfile));\n      \n      // maybe use this logic in case it's undefined:  https://stackoverflow.com/questions/37417012/unexpected-token-u-in-json-at-position-0\n      localStorage.setItem('userProfileFixed', JSON.stringify(this.userProfileFixed));\n\n  }\n\n  profileIsOnDevice(){\n    if(localStorage.getItem('userProfile')!==null){\n      return true;\n    }\n    else{\n       return false;\n    }\n  }\n\n  loadProfileFromDevice(){\n    this.userProfile = JSON.parse(localStorage.getItem('userProfile'));\n    this.userProfileFixed = JSON.parse(localStorage.getItem('userProfileFixed'));\n    //temporarily commenting out below line (see other instance for more info)\n    // this.userProfileFixed = JSON.parse(localStorage.getItem('userProfileFixed'));\n\n  }\n\n  // below method can be called when a survey has been completed\n  // it does all the needed accounting\n  // adds current date to dict (and array)\n  public surveyCompleted(){\n    console.log(\"user-profile.service.ts - surveyCompleted method - begin\");\n\n    const username = localStorage.getItem('loggedInUser'); //this.authService.loggedInUser.getValue()\n    // check if survey has already been take for the current day or admin is contained in the username\n    // console.log('surveyCompleted - before if loop');\n    if(!this.surveyTakenForCurrentDay()|| username.indexOf('admin')>=0){\n      // console.log('surveyCompleted - in if loop');\n      this.addDateTaken();\n      this.addSurveyPoints();\n      //this.calcDollars();\n      this.userProfile.lastupdate =this.numericCurrenDateTime;\n      const dateString: string = moment(this.userProfile.lastupdate).format('MMMM Do YYYY, h:mm:ss a Z');\n      this.userProfile.readable_ts = dateString;\n      // console.log(\"in SurveyCompleted, AwardDollarDates: \"+ localStorage.getItem(\"AwardDollarDates\"));\n      this.userProfile.AwardDollarDates = JSON.parse(localStorage.getItem(\"AwardDollarDates\"));  //fetch AwardDollarDates from local storage and add it to the UserProfile\n      try{\n        this.userProfile.dollars = JSON.parse(localStorage.getItem(\"AwardDollar\"));\n      }catch(error){\n        window.localStorage.setItem(\"AwardDollar\", \"\"+0); \n        this.userProfile.dollars = 0;\n      }\n      this.saveProfileToDevice();\n      this.saveToServer();\n    }\n  }\n\n  get stringCurrenDate(){\n    console.log(\"user-profile.service.ts - stringCurrenDate getter - begin\");\n    \n    //shift hours back by 2, so that 2am, will register as 12am\n    const hoursShift: number = 2;\n    const currentDateTime : Date = new Date();\n    currentDateTime.setHours(currentDateTime.getHours() - hoursShift);\n    //now, set hours, min, sec to zero\n    currentDateTime.setHours(0,0,0,0);\n    return currentDateTime.getFullYear()\n            + \"\" + ('0' + (currentDateTime.getMonth()+1)).slice(-2) \n            + \"\" + ('0' + currentDateTime.getDate()).slice(-2);\n }\n  \n  get numericCurrenDateTime(){\n    console.log(\"user-profile.service.ts - numericCurrenDateTime getter - begin\");\n\n    //shift hours back by 2, so that 2am, will register as 12am\n     const hoursShift: number = 2;\n     const currentDateTime : Date = new Date();\n     currentDateTime.setHours(currentDateTime.getHours() - hoursShift);\n     //now, set hours, min, sec to zero\n     currentDateTime.setHours(0,0,0,0);\n     return currentDateTime.getTime();\n  }\n\n  addDateTaken(){\n    console.log(\"user-profile.service.ts - addDateTaken method - begin\");\n\n    this.loadProfileFromDevice();\n    const stringCurrenDate = this.stringCurrenDate;\n    this.userProfile.datesTaken.push(stringCurrenDate);\n    this.userProfile.survey_data.daily_survey[stringCurrenDate] = 1;\n    this.saveProfileToDevice();\n  }\n\n  // boolean function, checks if survey has been taken for the current date.\n  surveyTakenForCurrentDay(){\n    console.log(\"user-profile.service.ts - surveyTakenForCurrentDay method - begin\");\n\n    this.loadProfileFromDevice();\n    //check if date already exists in dict of dates, otherwise add the date to dict    \n    // var hasMatch = false;\n    if( this.stringCurrenDate in this.userProfile.survey_data.daily_survey){\n      return true;\n    }\n    else{\n      return false;\n    }\n  }\n\n  addSurveyPoints(){\n    console.log(\"user-profile.service.ts - addSurveyPoints method - begin\");\n\n    const pointsPerSurvey = 60;\n    this.addPoints(pointsPerSurvey);\n  }\n\n  addPoints(points: number){\n    console.log(\"user-profile.service.ts - addPoints method - begin\");\n    \n    this.userProfile.points += points;\n    this.userProfile.survey_data.points += points;\n    this.saveProfileToDevice();\n    this.saveToServer();\n  }\n\n  cheatPoints(points: number){\n    console.log(\"user-profile.service.ts - cheatPoints method - begin\");\n\n    this.userProfile.points = points;\n    this.userProfile.survey_data.points = points;\n    this.saveProfileToDevice();\n    this.saveToServer();\n  }\n\n\n  removeUserProfile(){\n    localStorage.removeItem('userProfile');\n  }\n\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA  } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AuthComponent } from './auth/auth.component';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicModule } from '@ionic/angular';\nimport { AuthService } from './auth/auth.service';\nimport { environment } from 'src/environments/environment';\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { UserProfileService } from './user-profile/user-profile.service';\nimport { UserProfile } from './user-profile/user-profile.model';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { TokenInterceptor } from './auth/token.interceptor';\nimport { LoadingSpinnerComponent } from './auth/loading-spinner/loading-spinner.component';\n\n@NgModule({\n  declarations: [AuthComponent, LoadingSpinnerComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule.forRoot(),\n    // AngularFireModule.initializeApp(environment.firebase),\n    AngularFireAuthModule\n    \n  ],\n  exports: [AuthComponent],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptor,\n      multi: true\n    }\n    // , UserProfile\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class UserModule { }\n\nexport { UserProfile } from './user-profile/user-profile.model';\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\n\r\nexport const environment = {\r\n  production: false,\r\n  userServer:\"http://adaptsdata.research.chop.edu:5000\",\r\n  oneSignalAppId: \"f9c4370d-cbcb-4e6f-ab1f-25d1c41b8f3a\",\r\n  //oneSignalAppId: \"de3580a2-4aae-42c4-87cf-2c319c2df0c3\",\r\n  encyptString: \"+Xr?SwA?EJ7m+g$c\",\r\n  flaskServerForIncentives: \"http://ec2-54-91-131-166.compute-1.amazonaws.com:56733\",\r\n  //flaskServerForIncentives: \"http://adaptsdata.research.chop.edu:5000\",\r\n\r\n  firebaseConfig: {\r\n    apiKey: \"AIzaSyBK_PwjnsC01Q-a-sV7LsA7qIeIhCx4ts0\",\r\n    authDomain: \"sarav2-6a033.firebaseapp.com\",\r\n    databaseURL: \"https://sarav2-6a033.firebaseio.com\",\r\n    projectId: \"sarav2-6a033\",\r\n    storageBucket: \"sarav2-6a033.appspot.com\",\r\n    messagingSenderId: \"110945766941\", // only one updated\r\n    appId: \"1:489827689493:web:7f72eb7033e9acf5\"\r\n  },\r\n\r\n  azureConfig: {\r\n    sas: '?sv=2018-03-28&ss=b&srt=sco&sp=rwl&st=2019-06-27T18%3A15%3A56Z&se=2020-06-28T18%3A15%3A00Z&sig=vccYOEN3SG%2BErA4%2FzmDNn0w4qOn%2FT4tB8jGnEIJoXh4%3D',\r\n    storageAccount: 'securebloblyh',\r\n    containerName: 'mycontainer'  \r\n  },\r\n\r\n  awsConfig: {\r\n   // CHOP\r\n   bucketName: 'chop-sara', \r\n   bucketRegion: 'us-east-1', \r\n   IdentityPoolId: 'us-east-1:667b1ad5-ccdc-4d90-b94f-300732b55448'\r\n  },\r\n\r\n  googleAnalytic: {\r\n    id: 'UA-152399644-1' \r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// export const environment = {\r\n//   production: false,\r\n//   userServer:\"http://autherServerName.com\",\r\n//   oneSignalAppId: \"<insert Id here>\",\r\n\r\n//   firebase: {\r\n//     apiKey: \"AIzaSyDM8d1yG2rNPc8AotB0NoN3Q2wMq4HDooo\",\r\n//     authDomain: \"adapts-331ee.firebaseapp.com\",\r\n//     databaseURL: \"https://adapts-331ee.firebaseio.com\",\r\n//     projectId: \"adapts-331ee\",\r\n//     storageBucket: \"adapts-331ee.appspot.com\",\r\n//     messagingSenderId: \"110945766941\",\r\n//     appId: \"1:110945766941:web:7c940aefa53553c39bc0f4\",\r\n//     measurementId: \"G-TL8MFZNE2M\"\r\n//     // apiKey: \"AIzaSyBK_PwjnsC01Q-a-sV7LsA7qIeIhCx4ts0\",\r\n//     // authDomain: \"sarav2-6a033.firebaseapp.com\",\r\n//     // databaseURL: \"https://sarav2-6a033.firebaseio.com\",\r\n//     // projectId: \"sarav2-6a033\",\r\n//     // storageBucket: \"sarav2-6a033.appspot.com\",\r\n//     // messagingSenderId: \"489827689493\",\r\n//     // appId: \"1:489827689493:web:7f72eb7033e9acf5\"\r\n//   },\r\n\r\n//   firebaseConfig: {\r\n//         // apiKey: \"AIzaSyBK_PwjnsC01Q-a-sV7LsA7qIeIhCx4ts0\",\r\n//     // authDomain: \"sarav2-6a033.firebaseapp.com\",\r\n//     // databaseURL: \"https://sarav2-6a033.firebaseio.com\",\r\n//     // projectId: \"sarav2-6a033\",\r\n//     // storageBucket: \"sarav2-6a033.appspot.com\",\r\n//      messagingSenderId: \"489827689493\",\r\n//     // appId: \"1:489827689493:web:7f72eb7033e9acf5\"\r\n  \r\n//   }\r\n\r\n// };\r\n\r\n\r\n\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","\nimport './polyfills.ts';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/guide/browser-support\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/**\n * Web Animations `@angular/platform-browser/animations`\n * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n/**\n * By default, zone.js will patch all possible macroTask and DomEvents\n * user can disable parts of macroTask/DomEvents patch by setting following flags\n * because those flags need to be set before `zone.js` being loaded, and webpack\n * will put import in the top of bundle, so user need to create a separate file\n * in this directory (for example: zone-flags.ts), and put the following flags\n * into that file, and then add the following code before importing zone.js.\n * import './zone-flags.ts';\n *\n * The flags allowed in zone-flags.ts are listed here.\n *\n * The following flags will work for all browsers.\n *\n * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame\n * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick\n * (window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames\n *\n *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n *  with the following flag, it will bypass `zone.js` patch for IE/Edge\n *\n *  (window as any).__Zone_enable_cross_context_check = true;\n *\n */\n\nimport './zone-flags.ts';\n\n/***************************************************************************************************\n * Zone JS is required by default for Angular itself.\n */\n\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n // aws-sdk requires global to exist\n(window as any).global = window;\n\n","/**\n * Prevents Angular change detection from\n * running with certain Web Component callbacks\n */\n(window as any).__Zone_disable_customElements = true;\n","/* (ignored) */"],"sourceRoot":""}