{"version":3,"file":"firebase_object_observable.js","sourceRoot":"","sources":["../../../src/database-deprecated/firebase_object_observable.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAsC,MAAM,MAAM,CAAC;AAItE;IAAiD,4CAAa;IAC5D,kCAAY,SAA4E,EAAS,IAAe;QAAhH,YACE,kBAAM,SAAS,CAAC,SACjB;QAFgG,UAAI,GAAJ,IAAI,CAAW;;IAEhH,CAAC;IACD,uCAAI,GAAJ,UAAW,QAAwB;QACjC,IAAM,UAAU,GAAG,IAAI,wBAAwB,EAAK,CAAC;QACrD,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;QACzB,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,OAAO,UAAU,CAAC;IACpB,CAAC;IACD,sCAAG,GAAH,UAAI,KAAU;QACZ,IAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACD,yCAAM,GAAN,UAAO,KAAa;QAClB,IAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IACD,yCAAM,GAAN;QACE,IAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IAC5B,CAAC;IACH,+BAAC;AAAD,CAAC,AA7BD,CAAiD,UAAU,GA6B1D","sourcesContent":["import { Observable, Operator, Subscriber, Subscription } from 'rxjs';\nimport { Reference } from './interfaces';\nimport { database } from 'firebase/app';\n\nexport class FirebaseObjectObservable<T> extends Observable<T> {\n  constructor(subscribe?: <R>(subscriber: Subscriber<R>) => Subscription | Function | void, public $ref?:Reference) {\n    super(subscribe);\n  }\n  lift<T, R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new FirebaseObjectObservable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    observable.$ref = this.$ref;\n    return observable;\n  }\n  set(value: any): Promise<void> {\n    if(!this.$ref) {\n      throw new Error('No ref specified for this Observable!');\n    }\n    return this.$ref.set(value);\n  }\n  update(value: Object): Promise<void> {\n    if(!this.$ref) {\n      throw new Error('No ref specified for this Observable!');\n    }\n    return this.$ref.update(value);\n  }\n  remove(): Promise<void> {\n    if(!this.$ref) {\n      throw new Error('No ref specified for this Observable!');\n    }\n    return this.$ref.remove();\n  }\n}\n"]}