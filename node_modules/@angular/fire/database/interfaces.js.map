{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../src/database/interfaces.ts"],"names":[],"mappings":"AAwCC,CAAC","sourcesContent":["import { Observable } from 'rxjs';\nimport { database } from 'firebase/app';\n\nexport type FirebaseOperation = string | database.Reference | database.DataSnapshot;\n\nexport interface AngularFireList<T> {\n  query: DatabaseQuery;\n  valueChanges(events?: ChildEvent[]): Observable<T[]>;\n  snapshotChanges(events?: ChildEvent[]): Observable<SnapshotAction<T>[]>;\n  stateChanges(events?: ChildEvent[]): Observable<SnapshotAction<T>>;\n  auditTrail(events?: ChildEvent[]): Observable<SnapshotAction<T>[]>;\n  update(item: FirebaseOperation, data: T): Promise<void>;\n  set(item: FirebaseOperation, data: T): Promise<void>;\n  push(data: T): database.ThenableReference;\n  remove(item?: FirebaseOperation): Promise<void>;\n}\n\nexport interface AngularFireObject<T> {\n  query: DatabaseQuery;\n  valueChanges(): Observable<T | null>;\n  snapshotChanges(): Observable<SnapshotAction<T>>;\n  update(data: Partial<T>): Promise<void>;\n  set(data: T): Promise<void>;\n  remove(): Promise<void>;\n}\n\nexport interface FirebaseOperationCases {\n  stringCase: () => Promise<void>;\n  firebaseCase?: () => Promise<void>;\n  snapshotCase?: () => Promise<void>;\n  unwrappedSnapshotCase?: () => Promise<void>;\n}\n\nexport type QueryFn = (ref: DatabaseReference) => DatabaseQuery;\nexport type ChildEvent = 'child_added' | 'child_removed' | 'child_changed' | 'child_moved';\nexport type ListenEvent = 'value' | ChildEvent;\n\nexport interface Action<T> {\n  type: ListenEvent;\n  payload: T;\n};\n\nexport interface AngularFireAction<T> extends Action<T> {\n  prevKey: string | null | undefined;\n  key: string | null;\n}\n\nexport type SnapshotAction<T> = AngularFireAction<DatabaseSnapshot<T>>;\n\nexport type Primitive = number | string | boolean;\n\nexport interface DatabaseSnapshotExists<T> extends database.DataSnapshot {\n  exists(): true;\n  val(): T;\n  forEach(action: (a: DatabaseSnapshot<T>) => boolean): boolean;\n}\n\nexport interface DatabaseSnapshotDoesNotExist<T> extends database.DataSnapshot {\n  exists(): false;\n  val(): null;\n  forEach(action: (a: DatabaseSnapshot<T>) => boolean): boolean;\n}\n\nexport type DatabaseSnapshot<T> = DatabaseSnapshotExists<T> | DatabaseSnapshotDoesNotExist<T>;\n\nexport type DatabaseReference = database.Reference;\nexport type DatabaseQuery = database.Query;\nexport type DataSnapshot = database.DataSnapshot;\nexport type QueryReference = DatabaseReference | DatabaseQuery;\nexport type PathReference = QueryReference | string;\n"]}